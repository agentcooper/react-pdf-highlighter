var Tl=Object.defineProperty,xl=Object.defineProperties;var kl=Object.getOwnPropertyDescriptors;var fo=Object.getOwnPropertySymbols;var Rl=Object.prototype.hasOwnProperty,Ml=Object.prototype.propertyIsEnumerable;var po=(e,i,a)=>i in e?Tl(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,Nr=(e,i)=>{for(var a in i||(i={}))Rl.call(i,a)&&po(e,a,i[a]);if(fo)for(var a of fo(i))Ml.call(i,a)&&po(e,a,i[a]);return e},Br=(e,i)=>xl(e,kl(i));var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(e){if(e.__esModule)return e;var i=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),i}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var react={exports:{}},react_production_min={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var i={},a=0;a<10;a++)i["_"+String.fromCharCode(a)]=a;var s=Object.getOwnPropertyNames(i).map(function(c){return i[c]});if(s.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(c){o[c]=c}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(e,i){for(var a,s=toObject(e),o,c=1;c<arguments.length;c++){a=Object(arguments[c]);for(var f in a)hasOwnProperty.call(a,f)&&(s[f]=a[f]);if(getOwnPropertySymbols){o=getOwnPropertySymbols(a);for(var d=0;d<o.length;d++)propIsEnumerable.call(a,o[d])&&(s[o[d]]=a[o[d]])}}return s};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=objectAssign,n=60103,p=60106;react_production_min.Fragment=60107;react_production_min.StrictMode=60108;react_production_min.Profiler=60114;var q=60109,r$1=60110,t=60112;react_production_min.Suspense=60113;var u=60115,v=60116;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;n=w("react.element"),p=w("react.portal"),react_production_min.Fragment=w("react.fragment"),react_production_min.StrictMode=w("react.strict_mode"),react_production_min.Profiler=w("react.profiler"),q=w("react.provider"),r$1=w("react.context"),t=w("react.forward_ref"),react_production_min.Suspense=w("react.suspense"),u=w("react.memo"),v=w("react.lazy")}var x=typeof Symbol=="function"&&Symbol.iterator;function y$1(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}function z(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$1={};function C(e,i,a){this.props=e,this.context=i,this.refs=B$1,this.updater=a||A}C.prototype.isReactComponent={};C.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(z(85));this.updater.enqueueSetState(this,e,i,"setState")};C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function D$1(){}D$1.prototype=C.prototype;function E$1(e,i,a){this.props=e,this.context=i,this.refs=B$1,this.updater=a||A}var F$1=E$1.prototype=new D$1;F$1.constructor=E$1;l(F$1,C.prototype);F$1.isPureReactComponent=!0;var G$1={current:null},H$1=Object.prototype.hasOwnProperty,I$1={key:!0,ref:!0,__self:!0,__source:!0};function J(e,i,a){var s,o={},c=null,f=null;if(i!=null)for(s in i.ref!==void 0&&(f=i.ref),i.key!==void 0&&(c=""+i.key),i)H$1.call(i,s)&&!I$1.hasOwnProperty(s)&&(o[s]=i[s]);var d=arguments.length-2;if(d===1)o.children=a;else if(1<d){for(var j=Array(d),b=0;b<d;b++)j[b]=arguments[b+2];o.children=j}if(e&&e.defaultProps)for(s in d=e.defaultProps,d)o[s]===void 0&&(o[s]=d[s]);return{$$typeof:n,type:e,key:c,ref:f,props:o,_owner:G$1.current}}function K(e,i){return{$$typeof:n,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function L(e){return typeof e=="object"&&e!==null&&e.$$typeof===n}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return i[a]})}var M$1=/\/+/g;function N$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function O$1(e,i,a,s,o){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(c){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case n:case p:f=!0}}if(f)return f=e,o=o(f),e=s===""?"."+N$1(f,0):s,Array.isArray(o)?(a="",e!=null&&(a=e.replace(M$1,"$&/")+"/"),O$1(o,i,a,"",function(b){return b})):o!=null&&(L(o)&&(o=K(o,a+(!o.key||f&&f.key===o.key?"":(""+o.key).replace(M$1,"$&/")+"/")+e)),i.push(o)),1;if(f=0,s=s===""?".":s+":",Array.isArray(e))for(var d=0;d<e.length;d++){c=e[d];var j=s+N$1(c,d);f+=O$1(c,i,a,j,o)}else if(j=y$1(e),typeof j=="function")for(e=j.call(e),d=0;!(c=e.next()).done;)c=c.value,j=s+N$1(c,d++),f+=O$1(c,i,a,j,o);else if(c==="object")throw i=""+e,Error(z(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i));return f}function P$1(e,i,a){if(e==null)return e;var s=[],o=0;return O$1(e,s,"","",function(c){return i.call(a,c,o++)}),s}function Q(e){if(e._status===-1){var i=e._result;i=i(),e._status=0,e._result=i,i.then(function(a){e._status===0&&(a=a.default,e._status=1,e._result=a)},function(a){e._status===0&&(e._status=2,e._result=a)})}if(e._status===1)return e._result;throw e._result}var R$1={current:null};function S$1(){var e=R$1.current;if(e===null)throw Error(z(321));return e}var T$1={ReactCurrentDispatcher:R$1,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G$1,IsSomeRendererActing:{current:!1},assign:l};react_production_min.Children={map:P$1,forEach:function(e,i,a){P$1(e,function(){i.apply(this,arguments)},a)},count:function(e){var i=0;return P$1(e,function(){i++}),i},toArray:function(e){return P$1(e,function(i){return i})||[]},only:function(e){if(!L(e))throw Error(z(143));return e}};react_production_min.Component=C;react_production_min.PureComponent=E$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$1;react_production_min.cloneElement=function(e,i,a){if(e==null)throw Error(z(267,e));var s=l({},e.props),o=e.key,c=e.ref,f=e._owner;if(i!=null){if(i.ref!==void 0&&(c=i.ref,f=G$1.current),i.key!==void 0&&(o=""+i.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(j in i)H$1.call(i,j)&&!I$1.hasOwnProperty(j)&&(s[j]=i[j]===void 0&&d!==void 0?d[j]:i[j])}var j=arguments.length-2;if(j===1)s.children=a;else if(1<j){d=Array(j);for(var b=0;b<j;b++)d[b]=arguments[b+2];s.children=d}return{$$typeof:n,type:e.type,key:o,ref:c,props:s,_owner:f}};react_production_min.createContext=function(e,i){return i===void 0&&(i=null),e={$$typeof:r$1,_calculateChangedBits:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:q,_context:e},e.Consumer=e};react_production_min.createElement=J;react_production_min.createFactory=function(e){var i=J.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:t,render:e}};react_production_min.isValidElement=L;react_production_min.lazy=function(e){return{$$typeof:v,_payload:{_status:-1,_result:e},_init:Q}};react_production_min.memo=function(e,i){return{$$typeof:u,type:e,compare:i===void 0?null:i}};react_production_min.useCallback=function(e,i){return S$1().useCallback(e,i)};react_production_min.useContext=function(e,i){return S$1().useContext(e,i)};react_production_min.useDebugValue=function(){};react_production_min.useEffect=function(e,i){return S$1().useEffect(e,i)};react_production_min.useImperativeHandle=function(e,i,a){return S$1().useImperativeHandle(e,i,a)};react_production_min.useLayoutEffect=function(e,i){return S$1().useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return S$1().useMemo(e,i)};react_production_min.useReducer=function(e,i,a){return S$1().useReducer(e,i,a)};react_production_min.useRef=function(e){return S$1().useRef(e)};react_production_min.useState=function(e){return S$1().useState(e)};react_production_min.version="17.0.2";react.exports=react_production_min;var React$1=react.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var i,a,s,o;if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var f=Date,d=f.now();e.unstable_now=function(){return f.now()-d}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var j=null,b=null,_e=function(){if(j!==null)try{var vt=e.unstable_now();j(!0,vt),j=null}catch(Wt){throw setTimeout(_e,0),Wt}};i=function(vt){j!==null?setTimeout(i,0,vt):(j=vt,setTimeout(_e,0))},a=function(vt,Wt){b=setTimeout(vt,Wt)},s=function(){clearTimeout(b)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var pt=window.setTimeout,et=window.clearTimeout;if(typeof console!="undefined"){var nt=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof nt!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var at=!1,it=null,rt=-1,ut=5,_=0;e.unstable_shouldYield=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(vt){0>vt||125<vt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ut=0<vt?Math.floor(1e3/vt):5};var tt=new MessageChannel,$=tt.port2;tt.port1.onmessage=function(){if(it!==null){var vt=e.unstable_now();_=vt+ut;try{it(!0,vt)?$.postMessage(null):(at=!1,it=null)}catch(Wt){throw $.postMessage(null),Wt}}else at=!1},i=function(vt){it=vt,at||(at=!0,$.postMessage(null))},a=function(vt,Wt){rt=pt(function(){vt(e.unstable_now())},Wt)},s=function(){et(rt),rt=-1}}function g(vt,Wt){var jt=vt.length;vt.push(Wt);e:for(;;){var Rt=jt-1>>>1,ht=vt[Rt];if(ht!==void 0&&0<ct(ht,Wt))vt[Rt]=Wt,vt[jt]=ht,jt=Rt;else break e}}function k(vt){return vt=vt[0],vt===void 0?null:vt}function ot(vt){var Wt=vt[0];if(Wt!==void 0){var jt=vt.pop();if(jt!==Wt){vt[0]=jt;e:for(var Rt=0,ht=vt.length;Rt<ht;){var gt=2*(Rt+1)-1,Ot=vt[gt],Ft=gt+1,lt=vt[Ft];if(Ot!==void 0&&0>ct(Ot,jt))lt!==void 0&&0>ct(lt,Ot)?(vt[Rt]=lt,vt[Ft]=jt,Rt=Ft):(vt[Rt]=Ot,vt[gt]=jt,Rt=gt);else if(lt!==void 0&&0>ct(lt,jt))vt[Rt]=lt,vt[Ft]=jt,Rt=Ft;else break e}}return Wt}return null}function ct(vt,Wt){var jt=vt.sortIndex-Wt.sortIndex;return jt!==0?jt:vt.id-Wt.id}var dt=[],ft=[],bt=1,Mt=null,_t=3,xt=!1,wt=!1,At=!1;function Et(vt){for(var Wt=k(ft);Wt!==null;){if(Wt.callback===null)ot(ft);else if(Wt.startTime<=vt)ot(ft),Wt.sortIndex=Wt.expirationTime,g(dt,Wt);else break;Wt=k(ft)}}function yt(vt){if(At=!1,Et(vt),!wt)if(k(dt)!==null)wt=!0,i(Pt);else{var Wt=k(ft);Wt!==null&&a(yt,Wt.startTime-vt)}}function Pt(vt,Wt){wt=!1,At&&(At=!1,s()),xt=!0;var jt=_t;try{for(Et(Wt),Mt=k(dt);Mt!==null&&(!(Mt.expirationTime>Wt)||vt&&!e.unstable_shouldYield());){var Rt=Mt.callback;if(typeof Rt=="function"){Mt.callback=null,_t=Mt.priorityLevel;var ht=Rt(Mt.expirationTime<=Wt);Wt=e.unstable_now(),typeof ht=="function"?Mt.callback=ht:Mt===k(dt)&&ot(dt),Et(Wt)}else ot(dt);Mt=k(dt)}if(Mt!==null)var gt=!0;else{var Ot=k(ft);Ot!==null&&a(yt,Ot.startTime-Wt),gt=!1}return gt}finally{Mt=null,_t=jt,xt=!1}}var It=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(vt){vt.callback=null},e.unstable_continueExecution=function(){wt||xt||(wt=!0,i(Pt))},e.unstable_getCurrentPriorityLevel=function(){return _t},e.unstable_getFirstCallbackNode=function(){return k(dt)},e.unstable_next=function(vt){switch(_t){case 1:case 2:case 3:var Wt=3;break;default:Wt=_t}var jt=_t;_t=Wt;try{return vt()}finally{_t=jt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=It,e.unstable_runWithPriority=function(vt,Wt){switch(vt){case 1:case 2:case 3:case 4:case 5:break;default:vt=3}var jt=_t;_t=vt;try{return Wt()}finally{_t=jt}},e.unstable_scheduleCallback=function(vt,Wt,jt){var Rt=e.unstable_now();switch(typeof jt=="object"&&jt!==null?(jt=jt.delay,jt=typeof jt=="number"&&0<jt?Rt+jt:Rt):jt=Rt,vt){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=jt+ht,vt={id:bt++,callback:Wt,priorityLevel:vt,startTime:jt,expirationTime:ht,sortIndex:-1},jt>Rt?(vt.sortIndex=jt,g(ft,vt),k(dt)===null&&vt===k(ft)&&(At?s():At=!0,a(yt,jt-Rt))):(vt.sortIndex=ht,g(dt,vt),wt||xt||(wt=!0,i(Pt))),vt},e.unstable_wrapCallback=function(vt){var Wt=_t;return function(){var jt=_t;_t=Wt;try{return vt.apply(this,arguments)}finally{_t=jt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,m=objectAssign,r=scheduler.exports;function y(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(e,i){ea(e,i),ea(e+"Capture",i)}function ea(e,i){for(ca[e]=i,e=0;e<i.length;e++)ba.add(i[e])}var fa=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ha=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia=Object.prototype.hasOwnProperty,ja={},ka={};function la(e){return ia.call(ka,e)?!0:ia.call(ja,e)?!1:ha.test(e)?ka[e]=!0:(ja[e]=!0,!1)}function ma(e,i,a,s){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function na(e,i,a,s){if(i===null||typeof i=="undefined"||ma(e,i,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function B(e,i,a,s,o,c,f){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=a,this.propertyName=e,this.type=i,this.sanitizeURL=c,this.removeEmptyString=f}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){D[e]=new B(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];D[i]=new B(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){D[e]=new B(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){D[e]=new B(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){D[e]=new B(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){D[e]=new B(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){D[e]=new B(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){D[e]=new B(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){D[e]=new B(e,5,!1,e.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function pa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(oa,pa);D[i]=new B(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(oa,pa);D[i]=new B(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(oa,pa);D[i]=new B(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){D[e]=new B(e,1,!1,e.toLowerCase(),null,!1,!1)});D.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){D[e]=new B(e,1,!1,e.toLowerCase(),null,!0,!0)});function qa(e,i,a,s){var o=D.hasOwnProperty(i)?D[i]:null,c=o!==null?o.type===0:s?!1:!(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N");c||(na(i,a,o,s)&&(a=null),s||o===null?la(i)&&(a===null?e.removeAttribute(i):e.setAttribute(i,""+a)):o.mustUseProperty?e[o.propertyName]=a===null?o.type===3?!1:"":a:(i=o.attributeName,s=o.attributeNamespace,a===null?e.removeAttribute(i):(o=o.type,a=o===3||o===4&&a===!0?"":""+a,s?e.setAttributeNS(s,i,a):e.setAttribute(i,a))))}var ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;if(typeof Symbol=="function"&&Symbol.for){var E=Symbol.for;sa=E("react.element"),ta=E("react.portal"),ua=E("react.fragment"),wa=E("react.strict_mode"),xa=E("react.profiler"),ya=E("react.provider"),za=E("react.context"),Aa=E("react.forward_ref"),Ba=E("react.suspense"),Ca=E("react.suspense_list"),Da=E("react.memo"),Ea=E("react.lazy"),Fa=E("react.block"),E("react.scope"),Ga=E("react.opaque.id"),Ha=E("react.debug_trace_mode"),Ia=E("react.offscreen"),Ja=E("react.legacy_hidden")}var Ka=typeof Symbol=="function"&&Symbol.iterator;function La(e){return e===null||typeof e!="object"?null:(e=Ka&&e[Ka]||e["@@iterator"],typeof e=="function"?e:null)}var Ma;function Na(e){if(Ma===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ma=i&&i[1]||""}return`
`+Ma+e}var Oa=!1;function Pa(e,i){if(!e||Oa)return"";Oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(j){var s=j}Reflect.construct(e,[],i)}else{try{i.call()}catch(j){s=j}e.call(i.prototype)}else{try{throw Error()}catch(j){s=j}e()}}catch(j){if(j&&s&&typeof j.stack=="string"){for(var o=j.stack.split(`
`),c=s.stack.split(`
`),f=o.length-1,d=c.length-1;1<=f&&0<=d&&o[f]!==c[d];)d--;for(;1<=f&&0<=d;f--,d--)if(o[f]!==c[d]){if(f!==1||d!==1)do if(f--,d--,0>d||o[f]!==c[d])return`
`+o[f].replace(" at new "," at ");while(1<=f&&0<=d);break}}}finally{Oa=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Na(e):""}function Qa(e){switch(e.tag){case 5:return Na(e.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return e=Pa(e.type,!1),e;case 11:return e=Pa(e.type.render,!1),e;case 22:return e=Pa(e.type._render,!1),e;case 1:return e=Pa(e.type,!0),e;default:return""}}function Ra(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ua:return"Fragment";case ta:return"Portal";case xa:return"Profiler";case wa:return"StrictMode";case Ba:return"Suspense";case Ca:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case za:return(e.displayName||"Context")+".Consumer";case ya:return(e._context.displayName||"Context")+".Provider";case Aa:var i=e.render;return i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case Da:return Ra(e.type);case Fa:return Ra(e._render);case Ea:i=e._payload,e=e._init;try{return Ra(e(i))}catch{}}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),s=""+e[i];if(!e.hasOwnProperty(i)&&typeof a!="undefined"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,c=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return o.call(this)},set:function(f){s=""+f,c.call(this,f)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(f){s=""+f},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),s="";return e&&(s=Ta(e)?e.checked?"true":"false":e.value),e=s,e!==a?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var a=i.checked;return m({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a!=null?a:e._wrapperState.initialChecked})}function Za(e,i){var a=i.defaultValue==null?"":i.defaultValue,s=i.checked!=null?i.checked:i.defaultChecked;a=Sa(i.value!=null?i.value:a),e._wrapperState={initialChecked:s,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function $a(e,i){i=i.checked,i!=null&&qa(e,"checked",i,!1)}function ab(e,i){$a(e,i);var a=Sa(i.value),s=i.type;if(a!=null)s==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?bb(e,i.type,a):i.hasOwnProperty("defaultValue")&&bb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function cb(e,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var s=i.type;if(!(s!=="submit"&&s!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,a||i===e.value||(e.value=i),e.defaultValue=i}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function bb(e,i,a){(i!=="number"||Xa(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}function db(e){var i="";return aa.Children.forEach(e,function(a){a!=null&&(i+=a)}),i}function eb(e,i){return e=m({children:void 0},i),(i=db(i.children))&&(e.children=i),e}function fb(e,i,a,s){if(e=e.options,i){i={};for(var o=0;o<a.length;o++)i["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=i.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Sa(a),i=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}i!==null||e[o].disabled||(i=e[o])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(y(91));return m({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(y(92));if(Array.isArray(a)){if(!(1>=a.length))throw Error(y(93));a=a[0]}i=a}i==null&&(i=""),a=i}e._wrapperState={initialValue:Sa(a)}}function ib(e,i){var a=Sa(i.value),s=Sa(i.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),i.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),s!=null&&(e.defaultValue=""+s)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}var kb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function lb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?lb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nb,ob=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(i,a,s,o){MSApp.execUnsafeLocalFunction(function(){return e(i,a,s,o)})}:e}(function(e,i){if(e.namespaceURI!==kb.svg||"innerHTML"in e)e.innerHTML=i;else{for(nb=nb||document.createElement("div"),nb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=nb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function pb(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(qb).forEach(function(e){rb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),qb[i]=qb[e]})});function sb(e,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||qb.hasOwnProperty(e)&&qb[e]?(""+i).trim():i+"px"}function tb(e,i){e=e.style;for(var a in i)if(i.hasOwnProperty(a)){var s=a.indexOf("--")===0,o=sb(a,i[a],s);a==="float"&&(a="cssFloat"),s?e.setProperty(a,o):e[a]=o}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(e,i){if(i){if(ub[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(y(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(y(60));if(!(typeof i.dangerouslySetInnerHTML=="object"&&"__html"in i.dangerouslySetInnerHTML))throw Error(y(61))}if(i.style!=null&&typeof i.style!="object")throw Error(y(62))}}function wb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(y(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(e,i,a,s,o){return e(i,a,s,o)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){(zb!==null||Ab!==null)&&(Ib(),Fb())}function Nb(e,i,a){if(Lb)return e(i,a);Lb=!0;try{return Jb(e,i,a)}finally{Lb=!1,Mb()}}function Ob(e,i){var a=e.stateNode;if(a===null)return null;var s=Db(a);if(s===null)return null;a=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(y(231,i,typeof a));return a}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}}),window.addEventListener("test",Qb,Qb),window.removeEventListener("test",Qb,Qb)}catch{Pb=!1}function Rb(e,i,a,s,o,c,f,d,j){var b=Array.prototype.slice.call(arguments,3);try{i.apply(a,b)}catch(_e){this.onError(_e)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(e){Sb=!0,Tb=e}};function Xb(e,i,a,s,o,c,f,d,j){Sb=!1,Tb=null,Rb.apply(Wb,arguments)}function Yb(e,i,a,s,o,c,f,d,j){if(Xb.apply(this,arguments),Sb){if(Sb){var b=Tb;Sb=!1,Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=b)}}function Zb(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&1026)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function $b(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function ac(e){if(Zb(e)!==e)throw Error(y(188))}function bc(e){var i=e.alternate;if(!i){if(i=Zb(e),i===null)throw Error(y(188));return i!==e?null:e}for(var a=e,s=i;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return ac(o),e;if(c===s)return ac(o),i;c=c.sibling}throw Error(y(188))}if(a.return!==s.return)a=o,s=c;else{for(var f=!1,d=o.child;d;){if(d===a){f=!0,a=o,s=c;break}if(d===s){f=!0,s=o,a=c;break}d=d.sibling}if(!f){for(d=c.child;d;){if(d===a){f=!0,a=c,s=o;break}if(d===s){f=!0,s=c,a=o;break}d=d.sibling}if(!f)throw Error(y(189))}}if(a.alternate!==s)throw Error(y(190))}if(a.tag!==3)throw Error(y(188));return a.stateNode.current===a?e:i}function cc(e){if(e=bc(e),!e)return null;for(var i=e;;){if(i.tag===5||i.tag===6)return i;if(i.child)i.child.return=i,i=i.child;else{if(i===e)break;for(;!i.sibling;){if(!i.return||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}}return null}function dc(e,i){for(var a=e.alternate;i!==null;){if(i===e||i===a)return!0;i=i.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,i,a,s,o){return{blockedOn:e,domEventName:i,eventSystemFlags:a|16,nativeEvent:o,targetContainers:[s]}}function sc(e,i){switch(e){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":nc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(i.pointerId)}}function tc(e,i,a,s,o,c){return e===null||e.nativeEvent!==c?(e=rc(i,a,s,o,c),i!==null&&(i=Cb(i),i!==null&&fc(i)),e):(e.eventSystemFlags|=s,i=e.targetContainers,o!==null&&i.indexOf(o)===-1&&i.push(o),e)}function uc(e,i,a,s,o){switch(i){case"focusin":return kc=tc(kc,e,i,a,s,o),!0;case"dragenter":return lc=tc(lc,e,i,a,s,o),!0;case"mouseover":return mc=tc(mc,e,i,a,s,o),!0;case"pointerover":var c=o.pointerId;return nc.set(c,tc(nc.get(c)||null,e,i,a,s,o)),!0;case"gotpointercapture":return c=o.pointerId,oc.set(c,tc(oc.get(c)||null,e,i,a,s,o)),!0}return!1}function vc(e){var i=wc(e.target);if(i!==null){var a=Zb(i);if(a!==null){if(i=a.tag,i===13){if(i=$b(a),i!==null){e.blockedOn=i,hc(e.lanePriority,function(){r.unstable_runWithPriority(e.priority,function(){gc(a)})});return}}else if(i===3&&a.stateNode.hydrate){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(a!==null)return i=Cb(a),i!==null&&fc(i),e.blockedOn=a,!1;i.shift()}return!0}function zc(e,i,a){xc(e)&&a.delete(i)}function Ac(){for(ic=!1;0<jc.length;){var e=jc[0];if(e.blockedOn!==null){e=Cb(e.blockedOn),e!==null&&ec(e);break}for(var i=e.targetContainers;0<i.length;){var a=yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(a!==null){e.blockedOn=a;break}i.shift()}e.blockedOn===null&&jc.shift()}kc!==null&&xc(kc)&&(kc=null),lc!==null&&xc(lc)&&(lc=null),mc!==null&&xc(mc)&&(mc=null),nc.forEach(zc),oc.forEach(zc)}function Bc(e,i){e.blockedOn===i&&(e.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}function Cc(e){function i(o){return Bc(o,e)}if(0<jc.length){Bc(jc[0],e);for(var a=1;a<jc.length;a++){var s=jc[a];s.blockedOn===e&&(s.blockedOn=null)}}for(kc!==null&&Bc(kc,e),lc!==null&&Bc(lc,e),mc!==null&&Bc(mc,e),nc.forEach(i),oc.forEach(i),a=0;a<pc.length;a++)s=pc[a],s.blockedOn===e&&(s.blockedOn=null);for(;0<pc.length&&(a=pc[0],a.blockedOn===null);)vc(a),a.blockedOn===null&&pc.shift()}function Dc(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};fa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Hc(e){if(Fc[e])return Fc[e];if(!Ec[e])return e;var i=Ec[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gc)return Fc[e]=i[a];return e}var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(e,i){for(var a=0;a<e.length;a+=2){var s=e[a],o=e[a+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Nc.set(s,i),Mc.set(s,o),da(o,[s])}}var Qc=r.unstable_now;Qc();var F=8;function Rc(e){if((1&e)!==0)return F=15,1;if((2&e)!==0)return F=14,2;if((4&e)!==0)return F=13,4;var i=24&e;return i!==0?(F=12,i):(e&32)!==0?(F=11,32):(i=192&e,i!==0?(F=10,i):(e&256)!==0?(F=9,256):(i=3584&e,i!==0?(F=8,i):(e&4096)!==0?(F=7,4096):(i=4186112&e,i!==0?(F=6,i):(i=62914560&e,i!==0?(F=5,i):e&67108864?(F=4,67108864):(e&134217728)!==0?(F=3,134217728):(i=805306368&e,i!==0?(F=2,i):(1073741824&e)!==0?(F=1,1073741824):(F=8,e))))))}function Sc(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,e))}}function Uc(e,i){var a=e.pendingLanes;if(a===0)return F=0;var s=0,o=0,c=e.expiredLanes,f=e.suspendedLanes,d=e.pingedLanes;if(c!==0)s=c,o=F=15;else if(c=a&134217727,c!==0){var j=c&~f;j!==0?(s=Rc(j),o=F):(d&=c,d!==0&&(s=Rc(d),o=F))}else c=a&~f,c!==0?(s=Rc(c),o=F):d!==0&&(s=Rc(d),o=F);if(s===0)return 0;if(s=31-Vc(s),s=a&((0>s?0:1<<s)<<1)-1,i!==0&&i!==s&&(i&f)===0){if(Rc(i),o<=F)return i;F=o}if(i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=s;0<i;)a=31-Vc(i),o=1<<a,s|=e[a],i&=~o;return s}function Wc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xc(e,i){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Yc(24&~i),e===0?Xc(10,i):e;case 10:return e=Yc(192&~i),e===0?Xc(8,i):e;case 8:return e=Yc(3584&~i),e===0&&(e=Yc(4186112&~i),e===0&&(e=512)),e;case 2:return i=Yc(805306368&~i),i===0&&(i=268435456),i}throw Error(y(358,e))}function Yc(e){return e&-e}function Zc(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function $c(e,i,a){e.pendingLanes|=i;var s=i-1;e.suspendedLanes&=s,e.pingedLanes&=s,e=e.eventTimes,i=31-Vc(i),e[i]=a}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(e){return e===0?32:31-(bd(e)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(e,i,a,s){Kb||Ib();var o=hd,c=Kb;Kb=!0;try{Hb(o,e,i,a,s)}finally{(Kb=c)||Mb()}}function id(e,i,a,s){ed(dd,hd.bind(null,e,i,a,s))}function hd(e,i,a,s){if(fd){var o;if((o=(i&4)===0)&&0<jc.length&&-1<qc.indexOf(e))e=rc(null,e,i,a,s),jc.push(e);else{var c=yc(e,i,a,s);if(c===null)o&&sc(e,s);else{if(o){if(-1<qc.indexOf(e)){e=rc(c,e,i,a,s),jc.push(e);return}if(uc(c,e,i,a,s))return;sc(e,s)}jd(e,i,s,null,a)}}}}function yc(e,i,a,s){var o=xb(s);if(o=wc(o),o!==null){var c=Zb(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=$b(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.hydrate)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return jd(e,i,s,o,a),null}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,a=i.length,s,o="value"in kd?kd.value:kd.textContent,c=o.length;for(e=0;e<a&&i[e]===o[e];e++);var f=a-e;for(s=1;s<=f&&i[a-s]===o[c-s];s++);return md=o.slice(e,1<s?1-s:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(a,s,o,c,f){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(a=e[d],this[d]=a?a(c):c[d]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=m({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&"CompositionEvent"in window,be=null;fa&&"documentMode"in document&&(be=document.documentMode);var ce=fa&&"TextEvent"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,i){switch(e){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return e=i.data,e===ee&&fe?null:e;default:return null}}function ke(e,i){if(ie)return e==="compositionend"||!ae&&ge(e,i)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le[e.type]:i==="textarea"}function ne(e,i,a,s){Eb(s),i=oe(i,"onChange"),0<i.length&&(a=new td("onChange","change",null,a,s),e.push({event:a,listeners:i}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(fa){var xe;if(fa){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var i=[];if(ne(i,qe,e,xb(e)),e=re,Kb)e(i);else{Kb=!0;try{Gb(e,i)}finally{Kb=!1,Mb()}}}}function Ce(e,i,a){e==="focusin"?(Ae(),pe=i,qe=a,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,i){if(e==="click")return te(i)}function Fe(e,i){if(e==="input"||e==="change")return te(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;function Je(e,i){if(He(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),s=Object.keys(i);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++)if(!Ie.call(i,a[s])||!He(e[a[s]],i[a[s]]))return!1;return!0}function Ke(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Le(e,i){var a=Ke(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=i&&s>=i)return{node:a,offset:i-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ke(a)}}function Me(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Me(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ne(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Oe(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Pe=fa&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(s)||(s=Qe,"selectionStart"in s&&Oe(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Se&&Je(Se,s)||(Se=s,s=oe(Re,"onSelect"),0<s.length&&(i=new td("onSelect","select",null,i,a),e.push({event:i,listeners:s}),i.target=Qe)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Pc(Oc,2);for(var Ve="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe));function Ze(e,i,a){var s=e.type||"unknown-event";e.currentTarget=a,Yb(s,i,void 0,e),e.currentTarget=null}function se(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var c=void 0;if(i)for(var f=s.length-1;0<=f;f--){var d=s[f],j=d.instance,b=d.currentTarget;if(d=d.listener,j!==c&&o.isPropagationStopped())break e;Ze(o,d,b),c=j}else for(f=0;f<s.length;f++){if(d=s[f],j=d.instance,b=d.currentTarget,d=d.listener,j!==c&&o.isPropagationStopped())break e;Ze(o,d,b),c=j}}}if(Ub)throw e=Vb,Ub=!1,Vb=null,e}function G(e,i){var a=$e(i),s=e+"__bubble";a.has(s)||(af(i,e,2,!1),a.add(s))}var bf="_reactListening"+Math.random().toString(36).slice(2);function cf(e){e[bf]||(e[bf]=!0,ba.forEach(function(i){Ye.has(i)||df(i,!1,e,null),df(i,!0,e,null)}))}function df(e,i,a,s){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,c=a;if(e==="selectionchange"&&a.nodeType!==9&&(c=a.ownerDocument),s!==null&&!i&&Ye.has(e)){if(e!=="scroll")return;o|=2,c=s}var f=$e(c),d=e+"__"+(i?"capture":"bubble");f.has(d)||(i&&(o|=4),af(c,e,o,i),f.add(d))}function af(e,i,a,s){var o=Nc.get(i);switch(o===void 0?2:o){case 0:o=gd;break;case 1:o=id;break;default:o=hd}a=o.bind(null,i,a,e),o=void 0,!Pb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(i,a,{capture:!0,passive:o}):e.addEventListener(i,a,!0):o!==void 0?e.addEventListener(i,a,{passive:o}):e.addEventListener(i,a,!1)}function jd(e,i,a,s,o){var c=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var d=s.stateNode.containerInfo;if(d===o||d.nodeType===8&&d.parentNode===o)break;if(f===4)for(f=s.return;f!==null;){var j=f.tag;if((j===3||j===4)&&(j=f.stateNode.containerInfo,j===o||j.nodeType===8&&j.parentNode===o))return;f=f.return}for(;d!==null;){if(f=wc(d),f===null)return;if(j=f.tag,j===5||j===6){s=c=f;continue e}d=d.parentNode}}s=s.return}Nb(function(){var b=c,_e=xb(a),pt=[];e:{var et=Mc.get(e);if(et!==void 0){var nt=td,at=e;switch(e){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":nt=Rd;break;case"focusin":at="focus",nt=Fd;break;case"focusout":at="blur",nt=Fd;break;case"beforeblur":case"afterblur":nt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Vd;break;case Ic:case Jc:case Kc:nt=Hd;break;case Lc:nt=Xd;break;case"scroll":nt=vd;break;case"wheel":nt=Zd;break;case"copy":case"cut":case"paste":nt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Td}var it=(i&4)!==0,rt=!it&&e==="scroll",ut=it?et!==null?et+"Capture":null:et;it=[];for(var _=b,tt;_!==null;){tt=_;var $=tt.stateNode;if(tt.tag===5&&$!==null&&(tt=$,ut!==null&&($=Ob(_,ut),$!=null&&it.push(ef(_,$,tt)))),rt)break;_=_.return}0<it.length&&(et=new nt(et,at,null,a,_e),pt.push({event:et,listeners:it}))}}if((i&7)===0){e:{if(et=e==="mouseover"||e==="pointerover",nt=e==="mouseout"||e==="pointerout",et&&(i&16)===0&&(at=a.relatedTarget||a.fromElement)&&(wc(at)||at[ff]))break e;if((nt||et)&&(et=_e.window===_e?_e:(et=_e.ownerDocument)?et.defaultView||et.parentWindow:window,nt?(at=a.relatedTarget||a.toElement,nt=b,at=at?wc(at):null,at!==null&&(rt=Zb(at),at!==rt||at.tag!==5&&at.tag!==6)&&(at=null)):(nt=null,at=b),nt!==at)){if(it=Bd,$="onMouseLeave",ut="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(it=Td,$="onPointerLeave",ut="onPointerEnter",_="pointer"),rt=nt==null?et:ue(nt),tt=at==null?et:ue(at),et=new it($,_+"leave",nt,a,_e),et.target=rt,et.relatedTarget=tt,$=null,wc(_e)===b&&(it=new it(ut,_+"enter",at,a,_e),it.target=tt,it.relatedTarget=rt,$=it),rt=$,nt&&at)t:{for(it=nt,ut=at,_=0,tt=it;tt;tt=gf(tt))_++;for(tt=0,$=ut;$;$=gf($))tt++;for(;0<_-tt;)it=gf(it),_--;for(;0<tt-_;)ut=gf(ut),tt--;for(;_--;){if(it===ut||ut!==null&&it===ut.alternate)break t;it=gf(it),ut=gf(ut)}it=null}else it=null;nt!==null&&hf(pt,et,nt,it,!1),at!==null&&rt!==null&&hf(pt,rt,at,it,!0)}}e:{if(et=b?ue(b):window,nt=et.nodeName&&et.nodeName.toLowerCase(),nt==="select"||nt==="input"&&et.type==="file")var g=ve;else if(me(et))if(we)g=Fe;else{g=De;var k=Ce}else(nt=et.nodeName)&&nt.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(g=Ee);if(g&&(g=g(e,b))){ne(pt,g,a,_e);break e}k&&k(e,et,b),e==="focusout"&&(k=et._wrapperState)&&k.controlled&&et.type==="number"&&bb(et,"number",et.value)}switch(k=b?ue(b):window,e){case"focusin":(me(k)||k.contentEditable==="true")&&(Qe=k,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(pt,a,_e);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(pt,a,_e)}var ot;if(ae)e:{switch(e){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else ie?ge(e,a)&&(ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ct="onCompositionStart");ct&&(de&&a.locale!=="ko"&&(ie||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&ie&&(ot=nd()):(kd=_e,ld="value"in kd?kd.value:kd.textContent,ie=!0)),k=oe(b,ct),0<k.length&&(ct=new Ld(ct,e,null,a,_e),pt.push({event:ct,listeners:k}),ot?ct.data=ot:(ot=he(a),ot!==null&&(ct.data=ot)))),(ot=ce?je(e,a):ke(e,a))&&(b=oe(b,"onBeforeInput"),0<b.length&&(_e=new Ld("onBeforeInput","beforeinput",null,a,_e),pt.push({event:_e,listeners:b}),_e.data=ot))}se(pt,i)})}function ef(e,i,a){return{instance:e,listener:i,currentTarget:a}}function oe(e,i){for(var a=i+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;o.tag===5&&c!==null&&(o=c,c=Ob(e,a),c!=null&&s.unshift(ef(e,c,o)),c=Ob(e,i),c!=null&&s.push(ef(e,c,o))),e=e.return}return s}function gf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hf(e,i,a,s,o){for(var c=i._reactName,f=[];a!==null&&a!==s;){var d=a,j=d.alternate,b=d.stateNode;if(j!==null&&j===s)break;d.tag===5&&b!==null&&(d=b,o?(j=Ob(a,c),j!=null&&f.unshift(ef(a,j,d))):o||(j=Ob(a,c),j!=null&&f.push(ef(a,j,d)))),a=a.return}f.length!==0&&e.push({event:i,listeners:f})}function jf(){}var kf=null,lf=null;function mf(e,i){switch(e){case"button":case"input":case"select":case"textarea":return!!i.autoFocus}return!1}function nf(e,i){return e==="textarea"||e==="option"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var of=typeof setTimeout=="function"?setTimeout:void 0,pf=typeof clearTimeout=="function"?clearTimeout:void 0;function qf(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function rf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break}return e}function sf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}var tf=0;function uf(e){return{$$typeof:Ga,toString:e,valueOf:e}}var vf=Math.random().toString(36).slice(2),wf="__reactFiber$"+vf,xf="__reactProps$"+vf,ff="__reactContainer$"+vf,yf="__reactEvents$"+vf;function wc(e){var i=e[wf];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ff]||a[wf]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=sf(e);e!==null;){if(a=e[wf])return a;e=sf(e)}return i}e=a,a=e.parentNode}return null}function Cb(e){return e=e[wf]||e[ff],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(y(33))}function Db(e){return e[xf]||null}function $e(e){var i=e[yf];return i===void 0&&(i=e[yf]=new Set),i}var zf=[],Af=-1;function Bf(e){return{current:e}}function H(e){0>Af||(e.current=zf[Af],zf[Af]=null,Af--)}function I(e,i){Af++,zf[Af]=e.current,e.current=i}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;function Ef(e,i){var a=e.type.contextTypes;if(!a)return Cf;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===i)return s.__reactInternalMemoizedMaskedChildContext;var o={},c;for(c in a)o[c]=i[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ff(e){return e=e.childContextTypes,e!=null}function Gf(){H(N),H(M)}function Hf(e,i,a){if(M.current!==Cf)throw Error(y(168));I(M,i),I(N,a)}function If(e,i,a){var s=e.stateNode;if(e=i.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var o in s)if(!(o in e))throw Error(y(108,Ra(i)||"Unknown",o));return m({},a,s)}function Jf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cf,Df=M.current,I(M,e),I(N,N.current),!0}function Kf(e,i,a){var s=e.stateNode;if(!s)throw Error(y(169));a?(e=If(e,i,Df),s.__reactInternalMemoizedMergedChildContext=e,H(N),H(M),I(M,e)):H(N),I(N,a)}var Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=Rf!==void 0?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1e4>dg?Sf:function(){return Sf()-dg};function eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332))}}function fg(e){switch(e){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332))}}function gg(e,i){return e=fg(e),Nf(e,i)}function hg(e,i,a){return e=fg(e),Of(e,i,a)}function ig(){if(bg!==null){var e=bg;bg=null,Pf(e)}jg()}function jg(){if(!cg&&ag!==null){cg=!0;var e=0;try{var i=ag;gg(99,function(){for(;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}}),ag=null}catch(a){throw ag!==null&&(ag=ag.slice(e+1)),Of(Uf,ig),a}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(e,i){if(e&&e.defaultProps){i=m({},i),e=e.defaultProps;for(var a in e)i[a]===void 0&&(i[a]=e[a]);return i}return i}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}function rg(e){var i=mg.current;H(mg),e.type._context._currentValue=i}function sg(e,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&i)===i){if(a===null||(a.childLanes&i)===i)break;a.childLanes|=i}else e.childLanes|=i,a!==null&&(a.childLanes|=i);e=e.return}}function tg(e,i){ng=e,pg=og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&i)!==0&&(ug=!0),e.firstContext=null)}function vg(e,i){if(pg!==e&&i!==!1&&i!==0)if((typeof i!="number"||i===1073741823)&&(pg=e,i=1073741823),i={context:e,observedBits:i,next:null},og===null){if(ng===null)throw Error(y(308));og=i,ng.dependencies={lanes:0,firstContext:i,responders:null}}else og=og.next=i;return e._currentValue}var wg=!1;function xg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zg(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function Ag(e,i){if(e=e.updateQueue,e!==null){e=e.shared;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}}function Bg(e,i){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var f={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};c===null?o=c=f:c=c.next=f,a=a.next}while(a!==null);c===null?o=c=i:c=c.next=i}else o=c=i;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}function Cg(e,i,a,s){var o=e.updateQueue;wg=!1;var c=o.firstBaseUpdate,f=o.lastBaseUpdate,d=o.shared.pending;if(d!==null){o.shared.pending=null;var j=d,b=j.next;j.next=null,f===null?c=b:f.next=b,f=j;var _e=e.alternate;if(_e!==null){_e=_e.updateQueue;var pt=_e.lastBaseUpdate;pt!==f&&(pt===null?_e.firstBaseUpdate=b:pt.next=b,_e.lastBaseUpdate=j)}}if(c!==null){pt=o.baseState,f=0,_e=b=j=null;do{d=c.lane;var et=c.eventTime;if((s&d)===d){_e!==null&&(_e=_e.next={eventTime:et,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var nt=e,at=c;switch(d=i,et=a,at.tag){case 1:if(nt=at.payload,typeof nt=="function"){pt=nt.call(et,pt,d);break e}pt=nt;break e;case 3:nt.flags=nt.flags&-4097|64;case 0:if(nt=at.payload,d=typeof nt=="function"?nt.call(et,pt,d):nt,d==null)break e;pt=m({},pt,d);break e;case 2:wg=!0}}c.callback!==null&&(e.flags|=32,d=o.effects,d===null?o.effects=[c]:d.push(c))}else et={eventTime:et,lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},_e===null?(b=_e=et,j=pt):_e=_e.next=et,f|=d;if(c=c.next,c===null){if(d=o.shared.pending,d===null)break;c=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(1);_e===null&&(j=pt),o.baseState=j,o.firstBaseUpdate=b,o.lastBaseUpdate=_e,Dg|=f,e.lanes=f,e.memoizedState=pt}}function Eg(e,i,a){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var s=e[i],o=s.callback;if(o!==null){if(s.callback=null,s=a,typeof o!="function")throw Error(y(191,o));o.call(s)}}}var Fg=new aa.Component().refs;function Gg(e,i,a,s){i=e.memoizedState,a=a(s,i),a=a==null?i:m({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Kg={isMounted:function(e){return(e=e._reactInternals)?Zb(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var s=Hg(),o=Ig(e),c=zg(s,o);c.payload=i,a!=null&&(c.callback=a),Ag(e,c),Jg(e,o,s)},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var s=Hg(),o=Ig(e),c=zg(s,o);c.tag=1,c.payload=i,a!=null&&(c.callback=a),Ag(e,c),Jg(e,o,s)},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Hg(),s=Ig(e),o=zg(a,s);o.tag=2,i!=null&&(o.callback=i),Ag(e,o),Jg(e,s,a)}};function Lg(e,i,a,s,o,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,f):i.prototype&&i.prototype.isPureReactComponent?!Je(a,s)||!Je(o,c):!0}function Mg(e,i,a){var s=!1,o=Cf,c=i.contextType;return typeof c=="object"&&c!==null?c=vg(c):(o=Ff(i)?Df:M.current,s=i.contextTypes,c=(s=s!=null)?Ef(e,o):Cf),i=new i(a,c),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Kg,e.stateNode=i,i._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),i}function Ng(e,i,a,s){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,s),i.state!==e&&Kg.enqueueReplaceState(i,i.state,null)}function Og(e,i,a,s){var o=e.stateNode;o.props=a,o.state=e.memoizedState,o.refs=Fg,xg(e);var c=i.contextType;typeof c=="object"&&c!==null?o.context=vg(c):(c=Ff(i)?Df:M.current,o.context=Ef(e,c)),Cg(e,a,o,s),o.state=e.memoizedState,c=i.getDerivedStateFromProps,typeof c=="function"&&(Gg(e,i,c,a),o.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(i=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),i!==o.state&&Kg.enqueueReplaceState(o,o.state,null),Cg(e,a,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4)}var Pg=Array.isArray;function Qg(e,i,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(y(309));var s=a.stateNode}if(!s)throw Error(y(147,e));var o=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===o?i.ref:(i=function(c){var f=s.refs;f===Fg&&(f=s.refs={}),c===null?delete f[o]:f[o]=c},i._stringRef=o,i)}if(typeof e!="string")throw Error(y(284));if(!a._owner)throw Error(y(290,e))}return e}function Rg(e,i){if(e.type!=="textarea")throw Error(y(31,Object.prototype.toString.call(i)==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":i))}function Sg(e){function i(rt,ut){if(e){var _=rt.lastEffect;_!==null?(_.nextEffect=ut,rt.lastEffect=ut):rt.firstEffect=rt.lastEffect=ut,ut.nextEffect=null,ut.flags=8}}function a(rt,ut){if(!e)return null;for(;ut!==null;)i(rt,ut),ut=ut.sibling;return null}function s(rt,ut){for(rt=new Map;ut!==null;)ut.key!==null?rt.set(ut.key,ut):rt.set(ut.index,ut),ut=ut.sibling;return rt}function o(rt,ut){return rt=Tg(rt,ut),rt.index=0,rt.sibling=null,rt}function c(rt,ut,_){return rt.index=_,e?(_=rt.alternate,_!==null?(_=_.index,_<ut?(rt.flags=2,ut):_):(rt.flags=2,ut)):ut}function f(rt){return e&&rt.alternate===null&&(rt.flags=2),rt}function d(rt,ut,_,tt){return ut===null||ut.tag!==6?(ut=Ug(_,rt.mode,tt),ut.return=rt,ut):(ut=o(ut,_),ut.return=rt,ut)}function j(rt,ut,_,tt){return ut!==null&&ut.elementType===_.type?(tt=o(ut,_.props),tt.ref=Qg(rt,ut,_),tt.return=rt,tt):(tt=Vg(_.type,_.key,_.props,null,rt.mode,tt),tt.ref=Qg(rt,ut,_),tt.return=rt,tt)}function b(rt,ut,_,tt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==_.containerInfo||ut.stateNode.implementation!==_.implementation?(ut=Wg(_,rt.mode,tt),ut.return=rt,ut):(ut=o(ut,_.children||[]),ut.return=rt,ut)}function _e(rt,ut,_,tt,$){return ut===null||ut.tag!==7?(ut=Xg(_,rt.mode,tt,$),ut.return=rt,ut):(ut=o(ut,_),ut.return=rt,ut)}function pt(rt,ut,_){if(typeof ut=="string"||typeof ut=="number")return ut=Ug(""+ut,rt.mode,_),ut.return=rt,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case sa:return _=Vg(ut.type,ut.key,ut.props,null,rt.mode,_),_.ref=Qg(rt,null,ut),_.return=rt,_;case ta:return ut=Wg(ut,rt.mode,_),ut.return=rt,ut}if(Pg(ut)||La(ut))return ut=Xg(ut,rt.mode,_,null),ut.return=rt,ut;Rg(rt,ut)}return null}function et(rt,ut,_,tt){var $=ut!==null?ut.key:null;if(typeof _=="string"||typeof _=="number")return $!==null?null:d(rt,ut,""+_,tt);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sa:return _.key===$?_.type===ua?_e(rt,ut,_.props.children,tt,$):j(rt,ut,_,tt):null;case ta:return _.key===$?b(rt,ut,_,tt):null}if(Pg(_)||La(_))return $!==null?null:_e(rt,ut,_,tt,null);Rg(rt,_)}return null}function nt(rt,ut,_,tt,$){if(typeof tt=="string"||typeof tt=="number")return rt=rt.get(_)||null,d(ut,rt,""+tt,$);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case sa:return rt=rt.get(tt.key===null?_:tt.key)||null,tt.type===ua?_e(ut,rt,tt.props.children,$,tt.key):j(ut,rt,tt,$);case ta:return rt=rt.get(tt.key===null?_:tt.key)||null,b(ut,rt,tt,$)}if(Pg(tt)||La(tt))return rt=rt.get(_)||null,_e(ut,rt,tt,$,null);Rg(ut,tt)}return null}function at(rt,ut,_,tt){for(var $=null,g=null,k=ut,ot=ut=0,ct=null;k!==null&&ot<_.length;ot++){k.index>ot?(ct=k,k=null):ct=k.sibling;var dt=et(rt,k,_[ot],tt);if(dt===null){k===null&&(k=ct);break}e&&k&&dt.alternate===null&&i(rt,k),ut=c(dt,ut,ot),g===null?$=dt:g.sibling=dt,g=dt,k=ct}if(ot===_.length)return a(rt,k),$;if(k===null){for(;ot<_.length;ot++)k=pt(rt,_[ot],tt),k!==null&&(ut=c(k,ut,ot),g===null?$=k:g.sibling=k,g=k);return $}for(k=s(rt,k);ot<_.length;ot++)ct=nt(k,rt,ot,_[ot],tt),ct!==null&&(e&&ct.alternate!==null&&k.delete(ct.key===null?ot:ct.key),ut=c(ct,ut,ot),g===null?$=ct:g.sibling=ct,g=ct);return e&&k.forEach(function(ft){return i(rt,ft)}),$}function it(rt,ut,_,tt){var $=La(_);if(typeof $!="function")throw Error(y(150));if(_=$.call(_),_==null)throw Error(y(151));for(var g=$=null,k=ut,ot=ut=0,ct=null,dt=_.next();k!==null&&!dt.done;ot++,dt=_.next()){k.index>ot?(ct=k,k=null):ct=k.sibling;var ft=et(rt,k,dt.value,tt);if(ft===null){k===null&&(k=ct);break}e&&k&&ft.alternate===null&&i(rt,k),ut=c(ft,ut,ot),g===null?$=ft:g.sibling=ft,g=ft,k=ct}if(dt.done)return a(rt,k),$;if(k===null){for(;!dt.done;ot++,dt=_.next())dt=pt(rt,dt.value,tt),dt!==null&&(ut=c(dt,ut,ot),g===null?$=dt:g.sibling=dt,g=dt);return $}for(k=s(rt,k);!dt.done;ot++,dt=_.next())dt=nt(k,rt,ot,dt.value,tt),dt!==null&&(e&&dt.alternate!==null&&k.delete(dt.key===null?ot:dt.key),ut=c(dt,ut,ot),g===null?$=dt:g.sibling=dt,g=dt);return e&&k.forEach(function(bt){return i(rt,bt)}),$}return function(rt,ut,_,tt){var $=typeof _=="object"&&_!==null&&_.type===ua&&_.key===null;$&&(_=_.props.children);var g=typeof _=="object"&&_!==null;if(g)switch(_.$$typeof){case sa:e:{for(g=_.key,$=ut;$!==null;){if($.key===g){switch($.tag){case 7:if(_.type===ua){a(rt,$.sibling),ut=o($,_.props.children),ut.return=rt,rt=ut;break e}break;default:if($.elementType===_.type){a(rt,$.sibling),ut=o($,_.props),ut.ref=Qg(rt,$,_),ut.return=rt,rt=ut;break e}}a(rt,$);break}else i(rt,$);$=$.sibling}_.type===ua?(ut=Xg(_.props.children,rt.mode,tt,_.key),ut.return=rt,rt=ut):(tt=Vg(_.type,_.key,_.props,null,rt.mode,tt),tt.ref=Qg(rt,ut,_),tt.return=rt,rt=tt)}return f(rt);case ta:e:{for($=_.key;ut!==null;){if(ut.key===$)if(ut.tag===4&&ut.stateNode.containerInfo===_.containerInfo&&ut.stateNode.implementation===_.implementation){a(rt,ut.sibling),ut=o(ut,_.children||[]),ut.return=rt,rt=ut;break e}else{a(rt,ut);break}else i(rt,ut);ut=ut.sibling}ut=Wg(_,rt.mode,tt),ut.return=rt,rt=ut}return f(rt)}if(typeof _=="string"||typeof _=="number")return _=""+_,ut!==null&&ut.tag===6?(a(rt,ut.sibling),ut=o(ut,_),ut.return=rt,rt=ut):(a(rt,ut),ut=Ug(_,rt.mode,tt),ut.return=rt,rt=ut),f(rt);if(Pg(_))return at(rt,ut,_,tt);if(La(_))return it(rt,ut,_,tt);if(g&&Rg(rt,_),typeof _=="undefined"&&!$)switch(rt.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(rt.type)||"Component"))}return a(rt,ut)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);function dh(e){if(e===$g)throw Error(y(174));return e}function eh(e,i){switch(I(ch,i),I(bh,e),I(ah,$g),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:mb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=mb(i,e)}H(ah),I(ah,i)}function fh(){H(ah),H(bh),H(ch)}function gh(e){dh(ch.current);var i=dh(ah.current),a=mb(i,e.type);i!==a&&(I(bh,e),I(ah,a))}function hh(e){bh.current===e&&(H(ah),H(bh))}var P=Bf(0);function ih(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&64)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var jh=null,kh=null,lh=!1;function mh(e,i){var a=nh(5,null,null,0);a.elementType="DELETED",a.type="DELETED",a.stateNode=i,a.return=e,a.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=a,e.lastEffect=a):e.firstEffect=e.lastEffect=a}function oh(e,i){switch(e.tag){case 5:var a=e.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,!0):!1;case 13:return!1;default:return!1}}function ph(e){if(lh){var i=kh;if(i){var a=i;if(!oh(e,i)){if(i=rf(a.nextSibling),!i||!oh(e,i)){e.flags=e.flags&-1025|2,lh=!1,jh=e;return}mh(jh,a)}jh=e,kh=rf(i.firstChild)}else e.flags=e.flags&-1025|2,lh=!1,jh=e}}function qh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jh=e}function rh(e){if(e!==jh)return!1;if(!lh)return qh(e),lh=!0,!1;var i=e.type;if(e.tag!==5||i!=="head"&&i!=="body"&&!nf(i,e.memoizedProps))for(i=kh;i;)mh(e,i),i=rf(i.nextSibling);if(qh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(i===0){kh=rf(e.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}e=e.nextSibling}kh=null}}else kh=jh?rf(e.stateNode.nextSibling):null;return!0}function sh(){kh=jh=null,lh=!1}var th=[];function uh(){for(var e=0;e<th.length;e++)th[e]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321))}function Bh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!He(e[a],i[a]))return!1;return!0}function Ch(e,i,a,s,o,c){if(xh=c,R=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,vh.current=e===null||e.memoizedState===null?Dh:Eh,e=a(s,o),zh){c=0;do{if(zh=!1,!(25>c))throw Error(y(301));c+=1,T=S=null,i.updateQueue=null,vh.current=Fh,e=a(s,o)}while(zh)}if(vh.current=Gh,i=S!==null&&S.next!==null,xh=0,T=S=R=null,yh=!1,i)throw Error(y(300));return e}function Hh(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return T===null?R.memoizedState=T=e:T=T.next=e,T}function Ih(){if(S===null){var e=R.alternate;e=e!==null?e.memoizedState:null}else e=S.next;var i=T===null?R.memoizedState:T.next;if(i!==null)T=i,S=e;else{if(e===null)throw Error(y(310));S=e,e={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null},T===null?R.memoizedState=T=e:T=T.next=e}return T}function Jh(e,i){return typeof i=="function"?i(e):i}function Kh(e){var i=Ih(),a=i.queue;if(a===null)throw Error(y(311));a.lastRenderedReducer=e;var s=S,o=s.baseQueue,c=a.pending;if(c!==null){if(o!==null){var f=o.next;o.next=c.next,c.next=f}s.baseQueue=o=c,a.pending=null}if(o!==null){o=o.next,s=s.baseState;var d=f=c=null,j=o;do{var b=j.lane;if((xh&b)===b)d!==null&&(d=d.next={lane:0,action:j.action,eagerReducer:j.eagerReducer,eagerState:j.eagerState,next:null}),s=j.eagerReducer===e?j.eagerState:e(s,j.action);else{var _e={lane:b,action:j.action,eagerReducer:j.eagerReducer,eagerState:j.eagerState,next:null};d===null?(f=d=_e,c=s):d=d.next=_e,R.lanes|=b,Dg|=b}j=j.next}while(j!==null&&j!==o);d===null?c=s:d.next=f,He(s,i.memoizedState)||(ug=!0),i.memoizedState=s,i.baseState=c,i.baseQueue=d,a.lastRenderedState=s}return[i.memoizedState,a.dispatch]}function Lh(e){var i=Ih(),a=i.queue;if(a===null)throw Error(y(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,c=i.memoizedState;if(o!==null){a.pending=null;var f=o=o.next;do c=e(c,f.action),f=f.next;while(f!==o);He(c,i.memoizedState)||(ug=!0),i.memoizedState=c,i.baseQueue===null&&(i.baseState=c),a.lastRenderedState=c}return[c,s]}function Mh(e,i,a){var s=i._getVersion;s=s(i._source);var o=i._workInProgressVersionPrimary;if(o!==null?e=o===s:(e=e.mutableReadLanes,(e=(xh&e)===e)&&(i._workInProgressVersionPrimary=s,th.push(i))),e)return a(i._source);throw th.push(i),Error(y(350))}function Nh(e,i,a,s){var o=U;if(o===null)throw Error(y(349));var c=i._getVersion,f=c(i._source),d=vh.current,j=d.useState(function(){return Mh(o,i,a)}),b=j[1],_e=j[0];j=T;var pt=e.memoizedState,et=pt.refs,nt=et.getSnapshot,at=pt.source;pt=pt.subscribe;var it=R;return e.memoizedState={refs:et,source:i,subscribe:s},d.useEffect(function(){et.getSnapshot=a,et.setSnapshot=b;var rt=c(i._source);if(!He(f,rt)){rt=a(i._source),He(_e,rt)||(b(rt),rt=Ig(it),o.mutableReadLanes|=rt&o.pendingLanes),rt=o.mutableReadLanes,o.entangledLanes|=rt;for(var ut=o.entanglements,_=rt;0<_;){var tt=31-Vc(_),$=1<<tt;ut[tt]|=rt,_&=~$}}},[a,i,s]),d.useEffect(function(){return s(i._source,function(){var rt=et.getSnapshot,ut=et.setSnapshot;try{ut(rt(i._source));var _=Ig(it);o.mutableReadLanes|=_&o.pendingLanes}catch(tt){ut(function(){throw tt})}})},[i,s]),He(nt,a)&&He(at,i)&&He(pt,s)||(e={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:_e},e.dispatch=b=Oh.bind(null,R,e),j.queue=e,j.baseQueue=null,_e=Mh(o,i,a),j.memoizedState=j.baseState=_e),_e}function Ph(e,i,a){var s=Ih();return Nh(s,e,i,a)}function Qh(e){var i=Hh();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e=i.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:e},e=e.dispatch=Oh.bind(null,R,e),[i.memoizedState,e]}function Rh(e,i,a,s){return e={tag:e,create:i,destroy:a,deps:s,next:null},i=R.updateQueue,i===null?(i={lastEffect:null},R.updateQueue=i,i.lastEffect=e.next=e):(a=i.lastEffect,a===null?i.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,i.lastEffect=e)),e}function Sh(e){var i=Hh();return e={current:e},i.memoizedState=e}function Th(){return Ih().memoizedState}function Uh(e,i,a,s){var o=Hh();R.flags|=e,o.memoizedState=Rh(1|i,a,void 0,s===void 0?null:s)}function Vh(e,i,a,s){var o=Ih();s=s===void 0?null:s;var c=void 0;if(S!==null){var f=S.memoizedState;if(c=f.destroy,s!==null&&Bh(s,f.deps)){Rh(i,a,c,s);return}}R.flags|=e,o.memoizedState=Rh(1|i,a,c,s)}function Wh(e,i){return Uh(516,4,e,i)}function Xh(e,i){return Vh(516,4,e,i)}function Yh(e,i){return Vh(4,2,e,i)}function Zh(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function $h(e,i,a){return a=a!=null?a.concat([e]):null,Vh(4,2,Zh.bind(null,i,e),a)}function ai(){}function bi(e,i){var a=Ih();i=i===void 0?null:i;var s=a.memoizedState;return s!==null&&i!==null&&Bh(i,s[1])?s[0]:(a.memoizedState=[e,i],e)}function ci(e,i){var a=Ih();i=i===void 0?null:i;var s=a.memoizedState;return s!==null&&i!==null&&Bh(i,s[1])?s[0]:(e=e(),a.memoizedState=[e,i],e)}function di(e,i){var a=eg();gg(98>a?98:a,function(){e(!0)}),gg(97<a?97:a,function(){var s=wh.transition;wh.transition=1;try{e(!1),i()}finally{wh.transition=s}})}function Oh(e,i,a){var s=Hg(),o=Ig(e),c={lane:o,action:a,eagerReducer:null,eagerState:null,next:null},f=i.pending;if(f===null?c.next=c:(c.next=f.next,f.next=c),i.pending=c,f=e.alternate,e===R||f!==null&&f===R)zh=yh=!0;else{if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var d=i.lastRenderedState,j=f(d,a);if(c.eagerReducer=f,c.eagerState=j,He(j,d))return}catch{}finally{}Jg(e,o,s)}}var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(e,i){return Hh().memoizedState=[e,i===void 0?null:i],e},useContext:vg,useEffect:Wh,useImperativeHandle:function(e,i,a){return a=a!=null?a.concat([e]):null,Uh(4,2,Zh.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Uh(4,2,e,i)},useMemo:function(e,i){var a=Hh();return i=i===void 0?null:i,e=e(),a.memoizedState=[e,i],e},useReducer:function(e,i,a){var s=Hh();return i=a!==void 0?a(i):i,s.memoizedState=s.baseState=i,e=s.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},e=e.dispatch=Oh.bind(null,R,e),[s.memoizedState,e]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(e){var i=Qh(e),a=i[0],s=i[1];return Wh(function(){var o=wh.transition;wh.transition=1;try{s(e)}finally{wh.transition=o}},[e]),a},useTransition:function(){var e=Qh(!1),i=e[0];return e=di.bind(null,e[1]),Sh(e),[e,i]},useMutableSource:function(e,i,a){var s=Hh();return s.memoizedState={refs:{getSnapshot:i,setSnapshot:null},source:e,subscribe:a},Nh(s,e,i,a)},useOpaqueIdentifier:function(){if(lh){var e=!1,i=uf(function(){throw e||(e=!0,a("r:"+(tf++).toString(36))),Error(y(355))}),a=Qh(i)[1];return(R.mode&2)===0&&(R.flags|=516,Rh(5,function(){a("r:"+(tf++).toString(36))},void 0,null)),i}return i="r:"+(tf++).toString(36),Qh(i),i},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(e){var i=Kh(Jh),a=i[0],s=i[1];return Xh(function(){var o=wh.transition;wh.transition=1;try{s(e)}finally{wh.transition=o}},[e]),a},useTransition:function(){var e=Kh(Jh)[0];return[Th().current,e]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(e){var i=Lh(Jh),a=i[0],s=i[1];return Xh(function(){var o=wh.transition;wh.transition=1;try{s(e)}finally{wh.transition=o}},[e]),a},useTransition:function(){var e=Lh(Jh)[0];return[Th().current,e]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(e,i,a,s){i.child=e===null?Zg(i,null,a,s):Yg(i,e.child,a,s)}function gi(e,i,a,s,o){a=a.render;var c=i.ref;return tg(i,o),s=Ch(e,i,a,s,c,o),e!==null&&!ug?(i.updateQueue=e.updateQueue,i.flags&=-517,e.lanes&=~o,hi(e,i,o)):(i.flags|=1,fi(e,i,s,o),i.child)}function ii(e,i,a,s,o,c){if(e===null){var f=a.type;return typeof f=="function"&&!ji(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=f,ki(e,i,f,s,o,c)):(e=Vg(a.type,null,s,i,i.mode,c),e.ref=i.ref,e.return=i,i.child=e)}return f=e.child,(o&c)===0&&(o=f.memoizedProps,a=a.compare,a=a!==null?a:Je,a(o,s)&&e.ref===i.ref)?hi(e,i,c):(i.flags|=1,e=Tg(f,s),e.ref=i.ref,e.return=i,i.child=e)}function ki(e,i,a,s,o,c){if(e!==null&&Je(e.memoizedProps,s)&&e.ref===i.ref)if(ug=!1,(c&o)!==0)(e.flags&16384)!==0&&(ug=!0);else return i.lanes=e.lanes,hi(e,i,c);return li(e,i,a,s,c)}function mi(e,i,a){var s=i.pendingProps,o=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden"||s.mode==="unstable-defer-without-hiding")if((i.mode&4)===0)i.memoizedState={baseLanes:0},ni(i,a);else if((a&1073741824)!==0)i.memoizedState={baseLanes:0},ni(i,c!==null?c.baseLanes:a);else return e=c!==null?c.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e},ni(i,e),null;else c!==null?(s=c.baseLanes|a,i.memoizedState=null):s=a,ni(i,s);return fi(e,i,o,a),i.child}function oi(e,i){var a=i.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(i.flags|=128)}function li(e,i,a,s,o){var c=Ff(a)?Df:M.current;return c=Ef(i,c),tg(i,o),a=Ch(e,i,a,s,c,o),e!==null&&!ug?(i.updateQueue=e.updateQueue,i.flags&=-517,e.lanes&=~o,hi(e,i,o)):(i.flags|=1,fi(e,i,a,o),i.child)}function pi(e,i,a,s,o){if(Ff(a)){var c=!0;Jf(i)}else c=!1;if(tg(i,o),i.stateNode===null)e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2),Mg(i,a,s),Og(i,a,s,o),s=!0;else if(e===null){var f=i.stateNode,d=i.memoizedProps;f.props=d;var j=f.context,b=a.contextType;typeof b=="object"&&b!==null?b=vg(b):(b=Ff(a)?Df:M.current,b=Ef(i,b));var _e=a.getDerivedStateFromProps,pt=typeof _e=="function"||typeof f.getSnapshotBeforeUpdate=="function";pt||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==s||j!==b)&&Ng(i,f,s,b),wg=!1;var et=i.memoizedState;f.state=et,Cg(i,s,f,o),j=i.memoizedState,d!==s||et!==j||N.current||wg?(typeof _e=="function"&&(Gg(i,a,_e,s),j=i.memoizedState),(d=wg||Lg(i,a,d,s,et,j,b))?(pt||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4)):(typeof f.componentDidMount=="function"&&(i.flags|=4),i.memoizedProps=s,i.memoizedState=j),f.props=s,f.state=j,f.context=b,s=d):(typeof f.componentDidMount=="function"&&(i.flags|=4),s=!1)}else{f=i.stateNode,yg(e,i),d=i.memoizedProps,b=i.type===i.elementType?d:lg(i.type,d),f.props=b,pt=i.pendingProps,et=f.context,j=a.contextType,typeof j=="object"&&j!==null?j=vg(j):(j=Ff(a)?Df:M.current,j=Ef(i,j));var nt=a.getDerivedStateFromProps;(_e=typeof nt=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==pt||et!==j)&&Ng(i,f,s,j),wg=!1,et=i.memoizedState,f.state=et,Cg(i,s,f,o);var at=i.memoizedState;d!==pt||et!==at||N.current||wg?(typeof nt=="function"&&(Gg(i,a,nt,s),at=i.memoizedState),(b=wg||Lg(i,a,b,s,et,at,j))?(_e||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,at,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,at,j)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=256)):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&et===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&et===e.memoizedState||(i.flags|=256),i.memoizedProps=s,i.memoizedState=at),f.props=s,f.state=at,f.context=j,s=b):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&et===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&et===e.memoizedState||(i.flags|=256),s=!1)}return qi(e,i,a,s,c,o)}function qi(e,i,a,s,o,c){oi(e,i);var f=(i.flags&64)!==0;if(!s&&!f)return o&&Kf(i,a,!1),hi(e,i,c);s=i.stateNode,ei.current=i;var d=f&&typeof a.getDerivedStateFromError!="function"?null:s.render();return i.flags|=1,e!==null&&f?(i.child=Yg(i,e.child,null,c),i.child=Yg(i,null,d,c)):fi(e,i,d,c),i.memoizedState=s.state,o&&Kf(i,a,!0),i.child}function ri(e){var i=e.stateNode;i.pendingContext?Hf(e,i.pendingContext,i.pendingContext!==i.context):i.context&&Hf(e,i.context,!1),eh(e,i.containerInfo)}var si={dehydrated:null,retryLane:0};function ti(e,i,a){var s=i.pendingProps,o=P.current,c=!1,f;return(f=(i.flags&64)!==0)||(f=e!==null&&e.memoizedState===null?!1:(o&2)!==0),f?(c=!0,i.flags&=-65):e!==null&&e.memoizedState===null||s.fallback===void 0||s.unstable_avoidThisFallback===!0||(o|=1),I(P,o&1),e===null?(s.fallback!==void 0&&ph(i),e=s.children,o=s.fallback,c?(e=ui(i,e,o,a),i.child.memoizedState={baseLanes:a},i.memoizedState=si,e):typeof s.unstable_expectedLoadTime=="number"?(e=ui(i,e,o,a),i.child.memoizedState={baseLanes:a},i.memoizedState=si,i.lanes=33554432,e):(a=vi({mode:"visible",children:e},i.mode,a,null),a.return=i,i.child=a)):e.memoizedState!==null?c?(s=wi(e,i,s.children,s.fallback,a),c=i.child,o=e.child.memoizedState,c.memoizedState=o===null?{baseLanes:a}:{baseLanes:o.baseLanes|a},c.childLanes=e.childLanes&~a,i.memoizedState=si,s):(a=xi(e,i,s.children,a),i.memoizedState=null,a):c?(s=wi(e,i,s.children,s.fallback,a),c=i.child,o=e.child.memoizedState,c.memoizedState=o===null?{baseLanes:a}:{baseLanes:o.baseLanes|a},c.childLanes=e.childLanes&~a,i.memoizedState=si,s):(a=xi(e,i,s.children,a),i.memoizedState=null,a)}function ui(e,i,a,s){var o=e.mode,c=e.child;return i={mode:"hidden",children:i},(o&2)===0&&c!==null?(c.childLanes=0,c.pendingProps=i):c=vi(i,o,0,null),a=Xg(a,o,s,null),c.return=e,a.return=e,c.sibling=a,e.child=c,a}function xi(e,i,a,s){var o=e.child;return e=o.sibling,a=Tg(o,{mode:"visible",children:a}),(i.mode&2)===0&&(a.lanes=s),a.return=i,a.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,i.firstEffect=i.lastEffect=e),i.child=a}function wi(e,i,a,s,o){var c=i.mode,f=e.child;e=f.sibling;var d={mode:"hidden",children:a};return(c&2)===0&&i.child!==f?(a=i.child,a.childLanes=0,a.pendingProps=d,f=a.lastEffect,f!==null?(i.firstEffect=a.firstEffect,i.lastEffect=f,f.nextEffect=null):i.firstEffect=i.lastEffect=null):a=Tg(f,d),e!==null?s=Tg(e,s):(s=Xg(s,c,o,null),s.flags|=2),s.return=i,a.return=i,a.sibling=s,i.child=a,s}function yi(e,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i),sg(e.return,i)}function zi(e,i,a,s,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,lastEffect:c}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=a,f.tailMode=o,f.lastEffect=c)}function Ai(e,i,a){var s=i.pendingProps,o=s.revealOrder,c=s.tail;if(fi(e,i,s.children,a),s=P.current,(s&2)!==0)s=s&1|2,i.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yi(e,a);else if(e.tag===19)yi(e,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(I(P,s),(i.mode&2)===0)i.memoizedState=null;else switch(o){case"forwards":for(a=i.child,o=null;a!==null;)e=a.alternate,e!==null&&ih(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=i.child,i.child=null):(o=a.sibling,a.sibling=null),zi(i,!1,o,a,c,i.lastEffect);break;case"backwards":for(a=null,o=i.child,i.child=null;o!==null;){if(e=o.alternate,e!==null&&ih(e)===null){i.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}zi(i,!0,a,null,c,i.lastEffect);break;case"together":zi(i,!1,null,null,void 0,i.lastEffect);break;default:i.memoizedState=null}return i.child}function hi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Dg|=i.lanes,(a&i.childLanes)!==0){if(e!==null&&i.child!==e.child)throw Error(y(153));if(i.child!==null){for(e=i.child,a=Tg(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Tg(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}return null}var Bi,Ci,Di,Ei;Bi=function(e,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Ci=function(){};Di=function(e,i,a,s){var o=e.memoizedProps;if(o!==s){e=i.stateNode,dh(ah.current);var c=null;switch(a){case"input":o=Ya(e,o),s=Ya(e,s),c=[];break;case"option":o=eb(e,o),s=eb(e,s),c=[];break;case"select":o=m({},o,{value:void 0}),s=m({},s,{value:void 0}),c=[];break;case"textarea":o=gb(e,o),s=gb(e,s),c=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=jf)}vb(a,s);var f;a=null;for(b in o)if(!s.hasOwnProperty(b)&&o.hasOwnProperty(b)&&o[b]!=null)if(b==="style"){var d=o[b];for(f in d)d.hasOwnProperty(f)&&(a||(a={}),a[f]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ca.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in s){var j=s[b];if(d=o!=null?o[b]:void 0,s.hasOwnProperty(b)&&j!==d&&(j!=null||d!=null))if(b==="style")if(d){for(f in d)!d.hasOwnProperty(f)||j&&j.hasOwnProperty(f)||(a||(a={}),a[f]="");for(f in j)j.hasOwnProperty(f)&&d[f]!==j[f]&&(a||(a={}),a[f]=j[f])}else a||(c||(c=[]),c.push(b,a)),a=j;else b==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,d=d?d.__html:void 0,j!=null&&d!==j&&(c=c||[]).push(b,j)):b==="children"?typeof j!="string"&&typeof j!="number"||(c=c||[]).push(b,""+j):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ca.hasOwnProperty(b)?(j!=null&&b==="onScroll"&&G("scroll",e),c||d===j||(c=[])):typeof j=="object"&&j!==null&&j.$$typeof===Ga?j.toString():(c=c||[]).push(b,j))}a&&(c=c||[]).push("style",a);var b=c;(i.updateQueue=b)&&(i.flags|=4)}};Ei=function(e,i,a,s){a!==s&&(i.flags|=4)};function Fi(e,i){if(!lh)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Gi(e,i,a){var s=i.pendingProps;switch(i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(i.type)&&Gf(),null;case 3:return fh(),H(N),H(M),uh(),s=i.stateNode,s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(rh(i)?i.flags|=4:s.hydrate||(i.flags|=256)),Ci(i),null;case 5:hh(i);var o=dh(ch.current);if(a=i.type,e!==null&&i.stateNode!=null)Di(e,i,a,s,o),e.ref!==i.ref&&(i.flags|=128);else{if(!s){if(i.stateNode===null)throw Error(y(166));return null}if(e=dh(ah.current),rh(i)){s=i.stateNode,a=i.type;var c=i.memoizedProps;switch(s[wf]=i,s[xf]=c,a){case"dialog":G("cancel",s),G("close",s);break;case"iframe":case"object":case"embed":G("load",s);break;case"video":case"audio":for(e=0;e<Xe.length;e++)G(Xe[e],s);break;case"source":G("error",s);break;case"img":case"image":case"link":G("error",s),G("load",s);break;case"details":G("toggle",s);break;case"input":Za(s,c),G("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},G("invalid",s);break;case"textarea":hb(s,c),G("invalid",s)}vb(a,c),e=null;for(var f in c)c.hasOwnProperty(f)&&(o=c[f],f==="children"?typeof o=="string"?s.textContent!==o&&(e=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(e=["children",""+o]):ca.hasOwnProperty(f)&&o!=null&&f==="onScroll"&&G("scroll",s));switch(a){case"input":Va(s),cb(s,c,!0);break;case"textarea":Va(s),jb(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=jf)}s=e,i.updateQueue=s,s!==null&&(i.flags|=4)}else{switch(f=o.nodeType===9?o:o.ownerDocument,e===kb.html&&(e=lb(a)),e===kb.html?a==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=f.createElement(a,{is:s.is}):(e=f.createElement(a),a==="select"&&(f=e,s.multiple?f.multiple=!0:s.size&&(f.size=s.size))):e=f.createElementNS(e,a),e[wf]=i,e[xf]=s,Bi(e,i,!1,!1),i.stateNode=e,f=wb(a,s),a){case"dialog":G("cancel",e),G("close",e),o=s;break;case"iframe":case"object":case"embed":G("load",e),o=s;break;case"video":case"audio":for(o=0;o<Xe.length;o++)G(Xe[o],e);o=s;break;case"source":G("error",e),o=s;break;case"img":case"image":case"link":G("error",e),G("load",e),o=s;break;case"details":G("toggle",e),o=s;break;case"input":Za(e,s),o=Ya(e,s),G("invalid",e);break;case"option":o=eb(e,s);break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=m({},s,{value:void 0}),G("invalid",e);break;case"textarea":hb(e,s),o=gb(e,s),G("invalid",e);break;default:o=s}vb(a,o);var d=o;for(c in d)if(d.hasOwnProperty(c)){var j=d[c];c==="style"?tb(e,j):c==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&ob(e,j)):c==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&pb(e,j):typeof j=="number"&&pb(e,""+j):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ca.hasOwnProperty(c)?j!=null&&c==="onScroll"&&G("scroll",e):j!=null&&qa(e,c,j,f))}switch(a){case"input":Va(e),cb(e,s,!1);break;case"textarea":Va(e),jb(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Sa(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?fb(e,!!s.multiple,c,!1):s.defaultValue!=null&&fb(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=jf)}mf(a,s)&&(i.flags|=4)}i.ref!==null&&(i.flags|=128)}return null;case 6:if(e&&i.stateNode!=null)Ei(e,i,e.memoizedProps,s);else{if(typeof s!="string"&&i.stateNode===null)throw Error(y(166));a=dh(ch.current),dh(ah.current),rh(i)?(s=i.stateNode,a=i.memoizedProps,s[wf]=i,s.nodeValue!==a&&(i.flags|=4)):(s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[wf]=i,i.stateNode=s)}return null;case 13:return H(P),s=i.memoizedState,(i.flags&64)!==0?(i.lanes=a,i):(s=s!==null,a=!1,e===null?i.memoizedProps.fallback!==void 0&&rh(i):a=e.memoizedState!==null,s&&!a&&(i.mode&2)!==0&&(e===null&&i.memoizedProps.unstable_avoidThisFallback!==!0||(P.current&1)!==0?V===0&&(V=3):((V===0||V===3)&&(V=4),U===null||(Dg&134217727)===0&&(Hi&134217727)===0||Ii(U,W))),(s||a)&&(i.flags|=4),null);case 4:return fh(),Ci(i),e===null&&cf(i.stateNode.containerInfo),null;case 10:return rg(i),null;case 17:return Ff(i.type)&&Gf(),null;case 19:if(H(P),s=i.memoizedState,s===null)return null;if(c=(i.flags&64)!==0,f=s.rendering,f===null)if(c)Fi(s,!1);else{if(V!==0||e!==null&&(e.flags&64)!==0)for(e=i.child;e!==null;){if(f=ih(e),f!==null){for(i.flags|=64,Fi(s,!1),c=f.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),s.lastEffect===null&&(i.firstEffect=null),i.lastEffect=s.lastEffect,s=a,a=i.child;a!==null;)c=a,e=s,c.flags&=2,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null,f=c.alternate,f===null?(c.childLanes=0,c.lanes=e,c.child=null,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,e=f.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return I(P,P.current&1|2),i.child}e=e.sibling}s.tail!==null&&O()>Ji&&(i.flags|=64,c=!0,Fi(s,!1),i.lanes=33554432)}else{if(!c)if(e=ih(f),e!==null){if(i.flags|=64,c=!0,a=e.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Fi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!lh)return i=i.lastEffect=s.lastEffect,i!==null&&(i.nextEffect=null),null}else 2*O()-s.renderingStartTime>Ji&&a!==1073741824&&(i.flags|=64,c=!0,Fi(s,!1),i.lanes=33554432);s.isBackwards?(f.sibling=i.child,i.child=f):(a=s.last,a!==null?a.sibling=f:i.child=f,s.last=f)}return s.tail!==null?(a=s.tail,s.rendering=a,s.tail=a.sibling,s.lastEffect=i.lastEffect,s.renderingStartTime=O(),a.sibling=null,i=P.current,I(P,c?i&1|2:i&1),a):null;case 23:case 24:return Ki(),e!==null&&e.memoizedState!==null!=(i.memoizedState!==null)&&s.mode!=="unstable-defer-without-hiding"&&(i.flags|=4),null}throw Error(y(156,i.tag))}function Li(e){switch(e.tag){case 1:Ff(e.type)&&Gf();var i=e.flags;return i&4096?(e.flags=i&-4097|64,e):null;case 3:if(fh(),H(N),H(M),uh(),i=e.flags,(i&64)!==0)throw Error(y(285));return e.flags=i&-4097|64,e;case 5:return hh(e),null;case 13:return H(P),i=e.flags,i&4096?(e.flags=i&-4097|64,e):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(e),null;case 23:case 24:return Ki(),null;default:return null}}function Mi(e,i){try{var a="",s=i;do a+=Qa(s),s=s.return;while(s);var o=a}catch(c){o=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:i,stack:o}}function Ni(e,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Oi=typeof WeakMap=="function"?WeakMap:Map;function Pi(e,i,a){a=zg(-1,a),a.tag=3,a.payload={element:null};var s=i.value;return a.callback=function(){Qi||(Qi=!0,Ri=s),Ni(e,i)},a}function Si(e,i,a){a=zg(-1,a),a.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=i.value;a.payload=function(){return Ni(e,i),s(o)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(a.callback=function(){typeof s!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this),Ni(e,i));var f=i.stack;this.componentDidCatch(i.value,{componentStack:f!==null?f:""})}),a}var Ui=typeof WeakSet=="function"?WeakSet:Set;function Vi(e){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Wi(e,a)}else i.current=null}function Xi(e,i){switch(i.tag){case 0:case 11:case 15:case 22:return;case 1:if(i.flags&256&&e!==null){var a=e.memoizedProps,s=e.memoizedState;e=i.stateNode,i=e.getSnapshotBeforeUpdate(i.elementType===i.type?a:lg(i.type,a),s),e.__reactInternalSnapshotBeforeUpdate=i}return;case 3:i.flags&256&&qf(i.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163))}function Yi(e,i,a){switch(a.tag){case 0:case 11:case 15:case 22:if(i=a.updateQueue,i=i!==null?i.lastEffect:null,i!==null){e=i=i.next;do{if((e.tag&3)===3){var s=e.create;e.destroy=s()}e=e.next}while(e!==i)}if(i=a.updateQueue,i=i!==null?i.lastEffect:null,i!==null){e=i=i.next;do{var o=e;s=o.next,o=o.tag,(o&4)!==0&&(o&1)!==0&&(Zi(a,e),$i(a,e)),e=s}while(e!==i)}return;case 1:e=a.stateNode,a.flags&4&&(i===null?e.componentDidMount():(s=a.elementType===a.type?i.memoizedProps:lg(a.type,i.memoizedProps),e.componentDidUpdate(s,i.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),i=a.updateQueue,i!==null&&Eg(a,i,e);return;case 3:if(i=a.updateQueue,i!==null){if(e=null,a.child!==null)switch(a.child.tag){case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}Eg(a,i,e)}return;case 5:e=a.stateNode,i===null&&a.flags&4&&mf(a.type,a.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:a.memoizedState===null&&(a=a.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&Cc(a))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163))}function aj(e,i){for(var a=e;;){if(a.tag===5){var s=a.stateNode;if(i)s=s.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{s=a.stateNode;var o=a.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,s.style.display=sb("display",o)}}else if(a.tag===6)a.stateNode.nodeValue=i?"":a.memoizedProps;else if((a.tag!==23&&a.tag!==24||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function bj(e,i){if(Mf&&typeof Mf.onCommitFiberUnmount=="function")try{Mf.onCommitFiberUnmount(Lf,i)}catch{}switch(i.tag){case 0:case 11:case 14:case 15:case 22:if(e=i.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var a=e=e.next;do{var s=a,o=s.destroy;if(s=s.tag,o!==void 0)if((s&4)!==0)Zi(i,a);else{s=i;try{o()}catch(c){Wi(s,c)}}a=a.next}while(a!==e)}break;case 1:if(Vi(i),e=i.stateNode,typeof e.componentWillUnmount=="function")try{e.props=i.memoizedProps,e.state=i.memoizedState,e.componentWillUnmount()}catch(c){Wi(i,c)}break;case 5:Vi(i);break;case 4:cj(e,i)}}function dj(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ej(e){return e.tag===5||e.tag===3||e.tag===4}function fj(e){e:{for(var i=e.return;i!==null;){if(ej(i))break e;i=i.return}throw Error(y(160))}var a=i;switch(i=a.stateNode,a.tag){case 5:var s=!1;break;case 3:i=i.containerInfo,s=!0;break;case 4:i=i.containerInfo,s=!0;break;default:throw Error(y(161))}a.flags&16&&(pb(i,""),a.flags&=-17);e:t:for(a=e;;){for(;a.sibling===null;){if(a.return===null||ej(a.return)){a=null;break e}a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2)){a=a.stateNode;break e}}s?gj(e,a,i):hj(e,a,i)}function gj(e,i,a){var s=e.tag,o=s===5||s===6;if(o)e=o?e.stateNode:e.stateNode.instance,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=jf));else if(s!==4&&(e=e.child,e!==null))for(gj(e,i,a),e=e.sibling;e!==null;)gj(e,i,a),e=e.sibling}function hj(e,i,a){var s=e.tag,o=s===5||s===6;if(o)e=o?e.stateNode:e.stateNode.instance,i?a.insertBefore(e,i):a.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(hj(e,i,a),e=e.sibling;e!==null;)hj(e,i,a),e=e.sibling}function cj(e,i){for(var a=i,s=!1,o,c;;){if(!s){s=a.return;e:for(;;){if(s===null)throw Error(y(160));switch(o=s.stateNode,s.tag){case 5:c=!1;break e;case 3:o=o.containerInfo,c=!0;break e;case 4:o=o.containerInfo,c=!0;break e}s=s.return}s=!0}if(a.tag===5||a.tag===6){e:for(var f=e,d=a,j=d;;)if(bj(f,j),j.child!==null&&j.tag!==4)j.child.return=j,j=j.child;else{if(j===d)break e;for(;j.sibling===null;){if(j.return===null||j.return===d)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}c?(f=o,d=a.stateNode,f.nodeType===8?f.parentNode.removeChild(d):f.removeChild(d)):o.removeChild(a.stateNode)}else if(a.tag===4){if(a.child!==null){o=a.stateNode.containerInfo,c=!0,a.child.return=a,a=a.child;continue}}else if(bj(e,a),a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return,a.tag===4&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ij(e,i){switch(i.tag){case 0:case 11:case 14:case 15:case 22:var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do(s.tag&3)===3&&(e=s.destroy,s.destroy=void 0,e!==void 0&&e()),s=s.next;while(s!==a)}return;case 1:return;case 5:if(a=i.stateNode,a!=null){s=i.memoizedProps;var o=e!==null?e.memoizedProps:s;e=i.type;var c=i.updateQueue;if(i.updateQueue=null,c!==null){for(a[xf]=s,e==="input"&&s.type==="radio"&&s.name!=null&&$a(a,s),wb(e,o),i=wb(e,s),o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?tb(a,d):f==="dangerouslySetInnerHTML"?ob(a,d):f==="children"?pb(a,d):qa(a,f,d,i)}switch(e){case"input":ab(a,s);break;case"textarea":ib(a,s);break;case"select":e=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!s.multiple,c=s.value,c!=null?fb(a,!!s.multiple,c,!1):e!==!!s.multiple&&(s.defaultValue!=null?fb(a,!!s.multiple,s.defaultValue,!0):fb(a,!!s.multiple,s.multiple?[]:"",!1))}}}return;case 6:if(i.stateNode===null)throw Error(y(162));i.stateNode.nodeValue=i.memoizedProps;return;case 3:a=i.stateNode,a.hydrate&&(a.hydrate=!1,Cc(a.containerInfo));return;case 12:return;case 13:i.memoizedState!==null&&(jj=O(),aj(i.child,!0)),kj(i);return;case 19:kj(i);return;case 17:return;case 23:case 24:aj(i,i.memoizedState!==null);return}throw Error(y(163))}function kj(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Ui),i.forEach(function(s){var o=lj.bind(null,e,s);a.has(s)||(a.add(s),s.then(o,o))})}}function mj(e,i){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(i=i.memoizedState,i!==null&&i.dehydrated===null):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=1/0;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return(X&48)!==0?O():Fj!==-1?Fj:Fj=O()}function Ig(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return eg()===99?1:2;if(Gj===0&&(Gj=tj),kg.transition!==0){Hj!==0&&(Hj=vj!==null?vj.pendingLanes:0),e=Gj;var i=4186112&~Hj;return i&=-i,i===0&&(e=4186112&~e,i=e&-e,i===0&&(i=8192)),i}return e=eg(),(X&4)!==0&&e===98?e=Xc(12,Gj):(e=Sc(e),e=Xc(e,Gj)),e}function Jg(e,i,a){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));if(e=Kj(e,i),e===null)return null;$c(e,i,a),e===U&&(Hi|=i,V===4&&Ii(e,W));var s=eg();i===1?(X&8)!==0&&(X&48)===0?Lj(e):(Mj(e,a),X===0&&(wj(),ig())):((X&4)===0||s!==98&&s!==99||(Cj===null?Cj=new Set([e]):Cj.add(e)),Mj(e,a)),vj=e}function Kj(e,i){e.lanes|=i;var a=e.alternate;for(a!==null&&(a.lanes|=i),a=e,e=e.return;e!==null;)e.childLanes|=i,a=e.alternate,a!==null&&(a.childLanes|=i),a=e,e=e.return;return a.tag===3?a.stateNode:null}function Mj(e,i){for(var a=e.callbackNode,s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var d=31-Vc(f),j=1<<d,b=c[d];if(b===-1){if((j&s)===0||(j&o)!==0){b=i,Rc(j);var _e=F;c[d]=10<=_e?b+250:6<=_e?b+5e3:-1}}else b<=i&&(e.expiredLanes|=j);f&=~j}if(s=Uc(e,e===U?W:0),i=F,s===0)a!==null&&(a!==Zf&&Pf(a),e.callbackNode=null,e.callbackPriority=0);else{if(a!==null){if(e.callbackPriority===i)return;a!==Zf&&Pf(a)}i===15?(a=Lj.bind(null,e),ag===null?(ag=[a],bg=Of(Uf,jg)):ag.push(a),a=Zf):i===14?a=hg(99,Lj.bind(null,e)):(a=Tc(i),a=hg(a,Nj.bind(null,e))),e.callbackPriority=i,e.callbackNode=a}}function Nj(e){if(Fj=-1,Hj=Gj=0,(X&48)!==0)throw Error(y(327));var i=e.callbackNode;if(Oj()&&e.callbackNode!==i)return null;var a=Uc(e,e===U?W:0);if(a===0)return null;var s=a,o=X;X|=16;var c=Pj();(U!==e||W!==s)&&(wj(),Qj(e,s));do try{Rj();break}catch(d){Sj(e,d)}while(1);if(qg(),oj.current=c,X=o,Y!==null?s=0:(U=null,W=0,s=V),(tj&Hi)!==0)Qj(e,0);else if(s!==0){if(s===2&&(X|=64,e.hydrate&&(e.hydrate=!1,qf(e.containerInfo)),a=Wc(e),a!==0&&(s=Tj(e,a))),s===1)throw i=sj,Qj(e,0),Ii(e,a),Mj(e,O()),i;switch(e.finishedWork=e.current.alternate,e.finishedLanes=a,s){case 0:case 1:throw Error(y(345));case 2:Uj(e);break;case 3:if(Ii(e,a),(a&62914560)===a&&(s=jj+500-O(),10<s)){if(Uc(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){Hg(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=of(Uj.bind(null,e),s);break}Uj(e);break;case 4:if(Ii(e,a),(a&4186112)===a)break;for(s=e.eventTimes,o=-1;0<a;){var f=31-Vc(a);c=1<<f,f=s[f],f>o&&(o=f),a&=~c}if(a=o,a=O()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*nj(a/1960))-a,10<a){e.timeoutHandle=of(Uj.bind(null,e),a);break}Uj(e);break;case 5:Uj(e);break;default:throw Error(y(329))}}return Mj(e,O()),e.callbackNode===i?Nj.bind(null,e):null}function Ii(e,i){for(i&=~uj,i&=~Hi,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var a=31-Vc(i),s=1<<a;e[a]=-1,i&=~s}}function Lj(e){if((X&48)!==0)throw Error(y(327));if(Oj(),e===U&&(e.expiredLanes&W)!==0){var i=W,a=Tj(e,i);(tj&Hi)!==0&&(i=Uc(e,i),a=Tj(e,i))}else i=Uc(e,0),a=Tj(e,i);if(e.tag!==0&&a===2&&(X|=64,e.hydrate&&(e.hydrate=!1,qf(e.containerInfo)),i=Wc(e),i!==0&&(a=Tj(e,i))),a===1)throw a=sj,Qj(e,0),Ii(e,i),Mj(e,O()),a;return e.finishedWork=e.current.alternate,e.finishedLanes=i,Uj(e),Mj(e,O()),null}function Vj(){if(Cj!==null){var e=Cj;Cj=null,e.forEach(function(i){i.expiredLanes|=24&i.pendingLanes,Mj(i,O())})}ig()}function Wj(e,i){var a=X;X|=1;try{return e(i)}finally{X=a,X===0&&(wj(),ig())}}function Xj(e,i){var a=X;X&=-2,X|=8;try{return e(i)}finally{X=a,X===0&&(wj(),ig())}}function ni(e,i){I(rj,qj),qj|=i,tj|=i}function Ki(){qj=rj.current,H(rj)}function Qj(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,pf(a)),Y!==null)for(a=Y.return;a!==null;){var s=a;switch(s.tag){case 1:s=s.type.childContextTypes,s!=null&&Gf();break;case 3:fh(),H(N),H(M),uh();break;case 5:hh(s);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(s);break;case 23:case 24:Ki()}a=a.return}U=e,Y=Tg(e.current,null),W=qj=tj=i,V=0,sj=null,uj=Hi=Dg=0}function Sj(e,i){do{var a=Y;try{if(qg(),vh.current=Gh,yh){for(var s=R.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}yh=!1}if(xh=0,T=S=R=null,zh=!1,pj.current=null,a===null||a.return===null){V=1,sj=i,Y=null;break}e:{var c=e,f=a.return,d=a,j=i;if(i=W,d.flags|=2048,d.firstEffect=d.lastEffect=null,j!==null&&typeof j=="object"&&typeof j.then=="function"){var b=j;if((d.mode&2)===0){var _e=d.alternate;_e?(d.updateQueue=_e.updateQueue,d.memoizedState=_e.memoizedState,d.lanes=_e.lanes):(d.updateQueue=null,d.memoizedState=null)}var pt=(P.current&1)!==0,et=f;do{var nt;if(nt=et.tag===13){var at=et.memoizedState;if(at!==null)nt=at.dehydrated!==null;else{var it=et.memoizedProps;nt=it.fallback===void 0?!1:it.unstable_avoidThisFallback!==!0?!0:!pt}}if(nt){var rt=et.updateQueue;if(rt===null){var ut=new Set;ut.add(b),et.updateQueue=ut}else rt.add(b);if((et.mode&2)===0){if(et.flags|=64,d.flags|=16384,d.flags&=-2981,d.tag===1)if(d.alternate===null)d.tag=17;else{var _=zg(-1,1);_.tag=2,Ag(d,_)}d.lanes|=1;break e}j=void 0,d=i;var tt=c.pingCache;if(tt===null?(tt=c.pingCache=new Oi,j=new Set,tt.set(b,j)):(j=tt.get(b),j===void 0&&(j=new Set,tt.set(b,j))),!j.has(d)){j.add(d);var $=Yj.bind(null,c,b,d);b.then($,$)}et.flags|=4096,et.lanes=i;break e}et=et.return}while(et!==null);j=Error((Ra(d.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}V!==5&&(V=2),j=Mi(j,d),et=f;do{switch(et.tag){case 3:c=j,et.flags|=4096,i&=-i,et.lanes|=i;var g=Pi(et,c,i);Bg(et,g);break e;case 1:c=j;var k=et.type,ot=et.stateNode;if((et.flags&64)===0&&(typeof k.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Ti===null||!Ti.has(ot)))){et.flags|=4096,i&=-i,et.lanes|=i;var ct=Si(et,c,i);Bg(et,ct);break e}}et=et.return}while(et!==null)}Zj(a)}catch(dt){i=dt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(1)}function Pj(){var e=oj.current;return oj.current=Gh,e===null?Gh:e}function Tj(e,i){var a=X;X|=16;var s=Pj();U===e&&W===i||Qj(e,i);do try{ak();break}catch(o){Sj(e,o)}while(1);if(qg(),X=a,oj.current=s,Y!==null)throw Error(y(261));return U=null,W=0,V}function ak(){for(;Y!==null;)bk(Y)}function Rj(){for(;Y!==null&&!Qf();)bk(Y)}function bk(e){var i=ck(e.alternate,e,qj);e.memoizedProps=e.pendingProps,i===null?Zj(e):Y=i,pj.current=null}function Zj(e){var i=e;do{var a=i.alternate;if(e=i.return,(i.flags&2048)===0){if(a=Gi(a,i,qj),a!==null){Y=a;return}if(a=i,a.tag!==24&&a.tag!==23||a.memoizedState===null||(qj&1073741824)!==0||(a.mode&4)===0){for(var s=0,o=a.child;o!==null;)s|=o.lanes|o.childLanes,o=o.sibling;a.childLanes=s}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=i.firstEffect),i.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=i.firstEffect),e.lastEffect=i.lastEffect),1<i.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=i:e.firstEffect=i,e.lastEffect=i))}else{if(a=Li(i),a!==null){a.flags&=2047,Y=a;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(i=i.sibling,i!==null){Y=i;return}Y=i=e}while(i!==null);V===0&&(V=5)}function Uj(e){var i=eg();return gg(99,dk.bind(null,e,i)),null}function dk(e,i){do Oj();while(yj!==null);if((X&48)!==0)throw Error(y(327));var a=e.finishedWork;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(y(177));e.callbackNode=null;var s=a.lanes|a.childLanes,o=s,c=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var f=e.eventTimes,d=e.expirationTimes;0<c;){var j=31-Vc(c),b=1<<j;o[j]=0,f[j]=-1,d[j]=-1,c&=~b}if(Cj!==null&&(s&24)===0&&Cj.has(e)&&Cj.delete(e),e===U&&(Y=U=null,W=0),1<a.flags?a.lastEffect!==null?(a.lastEffect.nextEffect=a,s=a.firstEffect):s=a:s=a.firstEffect,s!==null){if(o=X,X|=32,pj.current=null,kf=fd,f=Ne(),Oe(f)){if("selectionStart"in f)d={start:f.selectionStart,end:f.selectionEnd};else e:if(d=(d=f.ownerDocument)&&d.defaultView||window,(b=d.getSelection&&d.getSelection())&&b.rangeCount!==0){d=b.anchorNode,c=b.anchorOffset,j=b.focusNode,b=b.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var _e=0,pt=-1,et=-1,nt=0,at=0,it=f,rt=null;t:for(;;){for(var ut;it!==d||c!==0&&it.nodeType!==3||(pt=_e+c),it!==j||b!==0&&it.nodeType!==3||(et=_e+b),it.nodeType===3&&(_e+=it.nodeValue.length),(ut=it.firstChild)!==null;)rt=it,it=ut;for(;;){if(it===f)break t;if(rt===d&&++nt===c&&(pt=_e),rt===j&&++at===b&&(et=_e),(ut=it.nextSibling)!==null)break;it=rt,rt=it.parentNode}it=ut}d=pt===-1||et===-1?null:{start:pt,end:et}}else d=null;d=d||{start:0,end:0}}else d=null;lf={focusedElem:f,selectionRange:d},fd=!1,Ij=null,Jj=!1,Z=s;do try{ek()}catch(dt){if(Z===null)throw Error(y(330));Wi(Z,dt),Z=Z.nextEffect}while(Z!==null);Ij=null,Z=s;do try{for(f=e;Z!==null;){var _=Z.flags;if(_&16&&pb(Z.stateNode,""),_&128){var tt=Z.alternate;if(tt!==null){var $=tt.ref;$!==null&&(typeof $=="function"?$(null):$.current=null)}}switch(_&1038){case 2:fj(Z),Z.flags&=-3;break;case 6:fj(Z),Z.flags&=-3,ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025,ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:d=Z,cj(f,d);var g=d.alternate;dj(d),g!==null&&dj(g)}Z=Z.nextEffect}}catch(dt){if(Z===null)throw Error(y(330));Wi(Z,dt),Z=Z.nextEffect}while(Z!==null);if($=lf,tt=Ne(),_=$.focusedElem,f=$.selectionRange,tt!==_&&_&&_.ownerDocument&&Me(_.ownerDocument.documentElement,_)){for(f!==null&&Oe(_)&&(tt=f.start,$=f.end,$===void 0&&($=tt),"selectionStart"in _?(_.selectionStart=tt,_.selectionEnd=Math.min($,_.value.length)):($=(tt=_.ownerDocument||document)&&tt.defaultView||window,$.getSelection&&($=$.getSelection(),d=_.textContent.length,g=Math.min(f.start,d),f=f.end===void 0?g:Math.min(f.end,d),!$.extend&&g>f&&(d=f,f=g,g=d),d=Le(_,g),c=Le(_,f),d&&c&&($.rangeCount!==1||$.anchorNode!==d.node||$.anchorOffset!==d.offset||$.focusNode!==c.node||$.focusOffset!==c.offset)&&(tt=tt.createRange(),tt.setStart(d.node,d.offset),$.removeAllRanges(),g>f?($.addRange(tt),$.extend(c.node,c.offset)):(tt.setEnd(c.node,c.offset),$.addRange(tt)))))),tt=[],$=_;$=$.parentNode;)$.nodeType===1&&tt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<tt.length;_++)$=tt[_],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}fd=!!kf,lf=kf=null,e.current=a,Z=s;do try{for(_=e;Z!==null;){var k=Z.flags;if(k&36&&Yi(_,Z.alternate,Z),k&128){tt=void 0;var ot=Z.ref;if(ot!==null){var ct=Z.stateNode;switch(Z.tag){case 5:tt=ct;break;default:tt=ct}typeof ot=="function"?ot(tt):ot.current=tt}}Z=Z.nextEffect}}catch(dt){if(Z===null)throw Error(y(330));Wi(Z,dt),Z=Z.nextEffect}while(Z!==null);Z=null,$f(),X=o}else e.current=a;if(xj)xj=!1,yj=e,zj=i;else for(Z=s;Z!==null;)i=Z.nextEffect,Z.nextEffect=null,Z.flags&8&&(k=Z,k.sibling=null,k.stateNode=null),Z=i;if(s=e.pendingLanes,s===0&&(Ti=null),s===1?e===Ej?Dj++:(Dj=0,Ej=e):Dj=0,a=a.stateNode,Mf&&typeof Mf.onCommitFiberRoot=="function")try{Mf.onCommitFiberRoot(Lf,a,void 0,(a.current.flags&64)===64)}catch{}if(Mj(e,O()),Qi)throw Qi=!1,e=Ri,Ri=null,e;return(X&8)!==0||ig(),null}function ek(){for(;Z!==null;){var e=Z.alternate;Jj||Ij===null||((Z.flags&8)!==0?dc(Z,Ij)&&(Jj=!0):Z.tag===13&&mj(e,Z)&&dc(Z,Ij)&&(Jj=!0));var i=Z.flags;(i&256)!==0&&Xi(e,Z),(i&512)===0||xj||(xj=!0,hg(97,function(){return Oj(),null})),Z=Z.nextEffect}}function Oj(){if(zj!==90){var e=97<zj?97:zj;return zj=90,gg(e,fk)}return!1}function $i(e,i){Aj.push(i,e),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function Zi(e,i){Bj.push(i,e),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function fk(){if(yj===null)return!1;var e=yj;if(yj=null,(X&48)!==0)throw Error(y(331));var i=X;X|=32;var a=Bj;Bj=[];for(var s=0;s<a.length;s+=2){var o=a[s],c=a[s+1],f=o.destroy;if(o.destroy=void 0,typeof f=="function")try{f()}catch(j){if(c===null)throw Error(y(330));Wi(c,j)}}for(a=Aj,Aj=[],s=0;s<a.length;s+=2){o=a[s],c=a[s+1];try{var d=o.create;o.destroy=d()}catch(j){if(c===null)throw Error(y(330));Wi(c,j)}}for(d=e.current.firstEffect;d!==null;)e=d.nextEffect,d.nextEffect=null,d.flags&8&&(d.sibling=null,d.stateNode=null),d=e;return X=i,ig(),!0}function gk(e,i,a){i=Mi(a,i),i=Pi(e,i,1),Ag(e,i),i=Hg(),e=Kj(e,1),e!==null&&($c(e,1,i),Mj(e,i))}function Wi(e,i){if(e.tag===3)gk(e,e,i);else for(var a=e.return;a!==null;){if(a.tag===3){gk(a,e,i);break}else if(a.tag===1){var s=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ti===null||!Ti.has(s))){e=Mi(i,e);var o=Si(a,e,1);if(Ag(a,o),o=Hg(),a=Kj(a,1),a!==null)$c(a,1,o),Mj(a,o);else if(typeof s.componentDidCatch=="function"&&(Ti===null||!Ti.has(s)))try{s.componentDidCatch(i,e)}catch{}break}}a=a.return}}function Yj(e,i,a){var s=e.pingCache;s!==null&&s.delete(i),i=Hg(),e.pingedLanes|=e.suspendedLanes&a,U===e&&(W&a)===a&&(V===4||V===3&&(W&62914560)===W&&500>O()-jj?Qj(e,0):uj|=a),Mj(e,i)}function lj(e,i){var a=e.stateNode;a!==null&&a.delete(i),i=0,i===0&&(i=e.mode,(i&2)===0?i=1:(i&4)===0?i=eg()===99?1:2:(Gj===0&&(Gj=tj),i=Yc(62914560&~Gj),i===0&&(i=4194304))),a=Hg(),e=Kj(e,i),e!==null&&($c(e,i,a),Mj(e,a))}var ck;ck=function(e,i,a){var s=i.lanes;if(e!==null)if(e.memoizedProps!==i.pendingProps||N.current)ug=!0;else if((a&s)!==0)ug=(e.flags&16384)!==0;else{switch(ug=!1,i.tag){case 3:ri(i),sh();break;case 5:gh(i);break;case 1:Ff(i.type)&&Jf(i);break;case 4:eh(i,i.stateNode.containerInfo);break;case 10:s=i.memoizedProps.value;var o=i.type._context;I(mg,o._currentValue),o._currentValue=s;break;case 13:if(i.memoizedState!==null)return(a&i.child.childLanes)!==0?ti(e,i,a):(I(P,P.current&1),i=hi(e,i,a),i!==null?i.sibling:null);I(P,P.current&1);break;case 19:if(s=(a&i.childLanes)!==0,(e.flags&64)!==0){if(s)return Ai(e,i,a);i.flags|=64}if(o=i.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(P,P.current),s)break;return null;case 23:case 24:return i.lanes=0,mi(e,i,a)}return hi(e,i,a)}else ug=!1;switch(i.lanes=0,i.tag){case 2:if(s=i.type,e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2),e=i.pendingProps,o=Ef(i,M.current),tg(i,a),o=Ch(null,i,s,e,o,a),i.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ff(s)){var c=!0;Jf(i)}else c=!1;i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,xg(i);var f=s.getDerivedStateFromProps;typeof f=="function"&&Gg(i,s,f,e),o.updater=Kg,i.stateNode=o,o._reactInternals=i,Og(i,s,e,a),i=qi(null,i,s,!0,c,a)}else i.tag=0,fi(null,i,o,a),i=i.child;return i;case 16:o=i.elementType;e:{switch(e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2),e=i.pendingProps,c=o._init,o=c(o._payload),i.type=o,c=i.tag=hk(o),e=lg(o,e),c){case 0:i=li(null,i,o,e,a);break e;case 1:i=pi(null,i,o,e,a);break e;case 11:i=gi(null,i,o,e,a);break e;case 14:i=ii(null,i,o,lg(o.type,e),s,a);break e}throw Error(y(306,o,""))}return i;case 0:return s=i.type,o=i.pendingProps,o=i.elementType===s?o:lg(s,o),li(e,i,s,o,a);case 1:return s=i.type,o=i.pendingProps,o=i.elementType===s?o:lg(s,o),pi(e,i,s,o,a);case 3:if(ri(i),s=i.updateQueue,e===null||s===null)throw Error(y(282));if(s=i.pendingProps,o=i.memoizedState,o=o!==null?o.element:null,yg(e,i),Cg(i,s,null,a),s=i.memoizedState.element,s===o)sh(),i=hi(e,i,a);else{if(o=i.stateNode,(c=o.hydrate)&&(kh=rf(i.stateNode.containerInfo.firstChild),jh=i,c=lh=!0),c){if(e=o.mutableSourceEagerHydrationData,e!=null)for(o=0;o<e.length;o+=2)c=e[o],c._workInProgressVersionPrimary=e[o+1],th.push(c);for(a=Zg(i,null,s,a),i.child=a;a;)a.flags=a.flags&-3|1024,a=a.sibling}else fi(e,i,s,a),sh();i=i.child}return i;case 5:return gh(i),e===null&&ph(i),s=i.type,o=i.pendingProps,c=e!==null?e.memoizedProps:null,f=o.children,nf(s,o)?f=null:c!==null&&nf(s,c)&&(i.flags|=16),oi(e,i),fi(e,i,f,a),i.child;case 6:return e===null&&ph(i),null;case 13:return ti(e,i,a);case 4:return eh(i,i.stateNode.containerInfo),s=i.pendingProps,e===null?i.child=Yg(i,null,s,a):fi(e,i,s,a),i.child;case 11:return s=i.type,o=i.pendingProps,o=i.elementType===s?o:lg(s,o),gi(e,i,s,o,a);case 7:return fi(e,i,i.pendingProps,a),i.child;case 8:return fi(e,i,i.pendingProps.children,a),i.child;case 12:return fi(e,i,i.pendingProps.children,a),i.child;case 10:e:{s=i.type._context,o=i.pendingProps,f=i.memoizedProps,c=o.value;var d=i.type._context;if(I(mg,d._currentValue),d._currentValue=c,f!==null)if(d=f.value,c=He(d,c)?0:(typeof s._calculateChangedBits=="function"?s._calculateChangedBits(d,c):1073741823)|0,c===0){if(f.children===o.children&&!N.current){i=hi(e,i,a);break e}}else for(d=i.child,d!==null&&(d.return=i);d!==null;){var j=d.dependencies;if(j!==null){f=d.child;for(var b=j.firstContext;b!==null;){if(b.context===s&&(b.observedBits&c)!==0){d.tag===1&&(b=zg(-1,a&-a),b.tag=2,Ag(d,b)),d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),sg(d.return,a),j.lanes|=a;break}b=b.next}}else f=d.tag===10&&d.type===i.type?null:d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===i){f=null;break}if(d=f.sibling,d!==null){d.return=f.return,f=d;break}f=f.return}d=f}fi(e,i,o.children,a),i=i.child}return i;case 9:return o=i.type,c=i.pendingProps,s=c.children,tg(i,a),o=vg(o,c.unstable_observedBits),s=s(o),i.flags|=1,fi(e,i,s,a),i.child;case 14:return o=i.type,c=lg(o,i.pendingProps),c=lg(o.type,c),ii(e,i,o,c,s,a);case 15:return ki(e,i,i.type,i.pendingProps,s,a);case 17:return s=i.type,o=i.pendingProps,o=i.elementType===s?o:lg(s,o),e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2),i.tag=1,Ff(s)?(e=!0,Jf(i)):e=!1,tg(i,a),Mg(i,s,o),Og(i,s,o,a),qi(null,i,s,!0,e,a);case 19:return Ai(e,i,a);case 23:return mi(e,i,a);case 24:return mi(e,i,a)}throw Error(y(156,i.tag))};function ik(e,i,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(e,i,a,s){return new ik(e,i,a,s)}function ji(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hk(e){if(typeof e=="function")return ji(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Aa)return 11;if(e===Da)return 14}return 2}function Tg(e,i){var a=e.alternate;return a===null?(a=nh(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null),a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Vg(e,i,a,s,o,c){var f=2;if(s=e,typeof e=="function")ji(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case ua:return Xg(a.children,o,c,i);case Ha:f=8,o|=16;break;case wa:f=8,o|=1;break;case xa:return e=nh(12,a,i,o|8),e.elementType=xa,e.type=xa,e.lanes=c,e;case Ba:return e=nh(13,a,i,o),e.type=Ba,e.elementType=Ba,e.lanes=c,e;case Ca:return e=nh(19,a,i,o),e.elementType=Ca,e.lanes=c,e;case Ia:return vi(a,o,c,i);case Ja:return e=nh(24,a,i,o),e.elementType=Ja,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ya:f=10;break e;case za:f=9;break e;case Aa:f=11;break e;case Da:f=14;break e;case Ea:f=16,s=null;break e;case Fa:f=22;break e}throw Error(y(130,e==null?e:typeof e,""))}return i=nh(f,a,i,o),i.elementType=e,i.type=s,i.lanes=c,i}function Xg(e,i,a,s){return e=nh(7,e,s,i),e.lanes=a,e}function vi(e,i,a,s){return e=nh(23,e,s,i),e.elementType=Ia,e.lanes=a,e}function Ug(e,i,a){return e=nh(6,e,null,i),e.lanes=a,e}function Wg(e,i,a){return i=nh(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function jk(e,i,a){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=a,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function kk(e,i,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:s==null?null:""+s,children:e,containerInfo:i,implementation:a}}function lk(e,i,a,s){var o=i.current,c=Hg(),f=Ig(o);e:if(a){a=a._reactInternals;t:{if(Zb(a)!==a||a.tag!==1)throw Error(y(170));var d=a;do{switch(d.tag){case 3:d=d.stateNode.context;break t;case 1:if(Ff(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break t}}d=d.return}while(d!==null);throw Error(y(171))}if(a.tag===1){var j=a.type;if(Ff(j)){a=If(a,j,d);break e}}a=d}else a=Cf;return i.context===null?i.context=a:i.pendingContext=a,i=zg(c,f),i.payload={element:e},s=s===void 0?null:s,s!==null&&(i.callback=s),Ag(o,i),Jg(o,f,c),f}function mk(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nk(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function ok(e,i){nk(e,i),(e=e.alternate)&&nk(e,i)}function pk(){return null}function qk(e,i,a){var s=a!=null&&a.hydrationOptions!=null&&a.hydrationOptions.mutableSources||null;if(a=new jk(e,i,a!=null&&a.hydrate===!0),i=nh(3,null,null,i===2?7:i===1?3:0),a.current=i,i.stateNode=a,xg(i),e[ff]=a.current,cf(e.nodeType===8?e.parentNode:e),s)for(e=0;e<s.length;e++){i=s[e];var o=i._getVersion;o=o(i._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[i,o]:a.mutableSourceEagerHydrationData.push(i,o)}this._internalRoot=a}qk.prototype.render=function(e){lk(e,this._internalRoot,null,null)};qk.prototype.unmount=function(){var e=this._internalRoot,i=e.containerInfo;lk(null,e,null,function(){i[ff]=null})};function rk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sk(e,i){if(i||(i=e?e.nodeType===9?e.documentElement:e.firstChild:null,i=!(!i||i.nodeType!==1||!i.hasAttribute("data-reactroot"))),!i)for(var a;a=e.lastChild;)e.removeChild(a);return new qk(e,0,i?{hydrate:!0}:void 0)}function tk(e,i,a,s,o){var c=a._reactRootContainer;if(c){var f=c._internalRoot;if(typeof o=="function"){var d=o;o=function(){var b=mk(f);d.call(b)}}lk(i,f,e,o)}else{if(c=a._reactRootContainer=sk(a,s),f=c._internalRoot,typeof o=="function"){var j=o;o=function(){var b=mk(f);j.call(b)}}Xj(function(){lk(i,f,e,o)})}return mk(f)}ec=function(e){if(e.tag===13){var i=Hg();Jg(e,4,i),ok(e,4)}};fc=function(e){if(e.tag===13){var i=Hg();Jg(e,67108864,i),ok(e,67108864)}};gc=function(e){if(e.tag===13){var i=Hg(),a=Ig(e);Jg(e,a,i),ok(e,a)}};hc=function(e,i){return i()};yb=function(e,i,a){switch(i){case"input":if(ab(e,a),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var s=a[i];if(s!==e&&s.form===e.form){var o=Db(s);if(!o)throw Error(y(90));Wa(s),ab(s,o)}}}break;case"textarea":ib(e,a);break;case"select":i=a.value,i!=null&&fb(e,!!a.multiple,i,!1)}};Gb=Wj;Hb=function(e,i,a,s,o){var c=X;X|=4;try{return gg(98,e.bind(null,i,a,s,o))}finally{X=c,X===0&&(wj(),ig())}};Ib=function(){(X&49)===0&&(Vj(),Oj())};Jb=function(e,i){var a=X;X|=2;try{return e(i)}finally{X=a,X===0&&(wj(),ig())}};function uk(e,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rk(i))throw Error(y(200));return kk(e,i,null,a)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cc(e),e===null?null:e.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;reactDom_production_min.createPortal=uk;reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(y(188)):Error(y(268,Object.keys(e)));return e=cc(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e,i){var a=X;if((a&48)!==0)return e(i);X|=1;try{if(e)return gg(99,e.bind(null,i))}finally{X=a,ig()}};reactDom_production_min.hydrate=function(e,i,a){if(!rk(i))throw Error(y(200));return tk(null,e,i,!0,a)};reactDom_production_min.render=function(e,i,a){if(!rk(i))throw Error(y(200));return tk(null,e,i,!1,a)};reactDom_production_min.unmountComponentAtNode=function(e){if(!rk(e))throw Error(y(40));return e._reactRootContainer?(Xj(function(){tk(null,null,e,!1,function(){e._reactRootContainer=null,e[ff]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Wj;reactDom_production_min.unstable_createPortal=function(e,i){return uk(e,i,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,a,s){if(!rk(a))throw Error(y(200));if(e==null||e._reactInternals===void 0)throw Error(y(38));return tk(e,i,a,!1,s)};reactDom_production_min.version="17.0.2";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var ReactDOM=reactDom.exports,FUNC_ERROR_TEXT="Expected a function",NAN=0/0,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(e,i,a){var s,o,c,f,d,j,b=0,_e=!1,pt=!1,et=!0;if(typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);i=toNumber(i)||0,isObject(a)&&(_e=!!a.leading,pt="maxWait"in a,c=pt?nativeMax(toNumber(a.maxWait)||0,i):c,et="trailing"in a?!!a.trailing:et);function nt(k){var ot=s,ct=o;return s=o=void 0,b=k,f=e.apply(ct,ot),f}function at(k){return b=k,d=setTimeout(ut,i),_e?nt(k):f}function it(k){var ot=k-j,ct=k-b,dt=i-ot;return pt?nativeMin(dt,c-ct):dt}function rt(k){var ot=k-j,ct=k-b;return j===void 0||ot>=i||ot<0||pt&&ct>=c}function ut(){var k=now();if(rt(k))return _(k);d=setTimeout(ut,it(k))}function _(k){return d=void 0,et&&s?nt(k):(s=o=void 0,f)}function tt(){d!==void 0&&clearTimeout(d),b=0,s=j=o=d=void 0}function $(){return d===void 0?f:_(now())}function g(){var k=now(),ot=rt(k);if(s=arguments,o=this,j=k,ot){if(d===void 0)return at(j);if(pt)return d=setTimeout(ut,i),nt(j)}return d===void 0&&(d=setTimeout(ut,i)),f}return g.cancel=tt,g.flush=$,g}function isObject(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toNumber(e){if(typeof e=="number")return e;if(isSymbol(e))return NAN;if(isObject(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=e.replace(reTrim,"");var a=reIsBinary.test(e);return a||reIsOctal.test(e)?freeParseInt(e.slice(2),a?2:8):reIsBadHex.test(e)?NAN:+e}var lodash_debounce=debounce,pdf_viewer={exports:{}},pdf={exports:{}},dommatrix={exports:{}};/*!
* DOMMatrix v1.0.3 (https://thednp.github.io/dommatrix/)
* Copyright 2022  thednp
* Licensed under MIT (https://github.com/thednp/DOMMatrix/blob/master/LICENSE)
*/(function(e,i){(function(a,s){e.exports=s()})(commonjsGlobal,function(){function a(_){var tt=new at,$=Array.from(_);if(!$.every(function(Ot){return!Number.isNaN(Ot)}))throw TypeError('CSSMatrix: "'+_+'" must only have numbers.');if($.length===16){var g=$[0],k=$[1],ot=$[2],ct=$[3],dt=$[4],ft=$[5],bt=$[6],Mt=$[7],_t=$[8],xt=$[9],wt=$[10],At=$[11],Et=$[12],yt=$[13],Pt=$[14],It=$[15];tt.m11=g,tt.a=g,tt.m21=dt,tt.c=dt,tt.m31=_t,tt.m41=Et,tt.e=Et,tt.m12=k,tt.b=k,tt.m22=ft,tt.d=ft,tt.m32=xt,tt.m42=yt,tt.f=yt,tt.m13=ot,tt.m23=bt,tt.m33=wt,tt.m43=Pt,tt.m14=ct,tt.m24=Mt,tt.m34=At,tt.m44=It}else if($.length===6){var vt=$[0],Wt=$[1],jt=$[2],Rt=$[3],ht=$[4],gt=$[5];tt.m11=vt,tt.a=vt,tt.m12=Wt,tt.b=Wt,tt.m21=jt,tt.c=jt,tt.m22=Rt,tt.d=Rt,tt.m41=ht,tt.e=ht,tt.m42=gt,tt.f=gt}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return tt}function s(_){var tt=Object.keys(new at);if(typeof _=="object"&&tt.every(function($){return $ in _}))return a([_.m11,_.m12,_.m13,_.m14,_.m21,_.m22,_.m23,_.m24,_.m31,_.m32,_.m33,_.m34,_.m41,_.m42,_.m43,_.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(_)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function o(_){if(typeof _!="string")throw TypeError('CSSMatrix: "'+_+'" is not a string.');var tt=String(_).replace(/\s/g,""),$=new at,g='CSSMatrix: invalid transform string "'+_+'"';return tt.split(")").filter(function(k){return k}).forEach(function(k){var ot=k.split("("),ct=ot[0],dt=ot[1];if(!dt)throw TypeError(g);var ft=dt.split(",").map(function(ht){return ht.includes("rad")?parseFloat(ht)*(180/Math.PI):parseFloat(ht)}),bt=ft[0],Mt=ft[1],_t=ft[2],xt=ft[3],wt=[bt,Mt,_t],At=[bt,Mt,_t,xt];if(ct==="perspective"&&bt&&[Mt,_t].every(function(ht){return ht===void 0}))$.m34=-1/bt;else if(ct.includes("matrix")&&[6,16].includes(ft.length)&&ft.every(function(ht){return!Number.isNaN(+ht)})){var Et=ft.map(function(ht){return Math.abs(ht)<1e-6?0:ht});$=$.multiply(a(Et))}else if(ct==="translate3d"&&wt.every(function(ht){return!Number.isNaN(+ht)}))$=$.translate(bt,Mt,_t);else if(ct==="translate"&&bt&&_t===void 0)$=$.translate(bt,Mt||0,0);else if(ct==="rotate3d"&&At.every(function(ht){return!Number.isNaN(+ht)})&&xt)$=$.rotateAxisAngle(bt,Mt,_t,xt);else if(ct==="rotate"&&bt&&[Mt,_t].every(function(ht){return ht===void 0}))$=$.rotate(0,0,bt);else if(ct==="scale3d"&&wt.every(function(ht){return!Number.isNaN(+ht)})&&wt.some(function(ht){return ht!==1}))$=$.scale(bt,Mt,_t);else if(ct==="scale"&&!Number.isNaN(bt)&&bt!==1&&_t===void 0){var yt=Number.isNaN(+Mt),Pt=yt?bt:Mt;$=$.scale(bt,Pt,1)}else if(ct==="skew"&&(bt||!Number.isNaN(bt)&&Mt)&&_t===void 0)$=$.skew(bt,Mt||0);else if(/[XYZ]/.test(ct)&&bt&&[Mt,_t].every(function(ht){return ht===void 0})&&["translate","rotate","scale","skew"].some(function(ht){return ct.includes(ht)}))if(["skewX","skewY"].includes(ct))$=$[ct](bt);else{var It=ct.replace(/[XYZ]/,""),vt=ct.replace(It,""),Wt=["X","Y","Z"].indexOf(vt),jt=It==="scale"?1:0,Rt=[Wt===0?bt:jt,Wt===1?bt:jt,Wt===2?bt:jt];$=$[It].apply($,Rt)}else throw TypeError(g)}),$}function c(_,tt){return tt?[_.a,_.b,_.c,_.d,_.e,_.f]:[_.m11,_.m12,_.m13,_.m14,_.m21,_.m22,_.m23,_.m24,_.m31,_.m32,_.m33,_.m34,_.m41,_.m42,_.m43,_.m44]}function f(_,tt,$){var g=new at;return g.m41=_,g.e=_,g.m42=tt,g.f=tt,g.m43=$,g}function d(_,tt,$){var g=new at,k=Math.PI/180,ot=_*k,ct=tt*k,dt=$*k,ft=Math.cos(ot),bt=-Math.sin(ot),Mt=Math.cos(ct),_t=-Math.sin(ct),xt=Math.cos(dt),wt=-Math.sin(dt),At=Mt*xt,Et=-Mt*wt;g.m11=At,g.a=At,g.m12=Et,g.b=Et,g.m13=_t;var yt=bt*_t*xt+ft*wt;g.m21=yt,g.c=yt;var Pt=ft*xt-bt*_t*wt;return g.m22=Pt,g.d=Pt,g.m23=-bt*Mt,g.m31=bt*wt-ft*_t*xt,g.m32=bt*xt+ft*_t*wt,g.m33=ft*Mt,g}function j(_,tt,$,g){var k=new at,ot=Math.sqrt(_*_+tt*tt+$*$);if(ot===0)return k;var ct=_/ot,dt=tt/ot,ft=$/ot,bt=g*(Math.PI/360),Mt=Math.sin(bt),_t=Math.cos(bt),xt=Mt*Mt,wt=ct*ct,At=dt*dt,Et=ft*ft,yt=1-2*(At+Et)*xt;k.m11=yt,k.a=yt;var Pt=2*(ct*dt*xt+ft*Mt*_t);k.m12=Pt,k.b=Pt,k.m13=2*(ct*ft*xt-dt*Mt*_t);var It=2*(dt*ct*xt-ft*Mt*_t);k.m21=It,k.c=It;var vt=1-2*(Et+wt)*xt;return k.m22=vt,k.d=vt,k.m23=2*(dt*ft*xt+ct*Mt*_t),k.m31=2*(ft*ct*xt+dt*Mt*_t),k.m32=2*(ft*dt*xt-ct*Mt*_t),k.m33=1-2*(wt+At)*xt,k}function b(_,tt,$){var g=new at;return g.m11=_,g.a=_,g.m22=tt,g.d=tt,g.m33=$,g}function _e(_,tt){var $=new at;if(_){var g=_*Math.PI/180,k=Math.tan(g);$.m21=k,$.c=k}if(tt){var ot=tt*Math.PI/180,ct=Math.tan(ot);$.m12=ct,$.b=ct}return $}function pt(_){return _e(_,0)}function et(_){return _e(0,_)}function nt(_,tt){var $=tt.m11*_.m11+tt.m12*_.m21+tt.m13*_.m31+tt.m14*_.m41,g=tt.m11*_.m12+tt.m12*_.m22+tt.m13*_.m32+tt.m14*_.m42,k=tt.m11*_.m13+tt.m12*_.m23+tt.m13*_.m33+tt.m14*_.m43,ot=tt.m11*_.m14+tt.m12*_.m24+tt.m13*_.m34+tt.m14*_.m44,ct=tt.m21*_.m11+tt.m22*_.m21+tt.m23*_.m31+tt.m24*_.m41,dt=tt.m21*_.m12+tt.m22*_.m22+tt.m23*_.m32+tt.m24*_.m42,ft=tt.m21*_.m13+tt.m22*_.m23+tt.m23*_.m33+tt.m24*_.m43,bt=tt.m21*_.m14+tt.m22*_.m24+tt.m23*_.m34+tt.m24*_.m44,Mt=tt.m31*_.m11+tt.m32*_.m21+tt.m33*_.m31+tt.m34*_.m41,_t=tt.m31*_.m12+tt.m32*_.m22+tt.m33*_.m32+tt.m34*_.m42,xt=tt.m31*_.m13+tt.m32*_.m23+tt.m33*_.m33+tt.m34*_.m43,wt=tt.m31*_.m14+tt.m32*_.m24+tt.m33*_.m34+tt.m34*_.m44,At=tt.m41*_.m11+tt.m42*_.m21+tt.m43*_.m31+tt.m44*_.m41,Et=tt.m41*_.m12+tt.m42*_.m22+tt.m43*_.m32+tt.m44*_.m42,yt=tt.m41*_.m13+tt.m42*_.m23+tt.m43*_.m33+tt.m44*_.m43,Pt=tt.m41*_.m14+tt.m42*_.m24+tt.m43*_.m34+tt.m44*_.m44;return a([$,g,k,ot,ct,dt,ft,bt,Mt,_t,xt,wt,At,Et,yt,Pt])}var at=function(){for(var tt=[],$=arguments.length;$--;)tt[$]=arguments[$];var g=this;if(g.a=1,g.b=0,g.c=0,g.d=1,g.e=0,g.f=0,g.m11=1,g.m12=0,g.m13=0,g.m14=0,g.m21=0,g.m22=1,g.m23=0,g.m24=0,g.m31=0,g.m32=0,g.m33=1,g.m34=0,g.m41=0,g.m42=0,g.m43=0,g.m44=1,tt.length){var k=[16,6].some(function(ot){return ot===tt.length})?tt:tt[0];return g.setMatrixValue(k)}return g},it={isIdentity:{configurable:!0},is2D:{configurable:!0}};it.isIdentity.get=function(){var _=this;return _.m11===1&&_.m12===0&&_.m13===0&&_.m14===0&&_.m21===0&&_.m22===1&&_.m23===0&&_.m24===0&&_.m31===0&&_.m32===0&&_.m33===1&&_.m34===0&&_.m41===0&&_.m42===0&&_.m43===0&&_.m44===1},it.is2D.get=function(){var _=this;return _.m31===0&&_.m32===0&&_.m33===1&&_.m34===0&&_.m43===0&&_.m44===1},at.prototype.setMatrixValue=function(tt){var $=this;return typeof tt=="string"&&tt.length&&tt!=="none"?o(tt):[Array,Float64Array,Float32Array].some(function(g){return tt instanceof g})?a(tt):[at,DOMMatrix,Object].some(function(g){return tt instanceof g})?s(tt):$},at.prototype.toFloat32Array=function(tt){return Float32Array.from(c(this,tt))},at.prototype.toFloat64Array=function(tt){return Float64Array.from(c(this,tt))},at.prototype.toString=function(){var tt=this,$=tt.is2D,g=tt.toFloat64Array($).join(", "),k=$?"matrix":"matrix3d";return k+"("+g+")"},at.prototype.toJSON=function(){var tt=this,$=tt.is2D,g=tt.isIdentity;return Object.assign({},tt,{is2D:$,isIdentity:g})},at.prototype.multiply=function(tt){return nt(this,tt)},at.prototype.translate=function(tt,$,g){var k=tt,ot=$,ct=g;return ot===void 0&&(ot=0),ct===void 0&&(ct=0),nt(this,f(k,ot,ct))},at.prototype.scale=function(tt,$,g){var k=tt,ot=$,ct=g;return ot===void 0&&(ot=tt),ct===void 0&&(ct=1),nt(this,b(k,ot,ct))},at.prototype.rotate=function(tt,$,g){var k=tt,ot=$||0,ct=g||0;return typeof tt=="number"&&$===void 0&&g===void 0&&(ct=k,k=0,ot=0),nt(this,d(k,ot,ct))},at.prototype.rotateAxisAngle=function(tt,$,g,k){if([tt,$,g,k].some(function(ot){return Number.isNaN(+ot)}))throw new TypeError("CSSMatrix: expecting 4 values");return nt(this,j(tt,$,g,k))},at.prototype.skewX=function(tt){return nt(this,pt(tt))},at.prototype.skewY=function(tt){return nt(this,et(tt))},at.prototype.skew=function(tt,$){return nt(this,_e(tt,$))},at.prototype.transformPoint=function(tt){var $=this,g=$.m11*tt.x+$.m21*tt.y+$.m31*tt.z+$.m41*tt.w,k=$.m12*tt.x+$.m22*tt.y+$.m32*tt.z+$.m42*tt.w,ot=$.m13*tt.x+$.m23*tt.y+$.m33*tt.z+$.m43*tt.w,ct=$.m14*tt.x+$.m24*tt.y+$.m34*tt.z+$.m44*tt.w;return tt instanceof DOMPoint?new DOMPoint(g,k,ot,ct):{x:g,y:k,z:ot,w:ct}},Object.defineProperties(at.prototype,it),Object.assign(at,{Translate:f,Rotate:d,RotateAxisAngle:j,Scale:b,SkewX:pt,SkewY:et,Skew:_e,Multiply:nt,fromArray:a,fromMatrix:s,fromString:o,toArray:c});var rt="1.0.3",ut=rt;return Object.assign(at,{Version:ut}),at})})(dommatrix);var ponyfill={exports:{}};(function(e,i){(function(a,s){s(i)})(commonjsGlobal,function(a){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(h){return"Symbol("+h+")"};function o(){}function c(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal}var f=c();function d(h){return typeof h=="object"&&h!==null||typeof h=="function"}var j=o,b=Promise,_e=Promise.prototype.then,pt=Promise.resolve.bind(b),et=Promise.reject.bind(b);function nt(h){return new b(h)}function at(h){return pt(h)}function it(h){return et(h)}function rt(h,st,Tt){return _e.call(h,st,Tt)}function ut(h,st,Tt){rt(rt(h,st,Tt),void 0,j)}function _(h,st){ut(h,st)}function tt(h,st){ut(h,void 0,st)}function $(h,st,Tt){return rt(h,st,Tt)}function g(h){rt(h,void 0,j)}var k=function(){var h=f&&f.queueMicrotask;if(typeof h=="function")return h;var st=at(void 0);return function(Tt){return rt(st,Tt)}}();function ot(h,st,Tt){if(typeof h!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(h,st,Tt)}function ct(h,st,Tt){try{return at(ot(h,st,Tt))}catch(Ut){return it(Ut)}}var dt=16384,ft=function(){function h(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(h.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),h.prototype.push=function(st){var Tt=this._back,Ut=Tt;Tt._elements.length===dt-1&&(Ut={_elements:[],_next:void 0}),Tt._elements.push(st),Ut!==Tt&&(this._back=Ut,Tt._next=Ut),++this._size},h.prototype.shift=function(){var st=this._front,Tt=st,Ut=this._cursor,rn=Ut+1,fn=st._elements,bn=fn[Ut];return rn===dt&&(Tt=st._next,rn=0),--this._size,this._cursor=rn,st!==Tt&&(this._front=Tt),fn[Ut]=void 0,bn},h.prototype.forEach=function(st){for(var Tt=this._cursor,Ut=this._front,rn=Ut._elements;(Tt!==rn.length||Ut._next!==void 0)&&!(Tt===rn.length&&(Ut=Ut._next,rn=Ut._elements,Tt=0,rn.length===0));)st(rn[Tt]),++Tt},h.prototype.peek=function(){var st=this._front,Tt=this._cursor;return st._elements[Tt]},h}();function bt(h,st){h._ownerReadableStream=st,st._reader=h,st._state==="readable"?wt(h):st._state==="closed"?Et(h):At(h,st._storedError)}function Mt(h,st){var Tt=h._ownerReadableStream;return er(Tt,st)}function _t(h){h._ownerReadableStream._state==="readable"?yt(h,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Pt(h,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),h._ownerReadableStream._reader=void 0,h._ownerReadableStream=void 0}function xt(h){return new TypeError("Cannot "+h+" a stream using a released reader")}function wt(h){h._closedPromise=nt(function(st,Tt){h._closedPromise_resolve=st,h._closedPromise_reject=Tt})}function At(h,st){wt(h),yt(h,st)}function Et(h){wt(h),It(h)}function yt(h,st){h._closedPromise_reject!==void 0&&(g(h._closedPromise),h._closedPromise_reject(st),h._closedPromise_resolve=void 0,h._closedPromise_reject=void 0)}function Pt(h,st){At(h,st)}function It(h){h._closedPromise_resolve!==void 0&&(h._closedPromise_resolve(void 0),h._closedPromise_resolve=void 0,h._closedPromise_reject=void 0)}var vt=s("[[AbortSteps]]"),Wt=s("[[ErrorSteps]]"),jt=s("[[CancelSteps]]"),Rt=s("[[PullSteps]]"),ht=Number.isFinite||function(h){return typeof h=="number"&&isFinite(h)},gt=Math.trunc||function(h){return h<0?Math.ceil(h):Math.floor(h)};function Ot(h){return typeof h=="object"||typeof h=="function"}function Ft(h,st){if(h!==void 0&&!Ot(h))throw new TypeError(st+" is not an object.")}function lt(h,st){if(typeof h!="function")throw new TypeError(st+" is not a function.")}function mt(h){return typeof h=="object"&&h!==null||typeof h=="function"}function St(h,st){if(!mt(h))throw new TypeError(st+" is not an object.")}function Ct(h,st,Tt){if(h===void 0)throw new TypeError("Parameter "+st+" is required in '"+Tt+"'.")}function Dt(h,st,Tt){if(h===void 0)throw new TypeError(st+" is required in '"+Tt+"'.")}function Lt(h){return Number(h)}function $t(h){return h===0?0:h}function Xt(h){return $t(gt(h))}function Zt(h,st){var Tt=0,Ut=Number.MAX_SAFE_INTEGER,rn=Number(h);if(rn=$t(rn),!ht(rn))throw new TypeError(st+" is not a finite number");if(rn=Xt(rn),rn<Tt||rn>Ut)throw new TypeError(st+" is outside the accepted range of "+Tt+" to "+Ut+", inclusive");return!ht(rn)||rn===0?0:rn}function Jt(h,st){if(!cr(h))throw new TypeError(st+" is not a ReadableStream.")}function Qt(h){return new vn(h)}function en(h,st){h._reader._readRequests.push(st)}function un(h,st,Tt){var Ut=h._reader,rn=Ut._readRequests.shift();Tt?rn._closeSteps():rn._chunkSteps(st)}function gn(h){return h._reader._readRequests.length}function yn(h){var st=h._reader;return!(st===void 0||!An(st))}var vn=function(){function h(st){if(Ct(st,1,"ReadableStreamDefaultReader"),Jt(st,"First parameter"),dr(st))throw new TypeError("This stream has already been locked for exclusive reading by another reader");bt(this,st),this._readRequests=new ft}return Object.defineProperty(h.prototype,"closed",{get:function(){return An(this)?this._closedPromise:it(dn("closed"))},enumerable:!1,configurable:!0}),h.prototype.cancel=function(st){return st===void 0&&(st=void 0),An(this)?this._ownerReadableStream===void 0?it(xt("cancel")):Mt(this,st):it(dn("cancel"))},h.prototype.read=function(){if(!An(this))return it(dn("read"));if(this._ownerReadableStream===void 0)return it(xt("read from"));var st,Tt,Ut=nt(function(fn,bn){st=fn,Tt=bn}),rn={_chunkSteps:function(fn){return st({value:fn,done:!1})},_closeSteps:function(){return st({value:void 0,done:!0})},_errorSteps:function(fn){return Tt(fn)}};return qt(this,rn),Ut},h.prototype.releaseLock=function(){if(!An(this))throw dn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");_t(this)}},h}();Object.defineProperties(vn.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(vn.prototype,s.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function An(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_readRequests")?!1:h instanceof vn}function qt(h,st){var Tt=h._ownerReadableStream;Tt._disturbed=!0,Tt._state==="closed"?st._closeSteps():Tt._state==="errored"?st._errorSteps(Tt._storedError):Tt._readableStreamController[Rt](st)}function dn(h){return new TypeError("ReadableStreamDefaultReader.prototype."+h+" can only be used on a ReadableStreamDefaultReader")}var Sn,mn;typeof s.asyncIterator=="symbol"&&(mn=(Sn={},Sn[s.asyncIterator]=function(){return this},Sn),Object.defineProperty(mn,s.asyncIterator,{enumerable:!1}));var hn=function(){function h(st,Tt){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=st,this._preventCancel=Tt}return h.prototype.next=function(){var st=this,Tt=function(){return st._nextSteps()};return this._ongoingPromise=this._ongoingPromise?$(this._ongoingPromise,Tt,Tt):Tt(),this._ongoingPromise},h.prototype.return=function(st){var Tt=this,Ut=function(){return Tt._returnSteps(st)};return this._ongoingPromise?$(this._ongoingPromise,Ut,Ut):Ut()},h.prototype._nextSteps=function(){var st=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var Tt=this._reader;if(Tt._ownerReadableStream===void 0)return it(xt("iterate"));var Ut,rn,fn=nt(function(Tn,On){Ut=Tn,rn=On}),bn={_chunkSteps:function(Tn){st._ongoingPromise=void 0,k(function(){return Ut({value:Tn,done:!1})})},_closeSteps:function(){st._ongoingPromise=void 0,st._isFinished=!0,_t(Tt),Ut({value:void 0,done:!0})},_errorSteps:function(Tn){st._ongoingPromise=void 0,st._isFinished=!0,_t(Tt),rn(Tn)}};return qt(Tt,bn),fn},h.prototype._returnSteps=function(st){if(this._isFinished)return Promise.resolve({value:st,done:!0});this._isFinished=!0;var Tt=this._reader;if(Tt._ownerReadableStream===void 0)return it(xt("finish iterating"));if(!this._preventCancel){var Ut=Mt(Tt,st);return _t(Tt),$(Ut,function(){return{value:st,done:!0}})}return _t(Tt),at({value:st,done:!0})},h}(),Nt={next:function(){return Vt(this)?this._asyncIteratorImpl.next():it(on("next"))},return:function(h){return Vt(this)?this._asyncIteratorImpl.return(h):it(on("return"))}};mn!==void 0&&Object.setPrototypeOf(Nt,mn);function kt(h,st){var Tt=Qt(h),Ut=new hn(Tt,st),rn=Object.create(Nt);return rn._asyncIteratorImpl=Ut,rn}function Vt(h){if(!d(h)||!Object.prototype.hasOwnProperty.call(h,"_asyncIteratorImpl"))return!1;try{return h._asyncIteratorImpl instanceof hn}catch{return!1}}function on(h){return new TypeError("ReadableStreamAsyncIterator."+h+" can only be used on a ReadableSteamAsyncIterator")}var Kt=Number.isNaN||function(h){return h!==h};function an(h){return h.slice()}function pn(h,st,Tt,Ut,rn){new Uint8Array(h).set(new Uint8Array(Tt,Ut,rn),st)}function Yt(h){return h}function Bt(h){return!1}function Ht(h,st,Tt){if(h.slice)return h.slice(st,Tt);var Ut=Tt-st,rn=new ArrayBuffer(Ut);return pn(rn,0,h,st,Ut),rn}function ln(h){return!(typeof h!="number"||Kt(h)||h<0)}function nn(h){var st=Ht(h.buffer,h.byteOffset,h.byteOffset+h.byteLength);return new Uint8Array(st)}function sn(h){var st=h._queue.shift();return h._queueTotalSize-=st.size,h._queueTotalSize<0&&(h._queueTotalSize=0),st.value}function Gt(h,st,Tt){if(!ln(Tt)||Tt===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");h._queue.push({value:st,size:Tt}),h._queueTotalSize+=Tt}function zt(h){var st=h._queue.peek();return st.value}function tn(h){h._queue=new ft,h._queueTotalSize=0}var cn=function(){function h(){throw new TypeError("Illegal constructor")}return Object.defineProperty(h.prototype,"view",{get:function(){if(!Cn(this))throw os("view");return this._view},enumerable:!1,configurable:!0}),h.prototype.respond=function(st){if(!Cn(this))throw os("respond");if(Ct(st,1,"respond"),st=Zt(st,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Bt(this._view.buffer),zr(this._associatedReadableByteStreamController,st)},h.prototype.respondWithNewView=function(st){if(!Cn(this))throw os("respondWithNewView");if(Ct(st,1,"respondWithNewView"),!ArrayBuffer.isView(st))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Bt(st.buffer),jr(this._associatedReadableByteStreamController,st)},h}();Object.defineProperties(cn.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(cn.prototype,s.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var _n=function(){function h(){throw new TypeError("Illegal constructor")}return Object.defineProperty(h.prototype,"byobRequest",{get:function(){if(!Pn(this))throw Cr("byobRequest");return ss(this)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"desiredSize",{get:function(){if(!Pn(this))throw Cr("desiredSize");return Ps(this)},enumerable:!1,configurable:!0}),h.prototype.close=function(){if(!Pn(this))throw Cr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var st=this._controlledReadableByteStream._state;if(st!=="readable")throw new TypeError("The stream (in "+st+" state) is not in the readable state and cannot be closed");Ar(this)},h.prototype.enqueue=function(st){if(!Pn(this))throw Cr("enqueue");if(Ct(st,1,"enqueue"),!ArrayBuffer.isView(st))throw new TypeError("chunk must be an array buffer view");if(st.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(st.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var Tt=this._controlledReadableByteStream._state;if(Tt!=="readable")throw new TypeError("The stream (in "+Tt+" state) is not in the readable state and cannot be enqueued to");Wr(this,st)},h.prototype.error=function(st){if(st===void 0&&(st=void 0),!Pn(this))throw Cr("error");Jn(this,st)},h.prototype[jt]=function(st){wn(this),tn(this);var Tt=this._cancelAlgorithm(st);return qn(this),Tt},h.prototype[Rt]=function(st){var Tt=this._controlledReadableByteStream;if(this._queueTotalSize>0){var Ut=this._queue.shift();this._queueTotalSize-=Ut.byteLength,Ln(this);var rn=new Uint8Array(Ut.buffer,Ut.byteOffset,Ut.byteLength);st._chunkSteps(rn);return}var fn=this._autoAllocateChunkSize;if(fn!==void 0){var bn=void 0;try{bn=new ArrayBuffer(fn)}catch(On){st._errorSteps(On);return}var Tn={buffer:bn,bufferByteLength:fn,byteOffset:0,byteLength:fn,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Tn)}en(Tt,st),En(this)},h}();Object.defineProperties(_n.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(_n.prototype,s.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Pn(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_controlledReadableByteStream")?!1:h instanceof _n}function Cn(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_associatedReadableByteStreamController")?!1:h instanceof cn}function En(h){var st=Yn(h);if(!!st){if(h._pulling){h._pullAgain=!0;return}h._pulling=!0;var Tt=h._pullAlgorithm();ut(Tt,function(){h._pulling=!1,h._pullAgain&&(h._pullAgain=!1,En(h))},function(Ut){Jn(h,Ut)})}}function wn(h){Vn(h),h._pendingPullIntos=new ft}function xn(h,st){var Tt=!1;h._state==="closed"&&(Tt=!0);var Ut=Nn(st);st.readerType==="default"?un(h,Ut,Tt):vo(h,Ut,Tt)}function Nn(h){var st=h.bytesFilled,Tt=h.elementSize;return new h.viewConstructor(h.buffer,h.byteOffset,st/Tt)}function kn(h,st,Tt,Ut){h._queue.push({buffer:st,byteOffset:Tt,byteLength:Ut}),h._queueTotalSize+=Ut}function Mn(h,st){var Tt=st.elementSize,Ut=st.bytesFilled-st.bytesFilled%Tt,rn=Math.min(h._queueTotalSize,st.byteLength-st.bytesFilled),fn=st.bytesFilled+rn,bn=fn-fn%Tt,Tn=rn,On=!1;bn>Ut&&(Tn=bn-st.bytesFilled,On=!0);for(var Fn=h._queue;Tn>0;){var In=Fn.peek(),Bn=Math.min(Tn,In.byteLength),Gn=st.byteOffset+st.bytesFilled;pn(st.buffer,Gn,In.buffer,In.byteOffset,Bn),In.byteLength===Bn?Fn.shift():(In.byteOffset+=Bn,In.byteLength-=Bn),h._queueTotalSize-=Bn,Dn(h,Bn,st),Tn-=Bn}return On}function Dn(h,st,Tt){Tt.bytesFilled+=st}function Ln(h){h._queueTotalSize===0&&h._closeRequested?(qn(h),Dr(h._controlledReadableByteStream)):En(h)}function Vn(h){h._byobRequest!==null&&(h._byobRequest._associatedReadableByteStreamController=void 0,h._byobRequest._view=null,h._byobRequest=null)}function zn(h){for(;h._pendingPullIntos.length>0;){if(h._queueTotalSize===0)return;var st=h._pendingPullIntos.peek();Mn(h,st)&&($n(h),xn(h._controlledReadableByteStream,st))}}function Hn(h,st,Tt){var Ut=h._controlledReadableByteStream,rn=1;st.constructor!==DataView&&(rn=st.constructor.BYTES_PER_ELEMENT);var fn=st.constructor,bn=st.buffer,Tn={buffer:bn,bufferByteLength:bn.byteLength,byteOffset:st.byteOffset,byteLength:st.byteLength,bytesFilled:0,elementSize:rn,viewConstructor:fn,readerType:"byob"};if(h._pendingPullIntos.length>0){h._pendingPullIntos.push(Tn),Ts(Ut,Tt);return}if(Ut._state==="closed"){var On=new fn(Tn.buffer,Tn.byteOffset,0);Tt._closeSteps(On);return}if(h._queueTotalSize>0){if(Mn(h,Tn)){var Fn=Nn(Tn);Ln(h),Tt._chunkSteps(Fn);return}if(h._closeRequested){var In=new TypeError("Insufficient bytes to fill elements in the given buffer");Jn(h,In),Tt._errorSteps(In);return}}h._pendingPullIntos.push(Tn),Ts(Ut,Tt),En(h)}function Zn(h,st){var Tt=h._controlledReadableByteStream;if(ls(Tt))for(;xs(Tt)>0;){var Ut=$n(h);xn(Tt,Ut)}}function nr(h,st,Tt){if(Dn(h,st,Tt),!(Tt.bytesFilled<Tt.elementSize)){$n(h);var Ut=Tt.bytesFilled%Tt.elementSize;if(Ut>0){var rn=Tt.byteOffset+Tt.bytesFilled,fn=Ht(Tt.buffer,rn-Ut,rn);kn(h,fn,0,fn.byteLength)}Tt.bytesFilled-=Ut,xn(h._controlledReadableByteStream,Tt),zn(h)}}function Xn(h,st){var Tt=h._pendingPullIntos.peek();Vn(h);var Ut=h._controlledReadableByteStream._state;Ut==="closed"?Zn(h):nr(h,st,Tt),En(h)}function $n(h){var st=h._pendingPullIntos.shift();return st}function Yn(h){var st=h._controlledReadableByteStream;if(st._state!=="readable"||h._closeRequested||!h._started)return!1;if(yn(st)&&gn(st)>0||ls(st)&&xs(st)>0)return!0;var Tt=Ps(h);return Tt>0}function qn(h){h._pullAlgorithm=void 0,h._cancelAlgorithm=void 0}function Ar(h){var st=h._controlledReadableByteStream;if(!(h._closeRequested||st._state!=="readable")){if(h._queueTotalSize>0){h._closeRequested=!0;return}if(h._pendingPullIntos.length>0){var Tt=h._pendingPullIntos.peek();if(Tt.bytesFilled>0){var Ut=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Jn(h,Ut),Ut}}qn(h),Dr(st)}}function Wr(h,st){var Tt=h._controlledReadableByteStream;if(!(h._closeRequested||Tt._state!=="readable")){var Ut=st.buffer,rn=st.byteOffset,fn=st.byteLength,bn=Ut;if(h._pendingPullIntos.length>0){var Tn=h._pendingPullIntos.peek();Bt(Tn.buffer),Tn.buffer=Tn.buffer}if(Vn(h),yn(Tt))if(gn(Tt)===0)kn(h,bn,rn,fn);else{h._pendingPullIntos.length>0&&$n(h);var On=new Uint8Array(bn,rn,fn);un(Tt,On,!1)}else ls(Tt)?(kn(h,bn,rn,fn),zn(h)):kn(h,bn,rn,fn);En(h)}}function Jn(h,st){var Tt=h._controlledReadableByteStream;Tt._state==="readable"&&(wn(h),tn(h),qn(h),Zs(Tt,st))}function ss(h){if(h._byobRequest===null&&h._pendingPullIntos.length>0){var st=h._pendingPullIntos.peek(),Tt=new Uint8Array(st.buffer,st.byteOffset+st.bytesFilled,st.byteLength-st.bytesFilled),Ut=Object.create(cn.prototype);mo(Ut,h,Tt),h._byobRequest=Ut}return h._byobRequest}function Ps(h){var st=h._controlledReadableByteStream._state;return st==="errored"?null:st==="closed"?0:h._strategyHWM-h._queueTotalSize}function zr(h,st){var Tt=h._pendingPullIntos.peek(),Ut=h._controlledReadableByteStream._state;if(Ut==="closed"){if(st!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(st===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(Tt.bytesFilled+st>Tt.byteLength)throw new RangeError("bytesWritten out of range")}Tt.buffer=Tt.buffer,Xn(h,st)}function jr(h,st){var Tt=h._pendingPullIntos.peek(),Ut=h._controlledReadableByteStream._state;if(Ut==="closed"){if(st.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(st.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(Tt.byteOffset+Tt.bytesFilled!==st.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Tt.bufferByteLength!==st.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(Tt.bytesFilled+st.byteLength>Tt.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var rn=st.byteLength;Tt.buffer=st.buffer,Xn(h,rn)}function As(h,st,Tt,Ut,rn,fn,bn){st._controlledReadableByteStream=h,st._pullAgain=!1,st._pulling=!1,st._byobRequest=null,st._queue=st._queueTotalSize=void 0,tn(st),st._closeRequested=!1,st._started=!1,st._strategyHWM=fn,st._pullAlgorithm=Ut,st._cancelAlgorithm=rn,st._autoAllocateChunkSize=bn,st._pendingPullIntos=new ft,h._readableStreamController=st;var Tn=Tt();ut(at(Tn),function(){st._started=!0,En(st)},function(On){Jn(st,On)})}function go(h,st,Tt){var Ut=Object.create(_n.prototype),rn=function(){},fn=function(){return at(void 0)},bn=function(){return at(void 0)};st.start!==void 0&&(rn=function(){return st.start(Ut)}),st.pull!==void 0&&(fn=function(){return st.pull(Ut)}),st.cancel!==void 0&&(bn=function(On){return st.cancel(On)});var Tn=st.autoAllocateChunkSize;if(Tn===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");As(h,Ut,rn,fn,bn,Tt,Tn)}function mo(h,st,Tt){h._associatedReadableByteStreamController=st,h._view=Tt}function os(h){return new TypeError("ReadableStreamBYOBRequest.prototype."+h+" can only be used on a ReadableStreamBYOBRequest")}function Cr(h){return new TypeError("ReadableByteStreamController.prototype."+h+" can only be used on a ReadableByteStreamController")}function Cs(h){return new Tr(h)}function Ts(h,st){h._reader._readIntoRequests.push(st)}function vo(h,st,Tt){var Ut=h._reader,rn=Ut._readIntoRequests.shift();Tt?rn._closeSteps(st):rn._chunkSteps(st)}function xs(h){return h._reader._readIntoRequests.length}function ls(h){var st=h._reader;return!(st===void 0||!pr(st))}var Tr=function(){function h(st){if(Ct(st,1,"ReadableStreamBYOBReader"),Jt(st,"First parameter"),dr(st))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Pn(st._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");bt(this,st),this._readIntoRequests=new ft}return Object.defineProperty(h.prototype,"closed",{get:function(){return pr(this)?this._closedPromise:it(Ur("closed"))},enumerable:!1,configurable:!0}),h.prototype.cancel=function(st){return st===void 0&&(st=void 0),pr(this)?this._ownerReadableStream===void 0?it(xt("cancel")):Mt(this,st):it(Ur("cancel"))},h.prototype.read=function(st){if(!pr(this))return it(Ur("read"));if(!ArrayBuffer.isView(st))return it(new TypeError("view must be an array buffer view"));if(st.byteLength===0)return it(new TypeError("view must have non-zero byteLength"));if(st.buffer.byteLength===0)return it(new TypeError("view's buffer must have non-zero byteLength"));if(Bt(st.buffer),this._ownerReadableStream===void 0)return it(xt("read from"));var Tt,Ut,rn=nt(function(bn,Tn){Tt=bn,Ut=Tn}),fn={_chunkSteps:function(bn){return Tt({value:bn,done:!1})},_closeSteps:function(bn){return Tt({value:bn,done:!0})},_errorSteps:function(bn){return Ut(bn)}};return ks(this,st,fn),rn},h.prototype.releaseLock=function(){if(!pr(this))throw Ur("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");_t(this)}},h}();Object.defineProperties(Tr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,s.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function pr(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_readIntoRequests")?!1:h instanceof Tr}function ks(h,st,Tt){var Ut=h._ownerReadableStream;Ut._disturbed=!0,Ut._state==="errored"?Tt._errorSteps(Ut._storedError):Hn(Ut._readableStreamController,st,Tt)}function Ur(h){return new TypeError("ReadableStreamBYOBReader.prototype."+h+" can only be used on a ReadableStreamBYOBReader")}function xr(h,st){var Tt=h.highWaterMark;if(Tt===void 0)return st;if(Kt(Tt)||Tt<0)throw new RangeError("Invalid highWaterMark");return Tt}function Vr(h){var st=h.size;return st||function(){return 1}}function $r(h,st){Ft(h,st);var Tt=h==null?void 0:h.highWaterMark,Ut=h==null?void 0:h.size;return{highWaterMark:Tt===void 0?void 0:Lt(Tt),size:Ut===void 0?void 0:yo(Ut,st+" has member 'size' that")}}function yo(h,st){return lt(h,st),function(Tt){return Lt(h(Tt))}}function bo(h,st){Ft(h,st);var Tt=h==null?void 0:h.abort,Ut=h==null?void 0:h.close,rn=h==null?void 0:h.start,fn=h==null?void 0:h.type,bn=h==null?void 0:h.write;return{abort:Tt===void 0?void 0:_o(Tt,h,st+" has member 'abort' that"),close:Ut===void 0?void 0:So(Ut,h,st+" has member 'close' that"),start:rn===void 0?void 0:wo(rn,h,st+" has member 'start' that"),write:bn===void 0?void 0:Eo(bn,h,st+" has member 'write' that"),type:fn}}function _o(h,st,Tt){return lt(h,Tt),function(Ut){return ct(h,st,[Ut])}}function So(h,st,Tt){return lt(h,Tt),function(){return ct(h,st,[])}}function wo(h,st,Tt){return lt(h,Tt),function(Ut){return ot(h,st,[Ut])}}function Eo(h,st,Tt){return lt(h,Tt),function(Ut,rn){return ct(h,st,[Ut,rn])}}function Rs(h,st){if(!yr(h))throw new TypeError(st+" is not a WritableStream.")}function Po(h){if(typeof h!="object"||h===null)return!1;try{return typeof h.aborted=="boolean"}catch{return!1}}var Ao=typeof AbortController=="function";function Co(){if(Ao)return new AbortController}var kr=function(){function h(st,Tt){st===void 0&&(st={}),Tt===void 0&&(Tt={}),st===void 0?st=null:St(st,"First parameter");var Ut=$r(Tt,"Second parameter"),rn=bo(st,"First parameter");Os(this);var fn=rn.type;if(fn!==void 0)throw new RangeError("Invalid type is specified");var bn=Vr(Ut),Tn=xr(Ut,1);zo(this,rn,Tn,bn)}return Object.defineProperty(h.prototype,"locked",{get:function(){if(!yr(this))throw Kr("locked");return br(this)},enumerable:!1,configurable:!0}),h.prototype.abort=function(st){return st===void 0&&(st=void 0),yr(this)?br(this)?it(new TypeError("Cannot abort a stream that already has a writer")):Hr(this,st):it(Kr("abort"))},h.prototype.close=function(){return yr(this)?br(this)?it(new TypeError("Cannot close a stream that already has a writer")):rr(this)?it(new TypeError("Cannot close an already-closing stream")):Fs(this):it(Kr("close"))},h.prototype.getWriter=function(){if(!yr(this))throw Kr("getWriter");return Ms(this)},h}();Object.defineProperties(kr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(kr.prototype,s.toStringTag,{value:"WritableStream",configurable:!0});function Ms(h){return new Rr(h)}function To(h,st,Tt,Ut,rn,fn){rn===void 0&&(rn=1),fn===void 0&&(fn=function(){return 1});var bn=Object.create(kr.prototype);Os(bn);var Tn=Object.create(_r.prototype);return Ws(bn,Tn,h,st,Tt,Ut,rn,fn),bn}function Os(h){h._state="writable",h._storedError=void 0,h._writer=void 0,h._writableStreamController=void 0,h._writeRequests=new ft,h._inFlightWriteRequest=void 0,h._closeRequest=void 0,h._inFlightCloseRequest=void 0,h._pendingAbortRequest=void 0,h._backpressure=!1}function yr(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_writableStreamController")?!1:h instanceof kr}function br(h){return h._writer!==void 0}function Hr(h,st){var Tt;if(h._state==="closed"||h._state==="errored")return at(void 0);h._writableStreamController._abortReason=st,(Tt=h._writableStreamController._abortController)===null||Tt===void 0||Tt.abort();var Ut=h._state;if(Ut==="closed"||Ut==="errored")return at(void 0);if(h._pendingAbortRequest!==void 0)return h._pendingAbortRequest._promise;var rn=!1;Ut==="erroring"&&(rn=!0,st=void 0);var fn=nt(function(bn,Tn){h._pendingAbortRequest={_promise:void 0,_resolve:bn,_reject:Tn,_reason:st,_wasAlreadyErroring:rn}});return h._pendingAbortRequest._promise=fn,rn||cs(h,st),fn}function Fs(h){var st=h._state;if(st==="closed"||st==="errored")return it(new TypeError("The stream (in "+st+" state) is not in the writable state and cannot be closed"));var Tt=nt(function(rn,fn){var bn={_resolve:rn,_reject:fn};h._closeRequest=bn}),Ut=h._writer;return Ut!==void 0&&h._backpressure&&st==="writable"&&bs(Ut),jo(h._writableStreamController),Tt}function xo(h){var st=nt(function(Tt,Ut){var rn={_resolve:Tt,_reject:Ut};h._writeRequests.push(rn)});return st}function us(h,st){var Tt=h._state;if(Tt==="writable"){cs(h,st);return}ds(h)}function cs(h,st){var Tt=h._writableStreamController;h._state="erroring",h._storedError=st;var Ut=h._writer;Ut!==void 0&&Is(Ut,st),!Fo(h)&&Tt._started&&ds(h)}function ds(h){h._state="errored",h._writableStreamController[Wt]();var st=h._storedError;if(h._writeRequests.forEach(function(rn){rn._reject(st)}),h._writeRequests=new ft,h._pendingAbortRequest===void 0){Gr(h);return}var Tt=h._pendingAbortRequest;if(h._pendingAbortRequest=void 0,Tt._wasAlreadyErroring){Tt._reject(st),Gr(h);return}var Ut=h._writableStreamController[vt](Tt._reason);ut(Ut,function(){Tt._resolve(),Gr(h)},function(rn){Tt._reject(rn),Gr(h)})}function ko(h){h._inFlightWriteRequest._resolve(void 0),h._inFlightWriteRequest=void 0}function Ro(h,st){h._inFlightWriteRequest._reject(st),h._inFlightWriteRequest=void 0,us(h,st)}function Mo(h){h._inFlightCloseRequest._resolve(void 0),h._inFlightCloseRequest=void 0;var st=h._state;st==="erroring"&&(h._storedError=void 0,h._pendingAbortRequest!==void 0&&(h._pendingAbortRequest._resolve(),h._pendingAbortRequest=void 0)),h._state="closed";var Tt=h._writer;Tt!==void 0&&Vs(Tt)}function Oo(h,st){h._inFlightCloseRequest._reject(st),h._inFlightCloseRequest=void 0,h._pendingAbortRequest!==void 0&&(h._pendingAbortRequest._reject(st),h._pendingAbortRequest=void 0),us(h,st)}function rr(h){return!(h._closeRequest===void 0&&h._inFlightCloseRequest===void 0)}function Fo(h){return!(h._inFlightWriteRequest===void 0&&h._inFlightCloseRequest===void 0)}function Do(h){h._inFlightCloseRequest=h._closeRequest,h._closeRequest=void 0}function Io(h){h._inFlightWriteRequest=h._writeRequests.shift()}function Gr(h){h._closeRequest!==void 0&&(h._closeRequest._reject(h._storedError),h._closeRequest=void 0);var st=h._writer;st!==void 0&&vs(st,h._storedError)}function hs(h,st){var Tt=h._writer;Tt!==void 0&&st!==h._backpressure&&(st?Yo(Tt):bs(Tt)),h._backpressure=st}var Rr=function(){function h(st){if(Ct(st,1,"WritableStreamDefaultWriter"),Rs(st,"First parameter"),br(st))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=st,st._writer=this;var Tt=st._state;if(Tt==="writable")!rr(st)&&st._backpressure?Qr(this):$s(this),qr(this);else if(Tt==="erroring")ys(this,st._storedError),qr(this);else if(Tt==="closed")$s(this),Go(this);else{var Ut=st._storedError;ys(this,Ut),Us(this,Ut)}}return Object.defineProperty(h.prototype,"closed",{get:function(){return gr(this)?this._closedPromise:it(mr("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"desiredSize",{get:function(){if(!gr(this))throw mr("desiredSize");if(this._ownerWritableStream===void 0)throw Mr("desiredSize");return Wo(this)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ready",{get:function(){return gr(this)?this._readyPromise:it(mr("ready"))},enumerable:!1,configurable:!0}),h.prototype.abort=function(st){return st===void 0&&(st=void 0),gr(this)?this._ownerWritableStream===void 0?it(Mr("abort")):Lo(this,st):it(mr("abort"))},h.prototype.close=function(){if(!gr(this))return it(mr("close"));var st=this._ownerWritableStream;return st===void 0?it(Mr("close")):rr(st)?it(new TypeError("Cannot close an already-closing stream")):Ds(this)},h.prototype.releaseLock=function(){if(!gr(this))throw mr("releaseLock");var st=this._ownerWritableStream;st!==void 0&&Ls(this)},h.prototype.write=function(st){return st===void 0&&(st=void 0),gr(this)?this._ownerWritableStream===void 0?it(Mr("write to")):Ns(this,st):it(mr("write"))},h}();Object.defineProperties(Rr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Rr.prototype,s.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function gr(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_ownerWritableStream")?!1:h instanceof Rr}function Lo(h,st){var Tt=h._ownerWritableStream;return Hr(Tt,st)}function Ds(h){var st=h._ownerWritableStream;return Fs(st)}function No(h){var st=h._ownerWritableStream,Tt=st._state;return rr(st)||Tt==="closed"?at(void 0):Tt==="errored"?it(st._storedError):Ds(h)}function Bo(h,st){h._closedPromiseState==="pending"?vs(h,st):Xo(h,st)}function Is(h,st){h._readyPromiseState==="pending"?Hs(h,st):Ko(h,st)}function Wo(h){var st=h._ownerWritableStream,Tt=st._state;return Tt==="errored"||Tt==="erroring"?null:Tt==="closed"?0:zs(st._writableStreamController)}function Ls(h){var st=h._ownerWritableStream,Tt=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Is(h,Tt),Bo(h,Tt),st._writer=void 0,h._ownerWritableStream=void 0}function Ns(h,st){var Tt=h._ownerWritableStream,Ut=Tt._writableStreamController,rn=Uo(Ut,st);if(Tt!==h._ownerWritableStream)return it(Mr("write to"));var fn=Tt._state;if(fn==="errored")return it(Tt._storedError);if(rr(Tt)||fn==="closed")return it(new TypeError("The stream is closing or closed and cannot be written to"));if(fn==="erroring")return it(Tt._storedError);var bn=xo(Tt);return Vo(Ut,st,rn),bn}var Bs={},_r=function(){function h(){throw new TypeError("Illegal constructor")}return Object.defineProperty(h.prototype,"abortReason",{get:function(){if(!fs(this))throw ms("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"signal",{get:function(){if(!fs(this))throw ms("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),h.prototype.error=function(st){if(st===void 0&&(st=void 0),!fs(this))throw ms("error");var Tt=this._controlledWritableStream._state;Tt==="writable"&&js(this,st)},h.prototype[vt]=function(st){var Tt=this._abortAlgorithm(st);return Xr(this),Tt},h.prototype[Wt]=function(){tn(this)},h}();Object.defineProperties(_r.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(_r.prototype,s.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function fs(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_controlledWritableStream")?!1:h instanceof _r}function Ws(h,st,Tt,Ut,rn,fn,bn,Tn){st._controlledWritableStream=h,h._writableStreamController=st,st._queue=void 0,st._queueTotalSize=void 0,tn(st),st._abortReason=void 0,st._abortController=Co(),st._started=!1,st._strategySizeAlgorithm=Tn,st._strategyHWM=bn,st._writeAlgorithm=Ut,st._closeAlgorithm=rn,st._abortAlgorithm=fn;var On=gs(st);hs(h,On);var Fn=Tt(),In=at(Fn);ut(In,function(){st._started=!0,Yr(st)},function(Bn){st._started=!0,us(h,Bn)})}function zo(h,st,Tt,Ut){var rn=Object.create(_r.prototype),fn=function(){},bn=function(){return at(void 0)},Tn=function(){return at(void 0)},On=function(){return at(void 0)};st.start!==void 0&&(fn=function(){return st.start(rn)}),st.write!==void 0&&(bn=function(Fn){return st.write(Fn,rn)}),st.close!==void 0&&(Tn=function(){return st.close()}),st.abort!==void 0&&(On=function(Fn){return st.abort(Fn)}),Ws(h,rn,fn,bn,Tn,On,Tt,Ut)}function Xr(h){h._writeAlgorithm=void 0,h._closeAlgorithm=void 0,h._abortAlgorithm=void 0,h._strategySizeAlgorithm=void 0}function jo(h){Gt(h,Bs,0),Yr(h)}function Uo(h,st){try{return h._strategySizeAlgorithm(st)}catch(Tt){return ps(h,Tt),1}}function zs(h){return h._strategyHWM-h._queueTotalSize}function Vo(h,st,Tt){try{Gt(h,st,Tt)}catch(fn){ps(h,fn);return}var Ut=h._controlledWritableStream;if(!rr(Ut)&&Ut._state==="writable"){var rn=gs(h);hs(Ut,rn)}Yr(h)}function Yr(h){var st=h._controlledWritableStream;if(!!h._started&&st._inFlightWriteRequest===void 0){var Tt=st._state;if(Tt==="erroring"){ds(st);return}if(h._queue.length!==0){var Ut=zt(h);Ut===Bs?$o(h):Ho(h,Ut)}}}function ps(h,st){h._controlledWritableStream._state==="writable"&&js(h,st)}function $o(h){var st=h._controlledWritableStream;Do(st),sn(h);var Tt=h._closeAlgorithm();Xr(h),ut(Tt,function(){Mo(st)},function(Ut){Oo(st,Ut)})}function Ho(h,st){var Tt=h._controlledWritableStream;Io(Tt);var Ut=h._writeAlgorithm(st);ut(Ut,function(){ko(Tt);var rn=Tt._state;if(sn(h),!rr(Tt)&&rn==="writable"){var fn=gs(h);hs(Tt,fn)}Yr(h)},function(rn){Tt._state==="writable"&&Xr(h),Ro(Tt,rn)})}function gs(h){var st=zs(h);return st<=0}function js(h,st){var Tt=h._controlledWritableStream;Xr(h),cs(Tt,st)}function Kr(h){return new TypeError("WritableStream.prototype."+h+" can only be used on a WritableStream")}function ms(h){return new TypeError("WritableStreamDefaultController.prototype."+h+" can only be used on a WritableStreamDefaultController")}function mr(h){return new TypeError("WritableStreamDefaultWriter.prototype."+h+" can only be used on a WritableStreamDefaultWriter")}function Mr(h){return new TypeError("Cannot "+h+" a stream using a released writer")}function qr(h){h._closedPromise=nt(function(st,Tt){h._closedPromise_resolve=st,h._closedPromise_reject=Tt,h._closedPromiseState="pending"})}function Us(h,st){qr(h),vs(h,st)}function Go(h){qr(h),Vs(h)}function vs(h,st){h._closedPromise_reject!==void 0&&(g(h._closedPromise),h._closedPromise_reject(st),h._closedPromise_resolve=void 0,h._closedPromise_reject=void 0,h._closedPromiseState="rejected")}function Xo(h,st){Us(h,st)}function Vs(h){h._closedPromise_resolve!==void 0&&(h._closedPromise_resolve(void 0),h._closedPromise_resolve=void 0,h._closedPromise_reject=void 0,h._closedPromiseState="resolved")}function Qr(h){h._readyPromise=nt(function(st,Tt){h._readyPromise_resolve=st,h._readyPromise_reject=Tt}),h._readyPromiseState="pending"}function ys(h,st){Qr(h),Hs(h,st)}function $s(h){Qr(h),bs(h)}function Hs(h,st){h._readyPromise_reject!==void 0&&(g(h._readyPromise),h._readyPromise_reject(st),h._readyPromise_resolve=void 0,h._readyPromise_reject=void 0,h._readyPromiseState="rejected")}function Yo(h){Qr(h)}function Ko(h,st){ys(h,st)}function bs(h){h._readyPromise_resolve!==void 0&&(h._readyPromise_resolve(void 0),h._readyPromise_resolve=void 0,h._readyPromise_reject=void 0,h._readyPromiseState="fulfilled")}var Gs=typeof DOMException!="undefined"?DOMException:void 0;function qo(h){if(!(typeof h=="function"||typeof h=="object"))return!1;try{return new h,!0}catch{return!1}}function Qo(){var h=function(Tt,Ut){this.message=Tt||"",this.name=Ut||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return h.prototype=Object.create(Error.prototype),Object.defineProperty(h.prototype,"constructor",{value:h,writable:!0,configurable:!0}),h}var Zo=qo(Gs)?Gs:Qo();function Xs(h,st,Tt,Ut,rn,fn){var bn=Qt(h),Tn=Ms(st);h._disturbed=!0;var On=!1,Fn=at(void 0);return nt(function(In,Bn){var Gn;if(fn!==void 0){if(Gn=function(){var Rn=new Zo("Aborted","AbortError"),Wn=[];Ut||Wn.push(function(){return st._state==="writable"?Hr(st,Rn):at(void 0)}),rn||Wn.push(function(){return h._state==="readable"?er(h,Rn):at(void 0)}),Qn(function(){return Promise.all(Wn.map(function(Un){return Un()}))},!0,Rn)},fn.aborted){Gn();return}fn.addEventListener("abort",Gn)}function tr(){return nt(function(Rn,Wn){function Un(sr){sr?Rn():rt(Er(),Un,Wn)}Un(!1)})}function Er(){return On?at(!0):rt(Tn._readyPromise,function(){return nt(function(Rn,Wn){qt(bn,{_chunkSteps:function(Un){Fn=rt(Ns(Tn,Un),void 0,o),Rn(!1)},_closeSteps:function(){return Rn(!0)},_errorSteps:Wn})})})}if(Kn(h,bn._closedPromise,function(Rn){Ut?or(!0,Rn):Qn(function(){return Hr(st,Rn)},!0,Rn)}),Kn(st,Tn._closedPromise,function(Rn){rn?or(!0,Rn):Qn(function(){return er(h,Rn)},!0,Rn)}),ar(h,bn._closedPromise,function(){Tt?or():Qn(function(){return No(Tn)})}),rr(st)||st._state==="closed"){var hr=new TypeError("the destination writable stream closed before all data could be piped to it");rn?or(!0,hr):Qn(function(){return er(h,hr)},!0,hr)}g(tr());function ir(){var Rn=Fn;return rt(Fn,function(){return Rn!==Fn?ir():void 0})}function Kn(Rn,Wn,Un){Rn._state==="errored"?Un(Rn._storedError):tt(Wn,Un)}function ar(Rn,Wn,Un){Rn._state==="closed"?Un():_(Wn,Un)}function Qn(Rn,Wn,Un){if(On)return;On=!0,st._state==="writable"&&!rr(st)?_(ir(),sr):sr();function sr(){ut(Rn(),function(){return jn(Wn,Un)},function(fr){return jn(!0,fr)})}}function or(Rn,Wn){On||(On=!0,st._state==="writable"&&!rr(st)?_(ir(),function(){return jn(Rn,Wn)}):jn(Rn,Wn))}function jn(Rn,Wn){Ls(Tn),_t(bn),fn!==void 0&&fn.removeEventListener("abort",Gn),Rn?Bn(Wn):In(void 0)}})}var Sr=function(){function h(){throw new TypeError("Illegal constructor")}return Object.defineProperty(h.prototype,"desiredSize",{get:function(){if(!Zr(this))throw ga("desiredSize");return _s(this)},enumerable:!1,configurable:!0}),h.prototype.close=function(){if(!Zr(this))throw ga("close");if(!wr(this))throw new TypeError("The stream is not in a state that permits close");Fr(this)},h.prototype.enqueue=function(st){if(st===void 0&&(st=void 0),!Zr(this))throw ga("enqueue");if(!wr(this))throw new TypeError("The stream is not in a state that permits enqueue");return _i(this,st)},h.prototype.error=function(st){if(st===void 0&&(st=void 0),!Zr(this))throw ga("error");lr(this,st)},h.prototype[jt]=function(st){tn(this);var Tt=this._cancelAlgorithm(st);return Jr(this),Tt},h.prototype[Rt]=function(st){var Tt=this._controlledReadableStream;if(this._queue.length>0){var Ut=sn(this);this._closeRequested&&this._queue.length===0?(Jr(this),Dr(Tt)):Or(this),st._chunkSteps(Ut)}else en(Tt,st),Or(this)},h}();Object.defineProperties(Sr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Sr.prototype,s.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Zr(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_controlledReadableStream")?!1:h instanceof Sr}function Or(h){var st=Ys(h);if(!!st){if(h._pulling){h._pullAgain=!0;return}h._pulling=!0;var Tt=h._pullAlgorithm();ut(Tt,function(){h._pulling=!1,h._pullAgain&&(h._pullAgain=!1,Or(h))},function(Ut){lr(h,Ut)})}}function Ys(h){var st=h._controlledReadableStream;if(!wr(h)||!h._started)return!1;if(dr(st)&&gn(st)>0)return!0;var Tt=_s(h);return Tt>0}function Jr(h){h._pullAlgorithm=void 0,h._cancelAlgorithm=void 0,h._strategySizeAlgorithm=void 0}function Fr(h){if(!!wr(h)){var st=h._controlledReadableStream;h._closeRequested=!0,h._queue.length===0&&(Jr(h),Dr(st))}}function _i(h,st){if(!!wr(h)){var Tt=h._controlledReadableStream;if(dr(Tt)&&gn(Tt)>0)un(Tt,st,!1);else{var Ut=void 0;try{Ut=h._strategySizeAlgorithm(st)}catch(rn){throw lr(h,rn),rn}try{Gt(h,st,Ut)}catch(rn){throw lr(h,rn),rn}}Or(h)}}function lr(h,st){var Tt=h._controlledReadableStream;Tt._state==="readable"&&(tn(h),Jr(h),Zs(Tt,st))}function _s(h){var st=h._controlledReadableStream._state;return st==="errored"?null:st==="closed"?0:h._strategyHWM-h._queueTotalSize}function Jo(h){return!Ys(h)}function wr(h){var st=h._controlledReadableStream._state;return!h._closeRequested&&st==="readable"}function Ks(h,st,Tt,Ut,rn,fn,bn){st._controlledReadableStream=h,st._queue=void 0,st._queueTotalSize=void 0,tn(st),st._started=!1,st._closeRequested=!1,st._pullAgain=!1,st._pulling=!1,st._strategySizeAlgorithm=bn,st._strategyHWM=fn,st._pullAlgorithm=Ut,st._cancelAlgorithm=rn,h._readableStreamController=st;var Tn=Tt();ut(at(Tn),function(){st._started=!0,Or(st)},function(On){lr(st,On)})}function el(h,st,Tt,Ut){var rn=Object.create(Sr.prototype),fn=function(){},bn=function(){return at(void 0)},Tn=function(){return at(void 0)};st.start!==void 0&&(fn=function(){return st.start(rn)}),st.pull!==void 0&&(bn=function(){return st.pull(rn)}),st.cancel!==void 0&&(Tn=function(On){return st.cancel(On)}),Ks(h,rn,fn,bn,Tn,Tt,Ut)}function ga(h){return new TypeError("ReadableStreamDefaultController.prototype."+h+" can only be used on a ReadableStreamDefaultController")}function tl(h,st){return Pn(h._readableStreamController)?rl(h):nl(h)}function nl(h,st){var Tt=Qt(h),Ut=!1,rn=!1,fn=!1,bn=!1,Tn,On,Fn,In,Bn,Gn=nt(function(Kn){Bn=Kn});function tr(){if(Ut)return rn=!0,at(void 0);Ut=!0;var Kn={_chunkSteps:function(ar){k(function(){rn=!1;var Qn=ar,or=ar;fn||_i(Fn._readableStreamController,Qn),bn||_i(In._readableStreamController,or),Ut=!1,rn&&tr()})},_closeSteps:function(){Ut=!1,fn||Fr(Fn._readableStreamController),bn||Fr(In._readableStreamController),(!fn||!bn)&&Bn(void 0)},_errorSteps:function(){Ut=!1}};return qt(Tt,Kn),at(void 0)}function Er(Kn){if(fn=!0,Tn=Kn,bn){var ar=an([Tn,On]),Qn=er(h,ar);Bn(Qn)}return Gn}function hr(Kn){if(bn=!0,On=Kn,fn){var ar=an([Tn,On]),Qn=er(h,ar);Bn(Qn)}return Gn}function ir(){}return Fn=Ss(ir,tr,Er),In=Ss(ir,tr,hr),tt(Tt._closedPromise,function(Kn){lr(Fn._readableStreamController,Kn),lr(In._readableStreamController,Kn),(!fn||!bn)&&Bn(void 0)}),[Fn,In]}function rl(h){var st=Qt(h),Tt=!1,Ut=!1,rn=!1,fn=!1,bn=!1,Tn,On,Fn,In,Bn,Gn=nt(function(jn){Bn=jn});function tr(jn){tt(jn._closedPromise,function(Rn){jn===st&&(Jn(Fn._readableStreamController,Rn),Jn(In._readableStreamController,Rn),(!fn||!bn)&&Bn(void 0))})}function Er(){pr(st)&&(_t(st),st=Qt(h),tr(st));var jn={_chunkSteps:function(Rn){k(function(){Ut=!1,rn=!1;var Wn=Rn,Un=Rn;if(!fn&&!bn)try{Un=nn(Rn)}catch(sr){Jn(Fn._readableStreamController,sr),Jn(In._readableStreamController,sr),Bn(er(h,sr));return}fn||Wr(Fn._readableStreamController,Wn),bn||Wr(In._readableStreamController,Un),Tt=!1,Ut?ir():rn&&Kn()})},_closeSteps:function(){Tt=!1,fn||Ar(Fn._readableStreamController),bn||Ar(In._readableStreamController),Fn._readableStreamController._pendingPullIntos.length>0&&zr(Fn._readableStreamController,0),In._readableStreamController._pendingPullIntos.length>0&&zr(In._readableStreamController,0),(!fn||!bn)&&Bn(void 0)},_errorSteps:function(){Tt=!1}};qt(st,jn)}function hr(jn,Rn){An(st)&&(_t(st),st=Cs(h),tr(st));var Wn=Rn?In:Fn,Un=Rn?Fn:In,sr={_chunkSteps:function(fr){k(function(){Ut=!1,rn=!1;var Pr=Rn?bn:fn,Lr=Rn?fn:bn;if(Lr)Pr||jr(Wn._readableStreamController,fr);else{var ho=void 0;try{ho=nn(fr)}catch(Es){Jn(Wn._readableStreamController,Es),Jn(Un._readableStreamController,Es),Bn(er(h,Es));return}Pr||jr(Wn._readableStreamController,fr),Wr(Un._readableStreamController,ho)}Tt=!1,Ut?ir():rn&&Kn()})},_closeSteps:function(fr){Tt=!1;var Pr=Rn?bn:fn,Lr=Rn?fn:bn;Pr||Ar(Wn._readableStreamController),Lr||Ar(Un._readableStreamController),fr!==void 0&&(Pr||jr(Wn._readableStreamController,fr),!Lr&&Un._readableStreamController._pendingPullIntos.length>0&&zr(Un._readableStreamController,0)),(!Pr||!Lr)&&Bn(void 0)},_errorSteps:function(){Tt=!1}};ks(st,jn,sr)}function ir(){if(Tt)return Ut=!0,at(void 0);Tt=!0;var jn=ss(Fn._readableStreamController);return jn===null?Er():hr(jn._view,!1),at(void 0)}function Kn(){if(Tt)return rn=!0,at(void 0);Tt=!0;var jn=ss(In._readableStreamController);return jn===null?Er():hr(jn._view,!0),at(void 0)}function ar(jn){if(fn=!0,Tn=jn,bn){var Rn=an([Tn,On]),Wn=er(h,Rn);Bn(Wn)}return Gn}function Qn(jn){if(bn=!0,On=jn,fn){var Rn=an([Tn,On]),Wn=er(h,Rn);Bn(Wn)}return Gn}function or(){}return Fn=Qs(or,ir,ar),In=Qs(or,Kn,Qn),tr(st),[Fn,In]}function il(h,st){Ft(h,st);var Tt=h,Ut=Tt==null?void 0:Tt.autoAllocateChunkSize,rn=Tt==null?void 0:Tt.cancel,fn=Tt==null?void 0:Tt.pull,bn=Tt==null?void 0:Tt.start,Tn=Tt==null?void 0:Tt.type;return{autoAllocateChunkSize:Ut===void 0?void 0:Zt(Ut,st+" has member 'autoAllocateChunkSize' that"),cancel:rn===void 0?void 0:al(rn,Tt,st+" has member 'cancel' that"),pull:fn===void 0?void 0:sl(fn,Tt,st+" has member 'pull' that"),start:bn===void 0?void 0:ol(bn,Tt,st+" has member 'start' that"),type:Tn===void 0?void 0:ll(Tn,st+" has member 'type' that")}}function al(h,st,Tt){return lt(h,Tt),function(Ut){return ct(h,st,[Ut])}}function sl(h,st,Tt){return lt(h,Tt),function(Ut){return ct(h,st,[Ut])}}function ol(h,st,Tt){return lt(h,Tt),function(Ut){return ot(h,st,[Ut])}}function ll(h,st){if(h=""+h,h!=="bytes")throw new TypeError(st+" '"+h+"' is not a valid enumeration value for ReadableStreamType");return h}function ul(h,st){Ft(h,st);var Tt=h==null?void 0:h.mode;return{mode:Tt===void 0?void 0:cl(Tt,st+" has member 'mode' that")}}function cl(h,st){if(h=""+h,h!=="byob")throw new TypeError(st+" '"+h+"' is not a valid enumeration value for ReadableStreamReaderMode");return h}function dl(h,st){Ft(h,st);var Tt=h==null?void 0:h.preventCancel;return{preventCancel:Boolean(Tt)}}function qs(h,st){Ft(h,st);var Tt=h==null?void 0:h.preventAbort,Ut=h==null?void 0:h.preventCancel,rn=h==null?void 0:h.preventClose,fn=h==null?void 0:h.signal;return fn!==void 0&&hl(fn,st+" has member 'signal' that"),{preventAbort:Boolean(Tt),preventCancel:Boolean(Ut),preventClose:Boolean(rn),signal:fn}}function hl(h,st){if(!Po(h))throw new TypeError(st+" is not an AbortSignal.")}function fl(h,st){Ft(h,st);var Tt=h==null?void 0:h.readable;Dt(Tt,"readable","ReadableWritablePair"),Jt(Tt,st+" has member 'readable' that");var Ut=h==null?void 0:h.writable;return Dt(Ut,"writable","ReadableWritablePair"),Rs(Ut,st+" has member 'writable' that"),{readable:Tt,writable:Ut}}var ur=function(){function h(st,Tt){st===void 0&&(st={}),Tt===void 0&&(Tt={}),st===void 0?st=null:St(st,"First parameter");var Ut=$r(Tt,"Second parameter"),rn=il(st,"First parameter");if(ws(this),rn.type==="bytes"){if(Ut.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var fn=xr(Ut,0);go(this,rn,fn)}else{var bn=Vr(Ut),fn=xr(Ut,1);el(this,rn,fn,bn)}}return Object.defineProperty(h.prototype,"locked",{get:function(){if(!cr(this))throw vr("locked");return dr(this)},enumerable:!1,configurable:!0}),h.prototype.cancel=function(st){return st===void 0&&(st=void 0),cr(this)?dr(this)?it(new TypeError("Cannot cancel a stream that already has a reader")):er(this,st):it(vr("cancel"))},h.prototype.getReader=function(st){if(st===void 0&&(st=void 0),!cr(this))throw vr("getReader");var Tt=ul(st,"First parameter");return Tt.mode===void 0?Qt(this):Cs(this)},h.prototype.pipeThrough=function(st,Tt){if(Tt===void 0&&(Tt={}),!cr(this))throw vr("pipeThrough");Ct(st,1,"pipeThrough");var Ut=fl(st,"First parameter"),rn=qs(Tt,"Second parameter");if(dr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(br(Ut.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var fn=Xs(this,Ut.writable,rn.preventClose,rn.preventAbort,rn.preventCancel,rn.signal);return g(fn),Ut.readable},h.prototype.pipeTo=function(st,Tt){if(Tt===void 0&&(Tt={}),!cr(this))return it(vr("pipeTo"));if(st===void 0)return it("Parameter 1 is required in 'pipeTo'.");if(!yr(st))return it(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var Ut;try{Ut=qs(Tt,"Second parameter")}catch(rn){return it(rn)}return dr(this)?it(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):br(st)?it(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Xs(this,st,Ut.preventClose,Ut.preventAbort,Ut.preventCancel,Ut.signal)},h.prototype.tee=function(){if(!cr(this))throw vr("tee");var st=tl(this);return an(st)},h.prototype.values=function(st){if(st===void 0&&(st=void 0),!cr(this))throw vr("values");var Tt=dl(st,"First parameter");return kt(this,Tt.preventCancel)},h}();Object.defineProperties(ur.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(ur.prototype,s.toStringTag,{value:"ReadableStream",configurable:!0}),typeof s.asyncIterator=="symbol"&&Object.defineProperty(ur.prototype,s.asyncIterator,{value:ur.prototype.values,writable:!0,configurable:!0});function Ss(h,st,Tt,Ut,rn){Ut===void 0&&(Ut=1),rn===void 0&&(rn=function(){return 1});var fn=Object.create(ur.prototype);ws(fn);var bn=Object.create(Sr.prototype);return Ks(fn,bn,h,st,Tt,Ut,rn),fn}function Qs(h,st,Tt){var Ut=Object.create(ur.prototype);ws(Ut);var rn=Object.create(_n.prototype);return As(Ut,rn,h,st,Tt,0,void 0),Ut}function ws(h){h._state="readable",h._reader=void 0,h._storedError=void 0,h._disturbed=!1}function cr(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_readableStreamController")?!1:h instanceof ur}function dr(h){return h._reader!==void 0}function er(h,st){if(h._disturbed=!0,h._state==="closed")return at(void 0);if(h._state==="errored")return it(h._storedError);Dr(h);var Tt=h._reader;Tt!==void 0&&pr(Tt)&&(Tt._readIntoRequests.forEach(function(rn){rn._closeSteps(void 0)}),Tt._readIntoRequests=new ft);var Ut=h._readableStreamController[jt](st);return $(Ut,o)}function Dr(h){h._state="closed";var st=h._reader;st!==void 0&&(It(st),An(st)&&(st._readRequests.forEach(function(Tt){Tt._closeSteps()}),st._readRequests=new ft))}function Zs(h,st){h._state="errored",h._storedError=st;var Tt=h._reader;Tt!==void 0&&(yt(Tt,st),An(Tt)?(Tt._readRequests.forEach(function(Ut){Ut._errorSteps(st)}),Tt._readRequests=new ft):(Tt._readIntoRequests.forEach(function(Ut){Ut._errorSteps(st)}),Tt._readIntoRequests=new ft))}function vr(h){return new TypeError("ReadableStream.prototype."+h+" can only be used on a ReadableStream")}function Js(h,st){Ft(h,st);var Tt=h==null?void 0:h.highWaterMark;return Dt(Tt,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Lt(Tt)}}var eo=function(h){return h.byteLength};try{Object.defineProperty(eo,"name",{value:"size",configurable:!0})}catch{}var va=function(){function h(st){Ct(st,1,"ByteLengthQueuingStrategy"),st=Js(st,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=st.highWaterMark}return Object.defineProperty(h.prototype,"highWaterMark",{get:function(){if(!no(this))throw to("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"size",{get:function(){if(!no(this))throw to("size");return eo},enumerable:!1,configurable:!0}),h}();Object.defineProperties(va.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(va.prototype,s.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function to(h){return new TypeError("ByteLengthQueuingStrategy.prototype."+h+" can only be used on a ByteLengthQueuingStrategy")}function no(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_byteLengthQueuingStrategyHighWaterMark")?!1:h instanceof va}var ro=function(){return 1};try{Object.defineProperty(ro,"name",{value:"size",configurable:!0})}catch{}var _a=function(){function h(st){Ct(st,1,"CountQueuingStrategy"),st=Js(st,"First parameter"),this._countQueuingStrategyHighWaterMark=st.highWaterMark}return Object.defineProperty(h.prototype,"highWaterMark",{get:function(){if(!ao(this))throw io("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"size",{get:function(){if(!ao(this))throw io("size");return ro},enumerable:!1,configurable:!0}),h}();Object.defineProperties(_a.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(_a.prototype,s.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function io(h){return new TypeError("CountQueuingStrategy.prototype."+h+" can only be used on a CountQueuingStrategy")}function ao(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_countQueuingStrategyHighWaterMark")?!1:h instanceof _a}function pl(h,st){Ft(h,st);var Tt=h==null?void 0:h.flush,Ut=h==null?void 0:h.readableType,rn=h==null?void 0:h.start,fn=h==null?void 0:h.transform,bn=h==null?void 0:h.writableType;return{flush:Tt===void 0?void 0:gl(Tt,h,st+" has member 'flush' that"),readableType:Ut,start:rn===void 0?void 0:ml(rn,h,st+" has member 'start' that"),transform:fn===void 0?void 0:vl(fn,h,st+" has member 'transform' that"),writableType:bn}}function gl(h,st,Tt){return lt(h,Tt),function(Ut){return ct(h,st,[Ut])}}function ml(h,st,Tt){return lt(h,Tt),function(Ut){return ot(h,st,[Ut])}}function vl(h,st,Tt){return lt(h,Tt),function(Ut,rn){return ct(h,st,[Ut,rn])}}var es=function(){function h(st,Tt,Ut){st===void 0&&(st={}),Tt===void 0&&(Tt={}),Ut===void 0&&(Ut={}),st===void 0&&(st=null);var rn=$r(Tt,"Second parameter"),fn=$r(Ut,"Third parameter"),bn=pl(st,"First parameter");if(bn.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(bn.writableType!==void 0)throw new RangeError("Invalid writableType specified");var Tn=xr(fn,0),On=Vr(fn),Fn=xr(rn,1),In=Vr(rn),Bn,Gn=nt(function(tr){Bn=tr});yl(this,Gn,Fn,In,Tn,On),_l(this,bn),bn.start!==void 0?Bn(bn.start(this._transformStreamController)):Bn(void 0)}return Object.defineProperty(h.prototype,"readable",{get:function(){if(!so(this))throw co("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"writable",{get:function(){if(!so(this))throw co("writable");return this._writable},enumerable:!1,configurable:!0}),h}();Object.defineProperties(es.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(es.prototype,s.toStringTag,{value:"TransformStream",configurable:!0});function yl(h,st,Tt,Ut,rn,fn){function bn(){return st}function Tn(Gn){return El(h,Gn)}function On(Gn){return Pl(h,Gn)}function Fn(){return Al(h)}h._writable=To(bn,Tn,Fn,On,Tt,Ut);function In(){return Cl(h)}function Bn(Gn){return ns(h,Gn),at(void 0)}h._readable=Ss(bn,In,Bn,rn,fn),h._backpressure=void 0,h._backpressureChangePromise=void 0,h._backpressureChangePromise_resolve=void 0,rs(h,!0),h._transformStreamController=void 0}function so(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_transformStreamController")?!1:h instanceof es}function ts(h,st){lr(h._readable._readableStreamController,st),ns(h,st)}function ns(h,st){oo(h._transformStreamController),ps(h._writable._writableStreamController,st),h._backpressure&&rs(h,!1)}function rs(h,st){h._backpressureChangePromise!==void 0&&h._backpressureChangePromise_resolve(),h._backpressureChangePromise=nt(function(Tt){h._backpressureChangePromise_resolve=Tt}),h._backpressure=st}var Ir=function(){function h(){throw new TypeError("Illegal constructor")}return Object.defineProperty(h.prototype,"desiredSize",{get:function(){if(!is(this))throw as("desiredSize");var st=this._controlledTransformStream._readable._readableStreamController;return _s(st)},enumerable:!1,configurable:!0}),h.prototype.enqueue=function(st){if(st===void 0&&(st=void 0),!is(this))throw as("enqueue");lo(this,st)},h.prototype.error=function(st){if(st===void 0&&(st=void 0),!is(this))throw as("error");Sl(this,st)},h.prototype.terminate=function(){if(!is(this))throw as("terminate");wl(this)},h}();Object.defineProperties(Ir.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Ir.prototype,s.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function is(h){return!d(h)||!Object.prototype.hasOwnProperty.call(h,"_controlledTransformStream")?!1:h instanceof Ir}function bl(h,st,Tt,Ut){st._controlledTransformStream=h,h._transformStreamController=st,st._transformAlgorithm=Tt,st._flushAlgorithm=Ut}function _l(h,st){var Tt=Object.create(Ir.prototype),Ut=function(fn){try{return lo(Tt,fn),at(void 0)}catch(bn){return it(bn)}},rn=function(){return at(void 0)};st.transform!==void 0&&(Ut=function(fn){return st.transform(fn,Tt)}),st.flush!==void 0&&(rn=function(){return st.flush(Tt)}),bl(h,Tt,Ut,rn)}function oo(h){h._transformAlgorithm=void 0,h._flushAlgorithm=void 0}function lo(h,st){var Tt=h._controlledTransformStream,Ut=Tt._readable._readableStreamController;if(!wr(Ut))throw new TypeError("Readable side is not in a state that permits enqueue");try{_i(Ut,st)}catch(fn){throw ns(Tt,fn),Tt._readable._storedError}var rn=Jo(Ut);rn!==Tt._backpressure&&rs(Tt,!0)}function Sl(h,st){ts(h._controlledTransformStream,st)}function uo(h,st){var Tt=h._transformAlgorithm(st);return $(Tt,void 0,function(Ut){throw ts(h._controlledTransformStream,Ut),Ut})}function wl(h){var st=h._controlledTransformStream,Tt=st._readable._readableStreamController;Fr(Tt);var Ut=new TypeError("TransformStream terminated");ns(st,Ut)}function El(h,st){var Tt=h._transformStreamController;if(h._backpressure){var Ut=h._backpressureChangePromise;return $(Ut,function(){var rn=h._writable,fn=rn._state;if(fn==="erroring")throw rn._storedError;return uo(Tt,st)})}return uo(Tt,st)}function Pl(h,st){return ts(h,st),at(void 0)}function Al(h){var st=h._readable,Tt=h._transformStreamController,Ut=Tt._flushAlgorithm();return oo(Tt),$(Ut,function(){if(st._state==="errored")throw st._storedError;Fr(st._readableStreamController)},function(rn){throw ts(h,rn),st._storedError})}function Cl(h){return rs(h,!1),h._backpressureChangePromise}function as(h){return new TypeError("TransformStreamDefaultController.prototype."+h+" can only be used on a TransformStreamDefaultController")}function co(h){return new TypeError("TransformStream.prototype."+h+" can only be used on a TransformStream")}a.ByteLengthQueuingStrategy=va,a.CountQueuingStrategy=_a,a.ReadableByteStreamController=_n,a.ReadableStream=ur,a.ReadableStreamBYOBReader=Tr,a.ReadableStreamBYOBRequest=cn,a.ReadableStreamDefaultController=Sr,a.ReadableStreamDefaultReader=vn,a.TransformStream=es,a.TransformStreamDefaultController=Ir,a.WritableStream=kr,a.WritableStreamDefaultController=_r,a.WritableStreamDefaultWriter=Rr,Object.defineProperty(a,"__esModule",{value:!0})})})(ponyfill,ponyfill.exports);var __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:__viteBrowserExternal}),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,a){module.exports=a()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.UNSUPPORTED_FEATURES=i.TextRenderingMode=i.StreamType=i.RenderingIntentFlag=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FontType=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.AnnotationType=i.AnnotationStateModelType=i.AnnotationReviewState=i.AnnotationReplyType=i.AnnotationMode=i.AnnotationMarkedState=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.arrayByteLength=Zt,i.arraysToBytes=Jt,i.assert=jt,i.bytesToString=$t,i.createPromiseCapability=pn,i.createValidAbsoluteUrl=ht,i.escapeString=mn,i.getModificationDate=an,i.getVerbosityLevel=Pt,i.info=It,i.isArrayBuffer=on,i.isArrayEqual=Kt,i.isAscii=hn,i.objectFromMap=un,i.objectSize=en,i.setVerbosityLevel=yt,i.shadow=gt,i.string32=Qt,i.stringToBytes=Xt,i.stringToPDFString=Sn,i.stringToUTF16BEString=Nt,i.stringToUTF8String=kt,i.unreachable=Wt,i.utf8StringToString=Vt,i.warn=vt,a(2);const s=[1,0,0,1,0,0];i.IDENTITY_MATRIX=s;const o=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=o;const c=1.35;i.LINE_FACTOR=c;const f=.35;i.LINE_DESCENT_FACTOR=f;const d={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=d;const j={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=j;const b="pdfjs_internal_editor_";i.AnnotationEditorPrefix=b;const _e={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};i.AnnotationEditorType=_e;const pt={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};i.AnnotationEditorParamsType=pt;const et={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=et;const nt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=nt;const at={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=at;const it={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=it;const rt={MARKED:"Marked",REVIEW:"Review"};i.AnnotationStateModelType=rt;const ut={MARKED:"Marked",UNMARKED:"Unmarked"};i.AnnotationMarkedState=ut;const _={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};i.AnnotationReviewState=_;const tt={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=tt;const $={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=$;const g={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=g;const k={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=k;const ot={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=ot;const ct={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=ct;const dt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=dt;const ft={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};i.StreamType=ft;const bt={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};i.FontType=bt;const Mt={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=Mt;const _t={NONE:0,BINARY:1,STREAM:2};i.CMapCompressionType=_t;const xt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=xt;const wt={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};i.UNSUPPORTED_FEATURES=wt;const At={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=At;let Et=Mt.WARNINGS;function yt(Yt){Number.isInteger(Yt)&&(Et=Yt)}function Pt(){return Et}function It(Yt){Et>=Mt.INFOS&&console.log(`Info: ${Yt}`)}function vt(Yt){Et>=Mt.WARNINGS&&console.log(`Warning: ${Yt}`)}function Wt(Yt){throw new Error(Yt)}function jt(Yt,Bt){Yt||Wt(Bt)}function Rt(Yt){if(!Yt)return!1;switch(Yt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ht(Yt){let Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Yt)return null;try{if(Ht&&typeof Yt=="string"){if(Ht.addDefaultProtocol&&Yt.startsWith("www.")){const nn=Yt.match(/\./g);nn&&nn.length>=2&&(Yt=`http://${Yt}`)}if(Ht.tryConvertEncoding)try{Yt=kt(Yt)}catch{}}const ln=Bt?new URL(Yt,Bt):new URL(Yt);if(Rt(ln))return ln}catch{}return null}function gt(Yt,Bt,Ht){return Object.defineProperty(Yt,Bt,{value:Ht,enumerable:!0,configurable:!0,writable:!1}),Ht}const Ot=function(){function Bt(Ht,ln){this.constructor===Bt&&Wt("Cannot initialize BaseException."),this.message=Ht,this.name=ln}return Bt.prototype=new Error,Bt.constructor=Bt,Bt}();i.BaseException=Ot;class Ft extends Ot{constructor(Bt,Ht){super(Bt,"PasswordException");this.code=Ht}}i.PasswordException=Ft;class lt extends Ot{constructor(Bt,Ht){super(Bt,"UnknownErrorException");this.details=Ht}}i.UnknownErrorException=lt;class mt extends Ot{constructor(Bt){super(Bt,"InvalidPDFException")}}i.InvalidPDFException=mt;class St extends Ot{constructor(Bt){super(Bt,"MissingPDFException")}}i.MissingPDFException=St;class Ct extends Ot{constructor(Bt,Ht){super(Bt,"UnexpectedResponseException");this.status=Ht}}i.UnexpectedResponseException=Ct;class Dt extends Ot{constructor(Bt){super(Bt,"FormatError")}}i.FormatError=Dt;class Lt extends Ot{constructor(Bt){super(Bt,"AbortException")}}i.AbortException=Lt;function $t(Yt){(typeof Yt!="object"||Yt===null||Yt.length===void 0)&&Wt("Invalid argument for bytesToString");const Bt=Yt.length,Ht=8192;if(Bt<Ht)return String.fromCharCode.apply(null,Yt);const ln=[];for(let nn=0;nn<Bt;nn+=Ht){const sn=Math.min(nn+Ht,Bt),Gt=Yt.subarray(nn,sn);ln.push(String.fromCharCode.apply(null,Gt))}return ln.join("")}function Xt(Yt){typeof Yt!="string"&&Wt("Invalid argument for stringToBytes");const Bt=Yt.length,Ht=new Uint8Array(Bt);for(let ln=0;ln<Bt;++ln)Ht[ln]=Yt.charCodeAt(ln)&255;return Ht}function Zt(Yt){if(Yt.length!==void 0)return Yt.length;if(Yt.byteLength!==void 0)return Yt.byteLength;Wt("Invalid argument for arrayByteLength")}function Jt(Yt){const Bt=Yt.length;if(Bt===1&&Yt[0]instanceof Uint8Array)return Yt[0];let Ht=0;for(let sn=0;sn<Bt;sn++)Ht+=Zt(Yt[sn]);let ln=0;const nn=new Uint8Array(Ht);for(let sn=0;sn<Bt;sn++){let Gt=Yt[sn];Gt instanceof Uint8Array||(typeof Gt=="string"?Gt=Xt(Gt):Gt=new Uint8Array(Gt));const zt=Gt.byteLength;nn.set(Gt,ln),ln+=zt}return nn}function Qt(Yt){return String.fromCharCode(Yt>>24&255,Yt>>16&255,Yt>>8&255,Yt&255)}function en(Yt){return Object.keys(Yt).length}function un(Yt){const Bt=Object.create(null);for(const[Ht,ln]of Yt)Bt[Ht]=ln;return Bt}function gn(){const Yt=new Uint8Array(4);return Yt[0]=1,new Uint32Array(Yt.buffer,0,1)[0]===1}function yn(){try{return new Function(""),!0}catch{return!1}}class vn{static get isLittleEndian(){return gt(this,"isLittleEndian",gn())}static get isEvalSupported(){return gt(this,"isEvalSupported",yn())}static get isOffscreenCanvasSupported(){return gt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas!="undefined")}}i.FeatureTest=vn;const An=[...Array(256).keys()].map(Yt=>Yt.toString(16).padStart(2,"0"));class qt{static makeHexColor(Bt,Ht,ln){return`#${An[Bt]}${An[Ht]}${An[ln]}`}static scaleMinMax(Bt,Ht){let ln;Bt[0]?(Bt[0]<0&&(ln=Ht[0],Ht[0]=Ht[1],Ht[1]=ln),Ht[0]*=Bt[0],Ht[1]*=Bt[0],Bt[3]<0&&(ln=Ht[2],Ht[2]=Ht[3],Ht[3]=ln),Ht[2]*=Bt[3],Ht[3]*=Bt[3]):(ln=Ht[0],Ht[0]=Ht[2],Ht[2]=ln,ln=Ht[1],Ht[1]=Ht[3],Ht[3]=ln,Bt[1]<0&&(ln=Ht[2],Ht[2]=Ht[3],Ht[3]=ln),Ht[2]*=Bt[1],Ht[3]*=Bt[1],Bt[2]<0&&(ln=Ht[0],Ht[0]=Ht[1],Ht[1]=ln),Ht[0]*=Bt[2],Ht[1]*=Bt[2]),Ht[0]+=Bt[4],Ht[1]+=Bt[4],Ht[2]+=Bt[5],Ht[3]+=Bt[5]}static transform(Bt,Ht){return[Bt[0]*Ht[0]+Bt[2]*Ht[1],Bt[1]*Ht[0]+Bt[3]*Ht[1],Bt[0]*Ht[2]+Bt[2]*Ht[3],Bt[1]*Ht[2]+Bt[3]*Ht[3],Bt[0]*Ht[4]+Bt[2]*Ht[5]+Bt[4],Bt[1]*Ht[4]+Bt[3]*Ht[5]+Bt[5]]}static applyTransform(Bt,Ht){const ln=Bt[0]*Ht[0]+Bt[1]*Ht[2]+Ht[4],nn=Bt[0]*Ht[1]+Bt[1]*Ht[3]+Ht[5];return[ln,nn]}static applyInverseTransform(Bt,Ht){const ln=Ht[0]*Ht[3]-Ht[1]*Ht[2],nn=(Bt[0]*Ht[3]-Bt[1]*Ht[2]+Ht[2]*Ht[5]-Ht[4]*Ht[3])/ln,sn=(-Bt[0]*Ht[1]+Bt[1]*Ht[0]+Ht[4]*Ht[1]-Ht[5]*Ht[0])/ln;return[nn,sn]}static getAxialAlignedBoundingBox(Bt,Ht){const ln=qt.applyTransform(Bt,Ht),nn=qt.applyTransform(Bt.slice(2,4),Ht),sn=qt.applyTransform([Bt[0],Bt[3]],Ht),Gt=qt.applyTransform([Bt[2],Bt[1]],Ht);return[Math.min(ln[0],nn[0],sn[0],Gt[0]),Math.min(ln[1],nn[1],sn[1],Gt[1]),Math.max(ln[0],nn[0],sn[0],Gt[0]),Math.max(ln[1],nn[1],sn[1],Gt[1])]}static inverseTransform(Bt){const Ht=Bt[0]*Bt[3]-Bt[1]*Bt[2];return[Bt[3]/Ht,-Bt[1]/Ht,-Bt[2]/Ht,Bt[0]/Ht,(Bt[2]*Bt[5]-Bt[4]*Bt[3])/Ht,(Bt[4]*Bt[1]-Bt[5]*Bt[0])/Ht]}static apply3dTransform(Bt,Ht){return[Bt[0]*Ht[0]+Bt[1]*Ht[1]+Bt[2]*Ht[2],Bt[3]*Ht[0]+Bt[4]*Ht[1]+Bt[5]*Ht[2],Bt[6]*Ht[0]+Bt[7]*Ht[1]+Bt[8]*Ht[2]]}static singularValueDecompose2dScale(Bt){const Ht=[Bt[0],Bt[2],Bt[1],Bt[3]],ln=Bt[0]*Ht[0]+Bt[1]*Ht[2],nn=Bt[0]*Ht[1]+Bt[1]*Ht[3],sn=Bt[2]*Ht[0]+Bt[3]*Ht[2],Gt=Bt[2]*Ht[1]+Bt[3]*Ht[3],zt=(ln+Gt)/2,tn=Math.sqrt((ln+Gt)**2-4*(ln*Gt-sn*nn))/2,cn=zt+tn||1,_n=zt-tn||1;return[Math.sqrt(cn),Math.sqrt(_n)]}static normalizeRect(Bt){const Ht=Bt.slice(0);return Bt[0]>Bt[2]&&(Ht[0]=Bt[2],Ht[2]=Bt[0]),Bt[1]>Bt[3]&&(Ht[1]=Bt[3],Ht[3]=Bt[1]),Ht}static intersect(Bt,Ht){const ln=Math.max(Math.min(Bt[0],Bt[2]),Math.min(Ht[0],Ht[2])),nn=Math.min(Math.max(Bt[0],Bt[2]),Math.max(Ht[0],Ht[2]));if(ln>nn)return null;const sn=Math.max(Math.min(Bt[1],Bt[3]),Math.min(Ht[1],Ht[3])),Gt=Math.min(Math.max(Bt[1],Bt[3]),Math.max(Ht[1],Ht[3]));return sn>Gt?null:[ln,sn,nn,Gt]}static bezierBoundingBox(Bt,Ht,ln,nn,sn,Gt,zt,tn){const cn=[],_n=[[],[]];let Pn,Cn,En,wn,xn,Nn,kn,Mn;for(let zn=0;zn<2;++zn){if(zn===0?(Cn=6*Bt-12*ln+6*sn,Pn=-3*Bt+9*ln-9*sn+3*zt,En=3*ln-3*Bt):(Cn=6*Ht-12*nn+6*Gt,Pn=-3*Ht+9*nn-9*Gt+3*tn,En=3*nn-3*Ht),Math.abs(Pn)<1e-12){if(Math.abs(Cn)<1e-12)continue;wn=-En/Cn,0<wn&&wn<1&&cn.push(wn);continue}kn=Cn*Cn-4*En*Pn,Mn=Math.sqrt(kn),!(kn<0)&&(xn=(-Cn+Mn)/(2*Pn),0<xn&&xn<1&&cn.push(xn),Nn=(-Cn-Mn)/(2*Pn),0<Nn&&Nn<1&&cn.push(Nn))}let Dn=cn.length,Ln;const Vn=Dn;for(;Dn--;)wn=cn[Dn],Ln=1-wn,_n[0][Dn]=Ln*Ln*Ln*Bt+3*Ln*Ln*wn*ln+3*Ln*wn*wn*sn+wn*wn*wn*zt,_n[1][Dn]=Ln*Ln*Ln*Ht+3*Ln*Ln*wn*nn+3*Ln*wn*wn*Gt+wn*wn*wn*tn;return _n[0][Vn]=Bt,_n[1][Vn]=Ht,_n[0][Vn+1]=zt,_n[1][Vn+1]=tn,_n[0].length=_n[1].length=Vn+2,[Math.min(..._n[0]),Math.min(..._n[1]),Math.max(..._n[0]),Math.max(..._n[1])]}}i.Util=qt;const dn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Sn(Yt){if(Yt[0]>="\xEF"){let Ht;if(Yt[0]==="\xFE"&&Yt[1]==="\xFF"?Ht="utf-16be":Yt[0]==="\xFF"&&Yt[1]==="\xFE"?Ht="utf-16le":Yt[0]==="\xEF"&&Yt[1]==="\xBB"&&Yt[2]==="\xBF"&&(Ht="utf-8"),Ht)try{const ln=new TextDecoder(Ht,{fatal:!0}),nn=Xt(Yt);return ln.decode(nn)}catch(ln){vt(`stringToPDFString: "${ln}".`)}}const Bt=[];for(let Ht=0,ln=Yt.length;Ht<ln;Ht++){const nn=dn[Yt.charCodeAt(Ht)];Bt.push(nn?String.fromCharCode(nn):Yt.charAt(Ht))}return Bt.join("")}function mn(Yt){return Yt.replace(/([()\\\n\r])/g,Bt=>Bt===`
`?"\\n":Bt==="\r"?"\\r":`\\${Bt}`)}function hn(Yt){return/^[\x00-\x7F]*$/.test(Yt)}function Nt(Yt){const Bt=["\xFE\xFF"];for(let Ht=0,ln=Yt.length;Ht<ln;Ht++){const nn=Yt.charCodeAt(Ht);Bt.push(String.fromCharCode(nn>>8&255),String.fromCharCode(nn&255))}return Bt.join("")}function kt(Yt){return decodeURIComponent(escape(Yt))}function Vt(Yt){return unescape(encodeURIComponent(Yt))}function on(Yt){return typeof Yt=="object"&&Yt!==null&&Yt.byteLength!==void 0}function Kt(Yt,Bt){if(Yt.length!==Bt.length)return!1;for(let Ht=0,ln=Yt.length;Ht<ln;Ht++)if(Yt[Ht]!==Bt[Ht])return!1;return!0}function an(){let Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Yt.getUTCFullYear().toString(),(Yt.getUTCMonth()+1).toString().padStart(2,"0"),Yt.getUTCDate().toString().padStart(2,"0"),Yt.getUTCHours().toString().padStart(2,"0"),Yt.getUTCMinutes().toString().padStart(2,"0"),Yt.getUTCSeconds().toString().padStart(2,"0")].join("")}function pn(){const Yt=Object.create(null);let Bt=!1;return Object.defineProperty(Yt,"settled",{get(){return Bt}}),Yt.promise=new Promise(function(Ht,ln){Yt.resolve=function(nn){Bt=!0,Ht(nn)},Yt.reject=function(nn){Bt=!0,ln(nn)}}),Yt}},(e,i,a)=>{var s=a(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!s.isNodeJS||(globalThis.btoa=function(c){return Buffer.from(c,"binary").toString("base64")})}(),function(){globalThis.atob||!s.isNodeJS||(globalThis.atob=function(c){return Buffer.from(c,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!s.isNodeJS||(globalThis.DOMMatrix=dommatrix.exports)}(),function(){globalThis.ReadableStream||!s.isNodeJS||(globalThis.ReadableStream=ponyfill.exports.ReadableStream)}(),function(){Array.prototype.at||a(4)}(),function(){Uint8Array.prototype.at||a(76)}(),function(){globalThis.structuredClone||a(86)}())},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isNodeJS=void 0;const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=a},(e,i,a)=>{a(5);var s=a(75);e.exports=s("Array","at")},(e,i,a)=>{var s=a(6),o=a(41),c=a(65),f=a(63),d=a(70);s({target:"Array",proto:!0},{at:function(b){var _e=o(this),pt=c(_e),et=f(b),nt=et>=0?et:pt+et;return nt<0||nt>=pt?void 0:_e[nt]}}),d("at")},(e,i,a)=>{var s=a(7),o=a(8).f,c=a(45),f=a(49),d=a(39),j=a(57),b=a(69);e.exports=function(_e,pt){var et=_e.target,nt=_e.global,at=_e.stat,it,rt,ut,_,tt,$;if(nt?rt=s:at?rt=s[et]||d(et,{}):rt=(s[et]||{}).prototype,rt)for(ut in pt){if(tt=pt[ut],_e.dontCallGetSet?($=o(rt,ut),_=$&&$.value):_=rt[ut],it=b(nt?ut:et+(at?".":"#")+ut,_e.forced),!it&&_!==void 0){if(typeof tt==typeof _)continue;j(tt,_)}(_e.sham||_&&_.sham)&&c(tt,"sham",!0),f(rt,ut,tt,_e)}}},e=>{var i=function(a){return a&&a.Math==Math&&a};e.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},(e,i,a)=>{var s=a(9),o=a(11),c=a(13),f=a(14),d=a(15),j=a(20),b=a(40),_e=a(43),pt=Object.getOwnPropertyDescriptor;i.f=s?pt:function(nt,at){if(nt=d(nt),at=j(at),_e)try{return pt(nt,at)}catch{}if(b(nt,at))return f(!o(c.f,nt,at),nt[at])}},(e,i,a)=>{var s=a(10);e.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},e=>{e.exports=function(i){try{return!!i()}catch{return!0}}},(e,i,a)=>{var s=a(12),o=Function.prototype.call;e.exports=s?o.bind(o):function(){return o.apply(o,arguments)}},(e,i,a)=>{var s=a(10);e.exports=!s(function(){var o=function(){}.bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},(e,i)=>{var a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!a.call({1:2},1);i.f=o?function(f){var d=s(this,f);return!!d&&d.enumerable}:a},e=>{e.exports=function(i,a){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:a}}},(e,i,a)=>{var s=a(16),o=a(19);e.exports=function(c){return s(o(c))}},(e,i,a)=>{var s=a(17),o=a(10),c=a(18),f=Object,d=s("".split);e.exports=o(function(){return!f("z").propertyIsEnumerable(0)})?function(j){return c(j)=="String"?d(j,""):f(j)}:f},(e,i,a)=>{var s=a(12),o=Function.prototype,c=o.bind,f=o.call,d=s&&c.bind(f,f);e.exports=s?function(j){return j&&d(j)}:function(j){return j&&function(){return f.apply(j,arguments)}}},(e,i,a)=>{var s=a(17),o=s({}.toString),c=s("".slice);e.exports=function(f){return c(o(f),8,-1)}},e=>{var i=TypeError;e.exports=function(a){if(a==null)throw i("Can't call method on "+a);return a}},(e,i,a)=>{var s=a(21),o=a(24);e.exports=function(c){var f=s(c,"string");return o(f)?f:f+""}},(e,i,a)=>{var s=a(11),o=a(22),c=a(24),f=a(31),d=a(34),j=a(35),b=TypeError,_e=j("toPrimitive");e.exports=function(pt,et){if(!o(pt)||c(pt))return pt;var nt=f(pt,_e),at;if(nt){if(et===void 0&&(et="default"),at=s(nt,pt,et),!o(at)||c(at))return at;throw b("Can't convert object to primitive value")}return et===void 0&&(et="number"),d(pt,et)}},(e,i,a)=>{var s=a(23);e.exports=function(o){return typeof o=="object"?o!==null:s(o)}},e=>{e.exports=function(i){return typeof i=="function"}},(e,i,a)=>{var s=a(25),o=a(23),c=a(26),f=a(27),d=Object;e.exports=f?function(j){return typeof j=="symbol"}:function(j){var b=s("Symbol");return o(b)&&c(b.prototype,d(j))}},(e,i,a)=>{var s=a(7),o=a(23),c=function(f){return o(f)?f:void 0};e.exports=function(f,d){return arguments.length<2?c(s[f]):s[f]&&s[f][d]}},(e,i,a)=>{var s=a(17);e.exports=s({}.isPrototypeOf)},(e,i,a)=>{var s=a(28);e.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(e,i,a)=>{var s=a(29),o=a(10);e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var c=Symbol();return!String(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&s&&s<41})},(e,i,a)=>{var s=a(7),o=a(30),c=s.process,f=s.Deno,d=c&&c.versions||f&&f.version,j=d&&d.v8,b,_e;j&&(b=j.split("."),_e=b[0]>0&&b[0]<4?1:+(b[0]+b[1])),!_e&&o&&(b=o.match(/Edge\/(\d+)/),(!b||b[1]>=74)&&(b=o.match(/Chrome\/(\d+)/),b&&(_e=+b[1]))),e.exports=_e},(e,i,a)=>{var s=a(25);e.exports=s("navigator","userAgent")||""},(e,i,a)=>{var s=a(32);e.exports=function(o,c){var f=o[c];return f==null?void 0:s(f)}},(e,i,a)=>{var s=a(23),o=a(33),c=TypeError;e.exports=function(f){if(s(f))return f;throw c(o(f)+" is not a function")}},e=>{var i=String;e.exports=function(a){try{return i(a)}catch{return"Object"}}},(e,i,a)=>{var s=a(11),o=a(23),c=a(22),f=TypeError;e.exports=function(d,j){var b,_e;if(j==="string"&&o(b=d.toString)&&!c(_e=s(b,d))||o(b=d.valueOf)&&!c(_e=s(b,d))||j!=="string"&&o(b=d.toString)&&!c(_e=s(b,d)))return _e;throw f("Can't convert object to primitive value")}},(e,i,a)=>{var s=a(7),o=a(36),c=a(40),f=a(42),d=a(28),j=a(27),b=o("wks"),_e=s.Symbol,pt=_e&&_e.for,et=j?_e:_e&&_e.withoutSetter||f;e.exports=function(nt){if(!c(b,nt)||!(d||typeof b[nt]=="string")){var at="Symbol."+nt;d&&c(_e,nt)?b[nt]=_e[nt]:j&&pt?b[nt]=pt(at):b[nt]=et(at)}return b[nt]}},(e,i,a)=>{var s=a(37),o=a(38);(e.exports=function(c,f){return o[c]||(o[c]=f!==void 0?f:{})})("versions",[]).push({version:"3.24.1",mode:s?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},e=>{e.exports=!1},(e,i,a)=>{var s=a(7),o=a(39),c="__core-js_shared__",f=s[c]||o(c,{});e.exports=f},(e,i,a)=>{var s=a(7),o=Object.defineProperty;e.exports=function(c,f){try{o(s,c,{value:f,configurable:!0,writable:!0})}catch{s[c]=f}return f}},(e,i,a)=>{var s=a(17),o=a(41),c=s({}.hasOwnProperty);e.exports=Object.hasOwn||function(d,j){return c(o(d),j)}},(e,i,a)=>{var s=a(19),o=Object;e.exports=function(c){return o(s(c))}},(e,i,a)=>{var s=a(17),o=0,c=Math.random(),f=s(1 .toString);e.exports=function(d){return"Symbol("+(d===void 0?"":d)+")_"+f(++o+c,36)}},(e,i,a)=>{var s=a(9),o=a(10),c=a(44);e.exports=!s&&!o(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},(e,i,a)=>{var s=a(7),o=a(22),c=s.document,f=o(c)&&o(c.createElement);e.exports=function(d){return f?c.createElement(d):{}}},(e,i,a)=>{var s=a(9),o=a(46),c=a(14);e.exports=s?function(f,d,j){return o.f(f,d,c(1,j))}:function(f,d,j){return f[d]=j,f}},(e,i,a)=>{var s=a(9),o=a(43),c=a(47),f=a(48),d=a(20),j=TypeError,b=Object.defineProperty,_e=Object.getOwnPropertyDescriptor,pt="enumerable",et="configurable",nt="writable";i.f=s?c?function(it,rt,ut){if(f(it),rt=d(rt),f(ut),typeof it=="function"&&rt==="prototype"&&"value"in ut&&nt in ut&&!ut[nt]){var _=_e(it,rt);_&&_[nt]&&(it[rt]=ut.value,ut={configurable:et in ut?ut[et]:_[et],enumerable:pt in ut?ut[pt]:_[pt],writable:!1})}return b(it,rt,ut)}:b:function(it,rt,ut){if(f(it),rt=d(rt),f(ut),o)try{return b(it,rt,ut)}catch{}if("get"in ut||"set"in ut)throw j("Accessors not supported");return"value"in ut&&(it[rt]=ut.value),it}},(e,i,a)=>{var s=a(9),o=a(10);e.exports=s&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},(e,i,a)=>{var s=a(22),o=String,c=TypeError;e.exports=function(f){if(s(f))return f;throw c(o(f)+" is not an object")}},(e,i,a)=>{var s=a(23),o=a(46),c=a(50),f=a(39);e.exports=function(d,j,b,_e){_e||(_e={});var pt=_e.enumerable,et=_e.name!==void 0?_e.name:j;if(s(b)&&c(b,et,_e),_e.global)pt?d[j]=b:f(j,b);else{try{_e.unsafe?d[j]&&(pt=!0):delete d[j]}catch{}pt?d[j]=b:o.f(d,j,{value:b,enumerable:!1,configurable:!_e.nonConfigurable,writable:!_e.nonWritable})}return d}},(e,i,a)=>{var s=a(10),o=a(23),c=a(40),f=a(9),d=a(51).CONFIGURABLE,j=a(52),b=a(53),_e=b.enforce,pt=b.get,et=Object.defineProperty,nt=f&&!s(function(){return et(function(){},"length",{value:8}).length!==8}),at=String(String).split("String"),it=e.exports=function(rt,ut,_){String(ut).slice(0,7)==="Symbol("&&(ut="["+String(ut).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),_&&_.getter&&(ut="get "+ut),_&&_.setter&&(ut="set "+ut),(!c(rt,"name")||d&&rt.name!==ut)&&(f?et(rt,"name",{value:ut,configurable:!0}):rt.name=ut),nt&&_&&c(_,"arity")&&rt.length!==_.arity&&et(rt,"length",{value:_.arity});try{_&&c(_,"constructor")&&_.constructor?f&&et(rt,"prototype",{writable:!1}):rt.prototype&&(rt.prototype=void 0)}catch{}var tt=_e(rt);return c(tt,"source")||(tt.source=at.join(typeof ut=="string"?ut:"")),rt};Function.prototype.toString=it(function(){return o(this)&&pt(this).source||j(this)},"toString")},(e,i,a)=>{var s=a(9),o=a(40),c=Function.prototype,f=s&&Object.getOwnPropertyDescriptor,d=o(c,"name"),j=d&&function(){}.name==="something",b=d&&(!s||s&&f(c,"name").configurable);e.exports={EXISTS:d,PROPER:j,CONFIGURABLE:b}},(e,i,a)=>{var s=a(17),o=a(23),c=a(38),f=s(Function.toString);o(c.inspectSource)||(c.inspectSource=function(d){return f(d)}),e.exports=c.inspectSource},(e,i,a)=>{var s=a(54),o=a(7),c=a(17),f=a(22),d=a(45),j=a(40),b=a(38),_e=a(55),pt=a(56),et="Object already initialized",nt=o.TypeError,at=o.WeakMap,it,rt,ut,_=function(dt){return ut(dt)?rt(dt):it(dt,{})},tt=function(dt){return function(ft){var bt;if(!f(ft)||(bt=rt(ft)).type!==dt)throw nt("Incompatible receiver, "+dt+" required");return bt}};if(s||b.state){var $=b.state||(b.state=new at),g=c($.get),k=c($.has),ot=c($.set);it=function(dt,ft){if(k($,dt))throw new nt(et);return ft.facade=dt,ot($,dt,ft),ft},rt=function(dt){return g($,dt)||{}},ut=function(dt){return k($,dt)}}else{var ct=_e("state");pt[ct]=!0,it=function(dt,ft){if(j(dt,ct))throw new nt(et);return ft.facade=dt,d(dt,ct,ft),ft},rt=function(dt){return j(dt,ct)?dt[ct]:{}},ut=function(dt){return j(dt,ct)}}e.exports={set:it,get:rt,has:ut,enforce:_,getterFor:tt}},(e,i,a)=>{var s=a(7),o=a(23),c=a(52),f=s.WeakMap;e.exports=o(f)&&/native code/.test(c(f))},(e,i,a)=>{var s=a(36),o=a(42),c=s("keys");e.exports=function(f){return c[f]||(c[f]=o(f))}},e=>{e.exports={}},(e,i,a)=>{var s=a(40),o=a(58),c=a(8),f=a(46);e.exports=function(d,j,b){for(var _e=o(j),pt=f.f,et=c.f,nt=0;nt<_e.length;nt++){var at=_e[nt];!s(d,at)&&!(b&&s(b,at))&&pt(d,at,et(j,at))}}},(e,i,a)=>{var s=a(25),o=a(17),c=a(59),f=a(68),d=a(48),j=o([].concat);e.exports=s("Reflect","ownKeys")||function(_e){var pt=c.f(d(_e)),et=f.f;return et?j(pt,et(_e)):pt}},(e,i,a)=>{var s=a(60),o=a(67),c=o.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(d){return s(d,c)}},(e,i,a)=>{var s=a(17),o=a(40),c=a(15),f=a(61).indexOf,d=a(56),j=s([].push);e.exports=function(b,_e){var pt=c(b),et=0,nt=[],at;for(at in pt)!o(d,at)&&o(pt,at)&&j(nt,at);for(;_e.length>et;)o(pt,at=_e[et++])&&(~f(nt,at)||j(nt,at));return nt}},(e,i,a)=>{var s=a(15),o=a(62),c=a(65),f=function(d){return function(j,b,_e){var pt=s(j),et=c(pt),nt=o(_e,et),at;if(d&&b!=b){for(;et>nt;)if(at=pt[nt++],at!=at)return!0}else for(;et>nt;nt++)if((d||nt in pt)&&pt[nt]===b)return d||nt||0;return!d&&-1}};e.exports={includes:f(!0),indexOf:f(!1)}},(e,i,a)=>{var s=a(63),o=Math.max,c=Math.min;e.exports=function(f,d){var j=s(f);return j<0?o(j+d,0):c(j,d)}},(e,i,a)=>{var s=a(64);e.exports=function(o){var c=+o;return c!==c||c===0?0:s(c)}},e=>{var i=Math.ceil,a=Math.floor;e.exports=Math.trunc||function(o){var c=+o;return(c>0?a:i)(c)}},(e,i,a)=>{var s=a(66);e.exports=function(o){return s(o.length)}},(e,i,a)=>{var s=a(63),o=Math.min;e.exports=function(c){return c>0?o(s(c),9007199254740991):0}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,i)=>{i.f=Object.getOwnPropertySymbols},(e,i,a)=>{var s=a(10),o=a(23),c=/#|\.prototype\./,f=function(pt,et){var nt=j[d(pt)];return nt==_e?!0:nt==b?!1:o(et)?s(et):!!et},d=f.normalize=function(pt){return String(pt).replace(c,".").toLowerCase()},j=f.data={},b=f.NATIVE="N",_e=f.POLYFILL="P";e.exports=f},(e,i,a)=>{var s=a(35),o=a(71),c=a(46).f,f=s("unscopables"),d=Array.prototype;d[f]==null&&c(d,f,{configurable:!0,value:o(null)}),e.exports=function(j){d[f][j]=!0}},(e,i,a)=>{var s=a(48),o=a(72),c=a(67),f=a(56),d=a(74),j=a(44),b=a(55),_e=">",pt="<",et="prototype",nt="script",at=b("IE_PROTO"),it=function(){},rt=function(g){return pt+nt+_e+g+pt+"/"+nt+_e},ut=function(g){g.write(rt("")),g.close();var k=g.parentWindow.Object;return g=null,k},_=function(){var g=j("iframe"),k="java"+nt+":",ot;return g.style.display="none",d.appendChild(g),g.src=String(k),ot=g.contentWindow.document,ot.open(),ot.write(rt("document.F=Object")),ot.close(),ot.F},tt,$=function(){try{tt=new ActiveXObject("htmlfile")}catch{}$=typeof document!="undefined"?document.domain&&tt?ut(tt):_():ut(tt);for(var g=c.length;g--;)delete $[et][c[g]];return $()};f[at]=!0,e.exports=Object.create||function(k,ot){var ct;return k!==null?(it[et]=s(k),ct=new it,it[et]=null,ct[at]=k):ct=$(),ot===void 0?ct:o.f(ct,ot)}},(e,i,a)=>{var s=a(9),o=a(47),c=a(46),f=a(48),d=a(15),j=a(73);i.f=s&&!o?Object.defineProperties:function(_e,pt){f(_e);for(var et=d(pt),nt=j(pt),at=nt.length,it=0,rt;at>it;)c.f(_e,rt=nt[it++],et[rt]);return _e}},(e,i,a)=>{var s=a(60),o=a(67);e.exports=Object.keys||function(f){return s(f,o)}},(e,i,a)=>{var s=a(25);e.exports=s("document","documentElement")},(e,i,a)=>{var s=a(7),o=a(17);e.exports=function(c,f){return o(s[c].prototype[f])}},(e,i,a)=>{a(77)},(e,i,a)=>{var s=a(78),o=a(65),c=a(63),f=s.aTypedArray,d=s.exportTypedArrayMethod;d("at",function(b){var _e=f(this),pt=o(_e),et=c(b),nt=et>=0?et:pt+et;return nt<0||nt>=pt?void 0:_e[nt]})},(e,i,a)=>{var s=a(79),o=a(9),c=a(7),f=a(23),d=a(22),j=a(40),b=a(80),_e=a(33),pt=a(45),et=a(49),nt=a(46).f,at=a(26),it=a(82),rt=a(84),ut=a(35),_=a(42),tt=a(53),$=tt.enforce,g=tt.get,k=c.Int8Array,ot=k&&k.prototype,ct=c.Uint8ClampedArray,dt=ct&&ct.prototype,ft=k&&it(k),bt=ot&&it(ot),Mt=Object.prototype,_t=c.TypeError,xt=ut("toStringTag"),wt=_("TYPED_ARRAY_TAG"),At="TypedArrayConstructor",Et=s&&!!rt&&b(c.opera)!=="Opera",yt=!1,Pt,It,vt,Wt={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},jt={BigInt64Array:8,BigUint64Array:8},Rt=function(Ct){if(!d(Ct))return!1;var Dt=b(Ct);return Dt==="DataView"||j(Wt,Dt)||j(jt,Dt)},ht=function(St){var Ct=it(St);if(!!d(Ct)){var Dt=g(Ct);return Dt&&j(Dt,At)?Dt[At]:ht(Ct)}},gt=function(St){if(!d(St))return!1;var Ct=b(St);return j(Wt,Ct)||j(jt,Ct)},Ot=function(St){if(gt(St))return St;throw _t("Target is not a typed array")},Ft=function(St){if(f(St)&&(!rt||at(ft,St)))return St;throw _t(_e(St)+" is not a typed array constructor")},lt=function(St,Ct,Dt,Lt){if(!!o){if(Dt)for(var $t in Wt){var Xt=c[$t];if(Xt&&j(Xt.prototype,St))try{delete Xt.prototype[St]}catch{try{Xt.prototype[St]=Ct}catch{}}}(!bt[St]||Dt)&&et(bt,St,Dt?Ct:Et&&ot[St]||Ct,Lt)}},mt=function(St,Ct,Dt){var Lt,$t;if(!!o){if(rt){if(Dt){for(Lt in Wt)if($t=c[Lt],$t&&j($t,St))try{delete $t[St]}catch{}}if(!ft[St]||Dt)try{return et(ft,St,Dt?Ct:Et&&ft[St]||Ct)}catch{}else return}for(Lt in Wt)$t=c[Lt],$t&&(!$t[St]||Dt)&&et($t,St,Ct)}};for(Pt in Wt)It=c[Pt],vt=It&&It.prototype,vt?$(vt)[At]=It:Et=!1;for(Pt in jt)It=c[Pt],vt=It&&It.prototype,vt&&($(vt)[At]=It);if((!Et||!f(ft)||ft===Function.prototype)&&(ft=function(){throw _t("Incorrect invocation")},Et))for(Pt in Wt)c[Pt]&&rt(c[Pt],ft);if((!Et||!bt||bt===Mt)&&(bt=ft.prototype,Et))for(Pt in Wt)c[Pt]&&rt(c[Pt].prototype,bt);if(Et&&it(dt)!==bt&&rt(dt,bt),o&&!j(bt,xt)){yt=!0,nt(bt,xt,{get:function(){return d(this)?this[wt]:void 0}});for(Pt in Wt)c[Pt]&&pt(c[Pt],wt,Pt)}e.exports={NATIVE_ARRAY_BUFFER_VIEWS:Et,TYPED_ARRAY_TAG:yt&&wt,aTypedArray:Ot,aTypedArrayConstructor:Ft,exportTypedArrayMethod:lt,exportTypedArrayStaticMethod:mt,getTypedArrayConstructor:ht,isView:Rt,isTypedArray:gt,TypedArray:ft,TypedArrayPrototype:bt}},e=>{e.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"},(e,i,a)=>{var s=a(81),o=a(23),c=a(18),f=a(35),d=f("toStringTag"),j=Object,b=c(function(){return arguments}())=="Arguments",_e=function(pt,et){try{return pt[et]}catch{}};e.exports=s?c:function(pt){var et,nt,at;return pt===void 0?"Undefined":pt===null?"Null":typeof(nt=_e(et=j(pt),d))=="string"?nt:b?c(et):(at=c(et))=="Object"&&o(et.callee)?"Arguments":at}},(e,i,a)=>{var s=a(35),o=s("toStringTag"),c={};c[o]="z",e.exports=String(c)==="[object z]"},(e,i,a)=>{var s=a(40),o=a(23),c=a(41),f=a(55),d=a(83),j=f("IE_PROTO"),b=Object,_e=b.prototype;e.exports=d?b.getPrototypeOf:function(pt){var et=c(pt);if(s(et,j))return et[j];var nt=et.constructor;return o(nt)&&et instanceof nt?nt.prototype:et instanceof b?_e:null}},(e,i,a)=>{var s=a(10);e.exports=!s(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},(e,i,a)=>{var s=a(17),o=a(48),c=a(85);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f=!1,d={},j;try{j=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),j(d,[]),f=d instanceof Array}catch{}return function(_e,pt){return o(_e),c(pt),f?j(_e,pt):_e.__proto__=pt,_e}}():void 0)},(e,i,a)=>{var s=a(23),o=String,c=TypeError;e.exports=function(f){if(typeof f=="object"||s(f))return f;throw c("Can't set "+o(f)+" as a prototype")}},(e,i,a)=>{a(87),a(93),a(95),a(117),a(119);var s=a(128);e.exports=s.structuredClone},(e,i,a)=>{var s=a(15),o=a(70),c=a(88),f=a(53),d=a(46).f,j=a(89),b=a(37),_e=a(9),pt="Array Iterator",et=f.set,nt=f.getterFor(pt);e.exports=j(Array,"Array",function(it,rt){et(this,{type:pt,target:s(it),index:0,kind:rt})},function(){var it=nt(this),rt=it.target,ut=it.kind,_=it.index++;return!rt||_>=rt.length?(it.target=void 0,{value:void 0,done:!0}):ut=="keys"?{value:_,done:!1}:ut=="values"?{value:rt[_],done:!1}:{value:[_,rt[_]],done:!1}},"values");var at=c.Arguments=c.Array;if(o("keys"),o("values"),o("entries"),!b&&_e&&at.name!=="values")try{d(at,"name",{value:"values"})}catch{}},e=>{e.exports={}},(e,i,a)=>{var s=a(6),o=a(11),c=a(37),f=a(51),d=a(23),j=a(90),b=a(82),_e=a(84),pt=a(92),et=a(45),nt=a(49),at=a(35),it=a(88),rt=a(91),ut=f.PROPER,_=f.CONFIGURABLE,tt=rt.IteratorPrototype,$=rt.BUGGY_SAFARI_ITERATORS,g=at("iterator"),k="keys",ot="values",ct="entries",dt=function(){return this};e.exports=function(ft,bt,Mt,_t,xt,wt,At){j(Mt,bt,_t);var Et=function(Ot){if(Ot===xt&&Wt)return Wt;if(!$&&Ot in It)return It[Ot];switch(Ot){case k:return function(){return new Mt(this,Ot)};case ot:return function(){return new Mt(this,Ot)};case ct:return function(){return new Mt(this,Ot)}}return function(){return new Mt(this)}},yt=bt+" Iterator",Pt=!1,It=ft.prototype,vt=It[g]||It["@@iterator"]||xt&&It[xt],Wt=!$&&vt||Et(xt),jt=bt=="Array"&&It.entries||vt,Rt,ht,gt;if(jt&&(Rt=b(jt.call(new ft)),Rt!==Object.prototype&&Rt.next&&(!c&&b(Rt)!==tt&&(_e?_e(Rt,tt):d(Rt[g])||nt(Rt,g,dt)),pt(Rt,yt,!0,!0),c&&(it[yt]=dt))),ut&&xt==ot&&vt&&vt.name!==ot&&(!c&&_?et(It,"name",ot):(Pt=!0,Wt=function(){return o(vt,this)})),xt)if(ht={values:Et(ot),keys:wt?Wt:Et(k),entries:Et(ct)},At)for(gt in ht)($||Pt||!(gt in It))&&nt(It,gt,ht[gt]);else s({target:bt,proto:!0,forced:$||Pt},ht);return(!c||At)&&It[g]!==Wt&&nt(It,g,Wt,{name:xt}),it[bt]=Wt,ht}},(e,i,a)=>{var s=a(91).IteratorPrototype,o=a(71),c=a(14),f=a(92),d=a(88),j=function(){return this};e.exports=function(b,_e,pt,et){var nt=_e+" Iterator";return b.prototype=o(s,{next:c(+!et,pt)}),f(b,nt,!1,!0),d[nt]=j,b}},(e,i,a)=>{var s=a(10),o=a(23),c=a(71),f=a(82),d=a(49),j=a(35),b=a(37),_e=j("iterator"),pt=!1,et,nt,at;[].keys&&(at=[].keys(),"next"in at?(nt=f(f(at)),nt!==Object.prototype&&(et=nt)):pt=!0);var it=et==null||s(function(){var rt={};return et[_e].call(rt)!==rt});it?et={}:b&&(et=c(et)),o(et[_e])||d(et,_e,function(){return this}),e.exports={IteratorPrototype:et,BUGGY_SAFARI_ITERATORS:pt}},(e,i,a)=>{var s=a(46).f,o=a(40),c=a(35),f=c("toStringTag");e.exports=function(d,j,b){d&&!b&&(d=d.prototype),d&&!o(d,f)&&s(d,f,{configurable:!0,value:j})}},(e,i,a)=>{var s=a(81),o=a(49),c=a(94);s||o(Object.prototype,"toString",c,{unsafe:!0})},(e,i,a)=>{var s=a(81),o=a(80);e.exports=s?{}.toString:function(){return"[object "+o(this)+"]"}},(e,i,a)=>{a(96)},(e,i,a)=>{var s=a(97),o=a(114);s("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},o)},(e,i,a)=>{var s=a(6),o=a(7),c=a(17),f=a(69),d=a(49),j=a(98),b=a(105),_e=a(111),pt=a(23),et=a(22),nt=a(10),at=a(112),it=a(92),rt=a(113);e.exports=function(ut,_,tt){var $=ut.indexOf("Map")!==-1,g=ut.indexOf("Weak")!==-1,k=$?"set":"add",ot=o[ut],ct=ot&&ot.prototype,dt=ot,ft={},bt=function(yt){var Pt=c(ct[yt]);d(ct,yt,yt=="add"?function(vt){return Pt(this,vt===0?0:vt),this}:yt=="delete"?function(It){return g&&!et(It)?!1:Pt(this,It===0?0:It)}:yt=="get"?function(vt){return g&&!et(vt)?void 0:Pt(this,vt===0?0:vt)}:yt=="has"?function(vt){return g&&!et(vt)?!1:Pt(this,vt===0?0:vt)}:function(vt,Wt){return Pt(this,vt===0?0:vt,Wt),this})},Mt=f(ut,!pt(ot)||!(g||ct.forEach&&!nt(function(){new ot().entries().next()})));if(Mt)dt=tt.getConstructor(_,ut,$,k),j.enable();else if(f(ut,!0)){var _t=new dt,xt=_t[k](g?{}:-0,1)!=_t,wt=nt(function(){_t.has(1)}),At=at(function(yt){new ot(yt)}),Et=!g&&nt(function(){for(var yt=new ot,Pt=5;Pt--;)yt[k](Pt,Pt);return!yt.has(-0)});At||(dt=_(function(yt,Pt){_e(yt,ct);var It=rt(new ot,yt,dt);return Pt!=null&&b(Pt,It[k],{that:It,AS_ENTRIES:$}),It}),dt.prototype=ct,ct.constructor=dt),(wt||Et)&&(bt("delete"),bt("has"),$&&bt("get")),(Et||xt)&&bt(k),g&&ct.clear&&delete ct.clear}return ft[ut]=dt,s({global:!0,constructor:!0,forced:dt!=ot},ft),it(dt,ut),g||tt.setStrong(dt,ut,$),dt}},(e,i,a)=>{var s=a(6),o=a(17),c=a(56),f=a(22),d=a(40),j=a(46).f,b=a(59),_e=a(99),pt=a(102),et=a(42),nt=a(104),at=!1,it=et("meta"),rt=0,ut=function(ot){j(ot,it,{value:{objectID:"O"+rt++,weakData:{}}})},_=function(ot,ct){if(!f(ot))return typeof ot=="symbol"?ot:(typeof ot=="string"?"S":"P")+ot;if(!d(ot,it)){if(!pt(ot))return"F";if(!ct)return"E";ut(ot)}return ot[it].objectID},tt=function(ot,ct){if(!d(ot,it)){if(!pt(ot))return!0;if(!ct)return!1;ut(ot)}return ot[it].weakData},$=function(ot){return nt&&at&&pt(ot)&&!d(ot,it)&&ut(ot),ot},g=function(){k.enable=function(){},at=!0;var ot=b.f,ct=o([].splice),dt={};dt[it]=1,ot(dt).length&&(b.f=function(ft){for(var bt=ot(ft),Mt=0,_t=bt.length;Mt<_t;Mt++)if(bt[Mt]===it){ct(bt,Mt,1);break}return bt},s({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:_e.f}))},k=e.exports={enable:g,fastKey:_,getWeakData:tt,onFreeze:$};c[it]=!0},(e,i,a)=>{var s=a(18),o=a(15),c=a(59).f,f=a(100),d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],j=function(b){try{return c(b)}catch{return f(d)}};e.exports.f=function(_e){return d&&s(_e)=="Window"?j(_e):c(o(_e))}},(e,i,a)=>{var s=a(62),o=a(65),c=a(101),f=Array,d=Math.max;e.exports=function(j,b,_e){for(var pt=o(j),et=s(b,pt),nt=s(_e===void 0?pt:_e,pt),at=f(d(nt-et,0)),it=0;et<nt;et++,it++)c(at,it,j[et]);return at.length=it,at}},(e,i,a)=>{var s=a(20),o=a(46),c=a(14);e.exports=function(f,d,j){var b=s(d);b in f?o.f(f,b,c(0,j)):f[b]=j}},(e,i,a)=>{var s=a(10),o=a(22),c=a(18),f=a(103),d=Object.isExtensible,j=s(function(){});e.exports=j||f?function(_e){return!o(_e)||f&&c(_e)=="ArrayBuffer"?!1:d?d(_e):!0}:d},(e,i,a)=>{var s=a(10);e.exports=s(function(){if(typeof ArrayBuffer=="function"){var o=new ArrayBuffer(8);Object.isExtensible(o)&&Object.defineProperty(o,"a",{value:8})}})},(e,i,a)=>{var s=a(10);e.exports=!s(function(){return Object.isExtensible(Object.preventExtensions({}))})},(e,i,a)=>{var s=a(106),o=a(11),c=a(48),f=a(33),d=a(107),j=a(65),b=a(26),_e=a(108),pt=a(109),et=a(110),nt=TypeError,at=function(rt,ut){this.stopped=rt,this.result=ut},it=at.prototype;e.exports=function(rt,ut,_){var tt=_&&_.that,$=!!(_&&_.AS_ENTRIES),g=!!(_&&_.IS_RECORD),k=!!(_&&_.IS_ITERATOR),ot=!!(_&&_.INTERRUPTED),ct=s(ut,tt),dt,ft,bt,Mt,_t,xt,wt,At=function(yt){return dt&&et(dt,"normal",yt),new at(!0,yt)},Et=function(yt){return $?(c(yt),ot?ct(yt[0],yt[1],At):ct(yt[0],yt[1])):ot?ct(yt,At):ct(yt)};if(g)dt=rt.iterator;else if(k)dt=rt;else{if(ft=pt(rt),!ft)throw nt(f(rt)+" is not iterable");if(d(ft)){for(bt=0,Mt=j(rt);Mt>bt;bt++)if(_t=Et(rt[bt]),_t&&b(it,_t))return _t;return new at(!1)}dt=_e(rt,ft)}for(xt=g?rt.next:dt.next;!(wt=o(xt,dt)).done;){try{_t=Et(wt.value)}catch(yt){et(dt,"throw",yt)}if(typeof _t=="object"&&_t&&b(it,_t))return _t}return new at(!1)}},(e,i,a)=>{var s=a(17),o=a(32),c=a(12),f=s(s.bind);e.exports=function(d,j){return o(d),j===void 0?d:c?f(d,j):function(){return d.apply(j,arguments)}}},(e,i,a)=>{var s=a(35),o=a(88),c=s("iterator"),f=Array.prototype;e.exports=function(d){return d!==void 0&&(o.Array===d||f[c]===d)}},(e,i,a)=>{var s=a(11),o=a(32),c=a(48),f=a(33),d=a(109),j=TypeError;e.exports=function(b,_e){var pt=arguments.length<2?d(b):_e;if(o(pt))return c(s(pt,b));throw j(f(b)+" is not iterable")}},(e,i,a)=>{var s=a(80),o=a(31),c=a(88),f=a(35),d=f("iterator");e.exports=function(j){if(j!=null)return o(j,d)||o(j,"@@iterator")||c[s(j)]}},(e,i,a)=>{var s=a(11),o=a(48),c=a(31);e.exports=function(f,d,j){var b,_e;o(f);try{if(b=c(f,"return"),!b){if(d==="throw")throw j;return j}b=s(b,f)}catch(pt){_e=!0,b=pt}if(d==="throw")throw j;if(_e)throw b;return o(b),j}},(e,i,a)=>{var s=a(26),o=TypeError;e.exports=function(c,f){if(s(f,c))return c;throw o("Incorrect invocation")}},(e,i,a)=>{var s=a(35),o=s("iterator"),c=!1;try{var f=0,d={next:function(){return{done:!!f++}},return:function(){c=!0}};d[o]=function(){return this},Array.from(d,function(){throw 2})}catch{}e.exports=function(j,b){if(!b&&!c)return!1;var _e=!1;try{var pt={};pt[o]=function(){return{next:function(){return{done:_e=!0}}}},j(pt)}catch{}return _e}},(e,i,a)=>{var s=a(23),o=a(22),c=a(84);e.exports=function(f,d,j){var b,_e;return c&&s(b=d.constructor)&&b!==j&&o(_e=b.prototype)&&_e!==j.prototype&&c(f,_e),f}},(e,i,a)=>{var s=a(46).f,o=a(71),c=a(115),f=a(106),d=a(111),j=a(105),b=a(89),_e=a(116),pt=a(9),et=a(98).fastKey,nt=a(53),at=nt.set,it=nt.getterFor;e.exports={getConstructor:function(rt,ut,_,tt){var $=rt(function(dt,ft){d(dt,g),at(dt,{type:ut,index:o(null),first:void 0,last:void 0,size:0}),pt||(dt.size=0),ft!=null&&j(ft,dt[tt],{that:dt,AS_ENTRIES:_})}),g=$.prototype,k=it(ut),ot=function(dt,ft,bt){var Mt=k(dt),_t=ct(dt,ft),xt,wt;return _t?_t.value=bt:(Mt.last=_t={index:wt=et(ft,!0),key:ft,value:bt,previous:xt=Mt.last,next:void 0,removed:!1},Mt.first||(Mt.first=_t),xt&&(xt.next=_t),pt?Mt.size++:dt.size++,wt!=="F"&&(Mt.index[wt]=_t)),dt},ct=function(dt,ft){var bt=k(dt),Mt=et(ft),_t;if(Mt!=="F")return bt.index[Mt];for(_t=bt.first;_t;_t=_t.next)if(_t.key==ft)return _t};return c(g,{clear:function(){for(var ft=this,bt=k(ft),Mt=bt.index,_t=bt.first;_t;)_t.removed=!0,_t.previous&&(_t.previous=_t.previous.next=void 0),delete Mt[_t.index],_t=_t.next;bt.first=bt.last=void 0,pt?bt.size=0:ft.size=0},delete:function(dt){var ft=this,bt=k(ft),Mt=ct(ft,dt);if(Mt){var _t=Mt.next,xt=Mt.previous;delete bt.index[Mt.index],Mt.removed=!0,xt&&(xt.next=_t),_t&&(_t.previous=xt),bt.first==Mt&&(bt.first=_t),bt.last==Mt&&(bt.last=xt),pt?bt.size--:ft.size--}return!!Mt},forEach:function(ft){for(var bt=k(this),Mt=f(ft,arguments.length>1?arguments[1]:void 0),_t;_t=_t?_t.next:bt.first;)for(Mt(_t.value,_t.key,this);_t&&_t.removed;)_t=_t.previous},has:function(ft){return!!ct(this,ft)}}),c(g,_?{get:function(ft){var bt=ct(this,ft);return bt&&bt.value},set:function(ft,bt){return ot(this,ft===0?0:ft,bt)}}:{add:function(ft){return ot(this,ft=ft===0?0:ft,ft)}}),pt&&s(g,"size",{get:function(){return k(this).size}}),$},setStrong:function(rt,ut,_){var tt=ut+" Iterator",$=it(ut),g=it(tt);b(rt,ut,function(k,ot){at(this,{type:tt,target:k,state:$(k),kind:ot,last:void 0})},function(){for(var k=g(this),ot=k.kind,ct=k.last;ct&&ct.removed;)ct=ct.previous;return!k.target||!(k.last=ct=ct?ct.next:k.state.first)?(k.target=void 0,{value:void 0,done:!0}):ot=="keys"?{value:ct.key,done:!1}:ot=="values"?{value:ct.value,done:!1}:{value:[ct.key,ct.value],done:!1}},_?"entries":"values",!_,!0),_e(ut)}}},(e,i,a)=>{var s=a(49);e.exports=function(o,c,f){for(var d in c)s(o,d,c[d],f);return o}},(e,i,a)=>{var s=a(25),o=a(46),c=a(35),f=a(9),d=c("species");e.exports=function(j){var b=s(j),_e=o.f;f&&b&&!b[d]&&_e(b,d,{configurable:!0,get:function(){return this}})}},(e,i,a)=>{a(118)},(e,i,a)=>{var s=a(97),o=a(114);s("Set",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},o)},(e,i,a)=>{var s=a(37),o=a(6),c=a(7),f=a(25),d=a(17),j=a(10),b=a(42),_e=a(23),pt=a(120),et=a(22),nt=a(24),at=a(105),it=a(48),rt=a(80),ut=a(40),_=a(101),tt=a(45),$=a(65),g=a(121),k=a(122),ot=a(124),ct=a(29),dt=a(125),ft=a(126),bt=a(127),Mt=c.Object,_t=c.Date,xt=c.Error,wt=c.EvalError,At=c.RangeError,Et=c.ReferenceError,yt=c.SyntaxError,Pt=c.TypeError,It=c.URIError,vt=c.PerformanceMark,Wt=c.WebAssembly,jt=Wt&&Wt.CompileError||xt,Rt=Wt&&Wt.LinkError||xt,ht=Wt&&Wt.RuntimeError||xt,gt=f("DOMException"),Ot=f("Set"),Ft=f("Map"),lt=Ft.prototype,mt=d(lt.has),St=d(lt.get),Ct=d(lt.set),Dt=d(Ot.prototype.add),Lt=f("Object","keys"),$t=d([].push),Xt=d((!0).valueOf),Zt=d(1 .valueOf),Jt=d("".valueOf),Qt=d(_t.prototype.getTime),en=b("structuredClone"),un="DataCloneError",gn="Transferring",yn=function(Kt){return!j(function(){var an=new c.Set([7]),pn=Kt(an),Yt=Kt(Mt(7));return pn==an||!pn.has(7)||typeof Yt!="object"||Yt!=7})&&Kt},vn=function(Kt,an){return!j(function(){var pn=new an,Yt=Kt({a:pn,b:pn});return!(Yt&&Yt.a===Yt.b&&Yt.a instanceof an&&Yt.a.stack===pn.stack)})},An=function(Kt){return!j(function(){var an=Kt(new c.AggregateError([1],en,{cause:3}));return an.name!="AggregateError"||an.errors[0]!=1||an.message!=en||an.cause!=3})},qt=c.structuredClone,dn=s||!vn(qt,xt)||!vn(qt,gt)||!An(qt),Sn=!qt&&yn(function(Kt){return new vt(en,{detail:Kt}).detail}),mn=yn(qt)||Sn,hn=function(Kt){throw new gt("Uncloneable type: "+Kt,un)},Nt=function(Kt,an){throw new gt((an||"Cloning")+" of "+Kt+" cannot be properly polyfilled in this engine",un)},kt=function(Kt,an){if(nt(Kt)&&hn("Symbol"),!et(Kt))return Kt;if(an){if(mt(an,Kt))return St(an,Kt)}else an=new Ft;var pn=rt(Kt),Yt=!1,Bt,Ht,ln,nn,sn,Gt,zt,tn,cn,_n;switch(pn){case"Array":ln=[],Yt=!0;break;case"Object":ln={},Yt=!0;break;case"Map":ln=new Ft,Yt=!0;break;case"Set":ln=new Ot,Yt=!0;break;case"RegExp":ln=new RegExp(Kt.source,k(Kt));break;case"Error":switch(Ht=Kt.name,Ht){case"AggregateError":ln=f("AggregateError")([]);break;case"EvalError":ln=wt();break;case"RangeError":ln=At();break;case"ReferenceError":ln=Et();break;case"SyntaxError":ln=yt();break;case"TypeError":ln=Pt();break;case"URIError":ln=It();break;case"CompileError":ln=jt();break;case"LinkError":ln=Rt();break;case"RuntimeError":ln=ht();break;default:ln=xt()}Yt=!0;break;case"DOMException":ln=new gt(Kt.message,Kt.name),Yt=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Bt=c[pn],et(Bt)||Nt(pn),ln=new Bt(kt(Kt.buffer,an),Kt.byteOffset,pn==="DataView"?Kt.byteLength:Kt.length);break;case"DOMQuad":try{ln=new DOMQuad(kt(Kt.p1,an),kt(Kt.p2,an),kt(Kt.p3,an),kt(Kt.p4,an))}catch{mn?ln=mn(Kt):Nt(pn)}break;case"FileList":if(Bt=c.DataTransfer,pt(Bt)){for(nn=new Bt,sn=0,Gt=$(Kt);sn<Gt;sn++)nn.items.add(kt(Kt[sn],an));ln=nn.files}else mn?ln=mn(Kt):Nt(pn);break;case"ImageData":try{ln=new ImageData(kt(Kt.data,an),Kt.width,Kt.height,{colorSpace:Kt.colorSpace})}catch{mn?ln=mn(Kt):Nt(pn)}break;default:if(mn)ln=mn(Kt);else switch(pn){case"BigInt":ln=Mt(Kt.valueOf());break;case"Boolean":ln=Mt(Xt(Kt));break;case"Number":ln=Mt(Zt(Kt));break;case"String":ln=Mt(Jt(Kt));break;case"Date":ln=new _t(Qt(Kt));break;case"ArrayBuffer":Bt=c.DataView,!Bt&&typeof Kt.slice!="function"&&Nt(pn);try{if(typeof Kt.slice=="function")ln=Kt.slice(0);else for(Gt=Kt.byteLength,ln=new ArrayBuffer(Gt),cn=new Bt(Kt),_n=new Bt(ln),sn=0;sn<Gt;sn++)_n.setUint8(sn,cn.getUint8(sn))}catch{throw new gt("ArrayBuffer is detached",un)}break;case"SharedArrayBuffer":ln=Kt;break;case"Blob":try{ln=Kt.slice(0,Kt.size,Kt.type)}catch{Nt(pn)}break;case"DOMPoint":case"DOMPointReadOnly":Bt=c[pn];try{ln=Bt.fromPoint?Bt.fromPoint(Kt):new Bt(Kt.x,Kt.y,Kt.z,Kt.w)}catch{Nt(pn)}break;case"DOMRect":case"DOMRectReadOnly":Bt=c[pn];try{ln=Bt.fromRect?Bt.fromRect(Kt):new Bt(Kt.x,Kt.y,Kt.width,Kt.height)}catch{Nt(pn)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Bt=c[pn];try{ln=Bt.fromMatrix?Bt.fromMatrix(Kt):new Bt(Kt)}catch{Nt(pn)}break;case"AudioData":case"VideoFrame":_e(Kt.clone)||Nt(pn);try{ln=Kt.clone()}catch{hn(pn)}break;case"File":try{ln=new File([Kt],Kt.name,Kt)}catch{Nt(pn)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Nt(pn);default:hn(pn)}}if(Ct(an,Kt,ln),Yt)switch(pn){case"Array":case"Object":for(zt=Lt(Kt),sn=0,Gt=$(zt);sn<Gt;sn++)tn=zt[sn],_(ln,tn,kt(Kt[tn],an));break;case"Map":Kt.forEach(function(Pn,Cn){Ct(ln,kt(Cn,an),kt(Pn,an))});break;case"Set":Kt.forEach(function(Pn){Dt(ln,kt(Pn,an))});break;case"Error":tt(ln,"message",kt(Kt.message,an)),ut(Kt,"cause")&&tt(ln,"cause",kt(Kt.cause,an)),Ht=="AggregateError"&&(ln.errors=kt(Kt.errors,an));case"DOMException":ot&&tt(ln,"stack",kt(Kt.stack,an))}return ln},Vt=qt&&!j(function(){if(ft&&ct>92||bt&&ct>94||dt&&ct>97)return!1;var Kt=new ArrayBuffer(8),an=qt(Kt,{transfer:[Kt]});return Kt.byteLength!=0||an.byteLength!=8}),on=function(Kt,an){if(!et(Kt))throw Pt("Transfer option cannot be converted to a sequence");var pn=[];at(Kt,function(cn){$t(pn,it(cn))});var Yt=0,Bt=$(pn),Ht,ln,nn,sn,Gt,zt,tn;if(Vt)for(sn=qt(pn,{transfer:pn});Yt<Bt;)Ct(an,pn[Yt],sn[Yt++]);else for(;Yt<Bt;){if(Ht=pn[Yt++],mt(an,Ht))throw new gt("Duplicate transferable",un);switch(ln=rt(Ht),ln){case"ImageBitmap":nn=c.OffscreenCanvas,pt(nn)||Nt(ln,gn);try{zt=new nn(Ht.width,Ht.height),tn=zt.getContext("bitmaprenderer"),tn.transferFromImageBitmap(Ht),Gt=zt.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!_e(Ht.clone)||!_e(Ht.close))&&Nt(ln,gn);try{Gt=Ht.clone(),Ht.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":Nt(ln,gn)}if(Gt===void 0)throw new gt("This object cannot be transferred: "+ln,un);Ct(an,Ht,Gt)}};o({global:!0,enumerable:!0,sham:!Vt,forced:dn},{structuredClone:function(an){var pn=g(arguments.length,1)>1&&arguments[1]!=null?it(arguments[1]):void 0,Yt=pn?pn.transfer:void 0,Bt;return Yt!==void 0&&(Bt=new Ft,on(Yt,Bt)),kt(an,Bt)}})},(e,i,a)=>{var s=a(17),o=a(10),c=a(23),f=a(80),d=a(25),j=a(52),b=function(){},_e=[],pt=d("Reflect","construct"),et=/^\s*(?:class|function)\b/,nt=s(et.exec),at=!et.exec(b),it=function(_){if(!c(_))return!1;try{return pt(b,_e,_),!0}catch{return!1}},rt=function(_){if(!c(_))return!1;switch(f(_)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return at||!!nt(et,j(_))}catch{return!0}};rt.sham=!0,e.exports=!pt||o(function(){var ut;return it(it.call)||!it(Object)||!it(function(){ut=!0})||ut})?rt:it},e=>{var i=TypeError;e.exports=function(a,s){if(a<s)throw i("Not enough arguments");return a}},(e,i,a)=>{var s=a(11),o=a(40),c=a(26),f=a(123),d=RegExp.prototype;e.exports=function(j){var b=j.flags;return b===void 0&&!("flags"in d)&&!o(j,"flags")&&c(d,j)?s(f,j):b}},(e,i,a)=>{var s=a(48);e.exports=function(){var o=s(this),c="";return o.hasIndices&&(c+="d"),o.global&&(c+="g"),o.ignoreCase&&(c+="i"),o.multiline&&(c+="m"),o.dotAll&&(c+="s"),o.unicode&&(c+="u"),o.unicodeSets&&(c+="v"),o.sticky&&(c+="y"),c}},(e,i,a)=>{var s=a(10),o=a(14);e.exports=!s(function(){var c=Error("a");return"stack"in c?(Object.defineProperty(c,"stack",o(1,7)),c.stack!==7):!0})},(e,i,a)=>{var s=a(126),o=a(127);e.exports=!s&&!o&&typeof window=="object"&&typeof document=="object"},e=>{e.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(e,i,a)=>{var s=a(18),o=a(7);e.exports=s(o.process)=="process"},(e,i,a)=>{var s=a(7);e.exports=s},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(130),_display_utils=__w_pdfjs_require__(133),_font_loader=__w_pdfjs_require__(136),_canvas=__w_pdfjs_require__(137),_worker_options=__w_pdfjs_require__(140),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(141),_metadata=__w_pdfjs_require__(142),_optional_content_config=__w_pdfjs_require__(143),_transport_stream=__w_pdfjs_require__(144),_xfa_text=__w_pdfjs_require__(145);function _classPrivateMethodInitSpec(e,i){_checkPrivateRedeclaration(e,i),i.add(e)}function _classPrivateMethodGet(e,i,a){if(!i.has(e))throw new TypeError("attempted to get private field on non-instance");return a}function _classPrivateFieldInitSpec(e,i,a){_checkPrivateRedeclaration(e,i),i.set(e,a)}function _checkPrivateRedeclaration(e,i){if(i.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,i,a){var s=_classExtractFieldDescriptor(e,i,"set");return _classApplyDescriptorSet(e,s,a),a}function _classPrivateFieldGet(e,i){var a=_classExtractFieldDescriptor(e,i,"get");return _classApplyDescriptorGet(e,a)}function _classExtractFieldDescriptor(e,i,a){if(!i.has(e))throw new TypeError("attempted to "+a+" private field on non-instance");return i.get(e)}function _classStaticPrivateFieldSpecSet(e,i,a,s){return _classCheckPrivateStaticAccess(e,i),_classCheckPrivateStaticFieldDescriptor(a,"set"),_classApplyDescriptorSet(e,a,s),s}function _classApplyDescriptorSet(e,i,a){if(i.set)i.set.call(e,a);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=a}}function _classStaticPrivateFieldSpecGet(e,i,a){return _classCheckPrivateStaticAccess(e,i),_classCheckPrivateStaticFieldDescriptor(a,"get"),_classApplyDescriptorGet(e,a)}function _classCheckPrivateStaticFieldDescriptor(e,i){if(e===void 0)throw new TypeError("attempted to "+i+" private static field before its declaration")}function _classCheckPrivateStaticAccess(e,i){if(e!==i)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(e,i){return i.get?i.get.call(e):i.value}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:e,NodeCMapReaderFactory:i,NodeStandardFontDataFactory:a}=__w_pdfjs_require__(146);exports.DefaultCanvasFactory=DefaultCanvasFactory=e,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=i,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=a}let createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){const i=new PDFDocumentLoadingTask;let a;if(typeof e=="string"||e instanceof URL)a={url:e};else if((0,_util.isArrayBuffer)(e))a={data:e};else if(e instanceof PDFDataRangeTransport)a={range:e};else{if(typeof e!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");a=e}const s=Object.create(null);let o=null,c=null;for(const d in a){const j=a[d];switch(d){case"url":if(typeof window!="undefined")try{s[d]=new URL(j,window.location).href;continue}catch(b){(0,_util.warn)(`Cannot create valid URL: "${b}".`)}else if(typeof j=="string"||j instanceof URL){s[d]=j.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":o=j;continue;case"worker":c=j;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&j instanceof Buffer)s[d]=new Uint8Array(j);else{if(j instanceof Uint8Array)break;if(typeof j=="string")s[d]=(0,_util.stringToBytes)(j);else if(typeof j=="object"&&j!==null&&!isNaN(j.length))s[d]=new Uint8Array(j);else if((0,_util.isArrayBuffer)(j))s[d]=new Uint8Array(j);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}s[d]=j}if(s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory,s.ignoreErrors=s.stopAtErrors!==!0,s.fontExtraProperties=s.fontExtraProperties===!0,s.pdfBug=s.pdfBug===!0,s.enableXfa=s.enableXfa===!0,(!Number.isInteger(s.rangeChunkSize)||s.rangeChunkSize<1)&&(s.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof s.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),(!Number.isInteger(s.maxImageSize)||s.maxImageSize<-1)&&(s.maxImageSize=-1),typeof s.cMapUrl!="string"&&(s.cMapUrl=null),typeof s.standardFontDataUrl!="string"&&(s.standardFontDataUrl=null),typeof s.useWorkerFetch!="boolean"&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof s.isEvalSupported!="boolean"&&(s.isEvalSupported=!0),typeof s.disableFontFace!="boolean"&&(s.disableFontFace=_is_node.isNodeJS),typeof s.useSystemFonts!="boolean"&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace),(typeof s.ownerDocument!="object"||s.ownerDocument===null)&&(s.ownerDocument=globalThis.document),typeof s.disableRange!="boolean"&&(s.disableRange=!1),typeof s.disableStream!="boolean"&&(s.disableStream=!1),typeof s.disableAutoFetch!="boolean"&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!c){const d={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};c=d.port?_PDFWorker.fromPort(d):new _PDFWorker(d),i._worker=c}const f=i.docId;return c.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");const d=_fetchDocument(c,s,o,f),j=new Promise(function(b){let _e;o?_e=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},o):s.data||(_e=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),b(_e)});return Promise.all([d,j]).then(function(b){let[_e,pt]=b;if(i.destroyed)throw new Error("Loading aborted");const et=new _message_handler.MessageHandler(f,_e,c.port),nt=new WorkerTransport(et,i,pt,s);i._transport=nt,et.send("Ready",null)})}).catch(i._capability.reject),i}async function _fetchDocument(e,i,a,s){if(e.destroyed)throw new Error("Worker was destroyed");a&&(i.length=a.length,i.initialData=a.initialData,i.progressiveDone=a.progressiveDone,i.contentDispositionFilename=a.contentDispositionFilename);const o=await e.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.16.105",source:{data:i.data,url:i.url,password:i.password,disableAutoFetch:i.disableAutoFetch,rangeChunkSize:i.rangeChunkSize,length:i.length},maxImageSize:i.maxImageSize,disableFontFace:i.disableFontFace,docBaseUrl:i.docBaseUrl,ignoreErrors:i.ignoreErrors,isEvalSupported:i.isEvalSupported,fontExtraProperties:i.fontExtraProperties,enableXfa:i.enableXfa,useSystemFonts:i.useSystemFonts,cMapUrl:i.useWorkerFetch?i.cMapUrl:null,standardFontDataUrl:i.useWorkerFetch?i.standardFontDataUrl:null});if(i.data&&(i.data=null),e.destroyed)throw new Error("Worker was destroyed");return o}class PDFDocumentLoadingTask{constructor(){var i,a;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(i=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),a=i++,i)),a}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var i;this.destroyed=!0,await((i=this._transport)===null||i===void 0?void 0:i.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0};class PDFDataRangeTransport{constructor(i,a){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=i,this.initialData=a,this.progressiveDone=s,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(i){this._rangeListeners.push(i)}addProgressListener(i){this._progressListeners.push(i)}addProgressiveReadListener(i){this._progressiveReadListeners.push(i)}addProgressiveDoneListener(i){this._progressiveDoneListeners.push(i)}onDataRange(i,a){for(const s of this._rangeListeners)s(i,a)}onDataProgress(i,a){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(i,a)})}onDataProgressiveRead(i){this._readyCapability.promise.then(()=>{for(const a of this._progressiveReadListeners)a(i)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const i of this._progressiveDoneListeners)i()})}transportReady(){this._readyCapability.resolve()}requestDataRange(i,a){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(i,a){this._pdfInfo=i,this._transport=a,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(i){return this._transport.getPage(i)}getPageIndex(i){return this._transport.getPageIndex(i)}getDestinations(){return this._transport.getDestinations()}getDestination(i){return this._transport.getDestination(i)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(i||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(i,a,s,o){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;this._pageIndex=i,this._pageInfo=a,this._ownerDocument=o,this._transport=s,this._stats=c?new _display_utils.StatTimer:null,this._pdfBug=c,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:i,rotation:a=this.rotate,offsetX:s=0,offsetY:o=0,dontFlip:c=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:i,rotation:a,offsetX:s,offsetY:o,dontFlip:c})}getAnnotations(){let{intent:i="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=this._transport.getRenderingIntent(i);let s=this._annotationPromises.get(a.cacheKey);return s||(s=this._transport.getAnnotations(this._pageIndex,a.renderingIntent),this._annotationPromises.set(a.cacheKey,s),s=s.then(o=>{for(const c of o)c.titleObj!==void 0&&Object.defineProperty(c,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),c.titleObj.str}}),c.contentsObj!==void 0&&Object.defineProperty(c,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),c.contentsObj.str}});return o})),s}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var i;return((i=this._transport._htmlForXfa)===null||i===void 0?void 0:i.children[this._pageIndex])||null}render(i){var a,s,o;let{canvasContext:c,viewport:f,intent:d="display",annotationMode:j=_util.AnnotationMode.ENABLE,transform:b=null,imageLayer:_e=null,canvasFactory:pt=null,background:et=null,optionalContentConfigPromise:nt=null,annotationCanvasMap:at=null,pageColors:it=null,printAnnotationStorage:rt=null}=i;((a=arguments[0])===null||a===void 0?void 0:a.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&j===_util.AnnotationMode.ENABLE&&(j=_util.AnnotationMode.ENABLE_FORMS)),((s=arguments[0])===null||s===void 0?void 0:s.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&j===_util.AnnotationMode.ENABLE&&(j=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const ut=this._transport.getRenderingIntent(d,j,rt);this.pendingCleanup=!1,nt||(nt=this._transport.getOptionalContentConfig());let _=this._intentStates.get(ut.cacheKey);_||(_=Object.create(null),this._intentStates.set(ut.cacheKey,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const tt=pt||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),$=!!(ut.renderingIntent&_util.RenderingIntentFlag.PRINT);_.displayReadyCapability||(_.displayReadyCapability=(0,_util.createPromiseCapability)(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ut));const g=ct=>{_.renderTasks.delete(k),(this.cleanupAfterRender||$)&&(this.pendingCleanup=!0),this._tryCleanup(),ct?(k.capability.reject(ct),this._abortOperatorList({intentState:_,reason:ct instanceof Error?ct:new Error(ct)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},k=new InternalRenderTask({callback:g,params:{canvasContext:c,viewport:f,transform:b,imageLayer:_e,background:et},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:at,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:tt,useRequestAnimationFrame:!$,pdfBug:this._pdfBug,pageColors:it});((o=_).renderTasks||(o.renderTasks=new Set)).add(k);const ot=k.task;return Promise.all([_.displayReadyCapability.promise,nt]).then(ct=>{let[dt,ft]=ct;if(this.pendingCleanup){g();return}this._stats&&this._stats.time("Rendering"),k.initializeGraphics({transparency:dt,optionalContentConfig:ft}),k.operatorListChanged()}).catch(g),ot}getOperatorList(){let{intent:i="display",annotationMode:a=_util.AnnotationMode.ENABLE,printAnnotationStorage:s=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function o(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(i,a,s,!0);let f=this._intentStates.get(c.cacheKey);f||(f=Object.create(null),this._intentStates.set(c.cacheKey,f));let d;if(!f.opListReadCapability){var j;d=Object.create(null),d.operatorListChanged=o,f.opListReadCapability=(0,_util.createPromiseCapability)(),((j=f).renderTasks||(j.renderTasks=new Set)).add(d),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(c)}return f.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:i=!1,includeMarkedContent:a=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:i!==!0,includeMarkedContent:a===!0},{highWaterMark:s,size(o){return o.items.length}})}getTextContent(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(s=>_xfa_text.XfaText.textContent(s));const a=this.streamTextContent(i);return new Promise(function(s,o){function c(){f.read().then(function(j){let{value:b,done:_e}=j;if(_e){s(d);return}Object.assign(d.styles,b.styles),d.items.push(...b.items),c()},o)}const f=a.getReader(),d={items:[],styles:Object.create(null)};c()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const i=[];for(const a of this._intentStates.values())if(this._abortOperatorList({intentState:a,reason:new Error("Page was destroyed."),force:!0}),!a.opListReadCapability)for(const s of a.renderTasks)i.push(s.completed),s.cancel();this.objs.clear();for(const a of this._bitmaps)a.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(i)}cleanup(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(i)}_tryCleanup(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;for(const{renderTasks:a,operatorList:s}of this._intentStates.values())if(a.size>0||!s.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,i&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const a of this._bitmaps)a.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(i,a){const s=this._intentStates.get(a);!s||(this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(i))}_renderPageChunk(i,a){for(let s=0,o=i.length;s<o;s++)a.operatorList.fnArray.push(i.fnArray[s]),a.operatorList.argsArray.push(i.argsArray[s]);a.operatorList.lastChunk=i.lastChunk,a.operatorList.separateAnnots=i.separateAnnots;for(const s of a.renderTasks)s.operatorListChanged();i.lastChunk&&this._tryCleanup()}_pumpOperatorList(i){let{renderingIntent:a,cacheKey:s,annotationStorageMap:o}=i;const f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:s,annotationStorage:o}).getReader(),d=this._intentStates.get(s);d.streamReader=f;const j=()=>{f.read().then(b=>{let{value:_e,done:pt}=b;if(pt){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_e,d),j())},b=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const _e of d.renderTasks)_e.operatorListChanged();this._tryCleanup()}if(d.displayReadyCapability)d.displayReadyCapability.reject(b);else if(d.opListReadCapability)d.opListReadCapability.reject(b);else throw b}})};j()}_abortOperatorList(i){let{intentState:a,reason:s,force:o=!1}=i;if(!!a.streamReader){if(!o){if(a.renderTasks.size>0)return;if(s instanceof _display_utils.RenderingCancelledException){a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:s,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(a.streamReader.cancel(new _util.AbortException(s.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[c,f]of this._intentStates)if(f===a){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(i,a){const s={data:structuredClone(i,a)};this._deferred.then(()=>{for(const o of this._listeners)o.call(this,s)})}addEventListener(i,a){this._listeners.push(a)}removeEventListener(i,a){const s=this._listeners.indexOf(a);this._listeners.splice(s,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){var _document,_document$currentScri;const e=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,i){let a;try{if(a=new URL(e),!a.origin||a.origin==="null")return!1}catch{return!1}const s=new URL(i,a);return a.origin===s.origin},PDFWorkerUtil.createCDNWrapper=function(e){const i=`importScripts("${e}");`;return URL.createObjectURL(new Blob([i]))}}class _PDFWorker{constructor(){let{name:e=null,port:i=null,verbosity:a=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(i&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(i))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=e,this.destroyed=!1,this.verbosity=a,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,i){_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const i=new Worker(e),a=new _message_handler.MessageHandler("main","worker",i),s=()=>{i.removeEventListener("error",o),a.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=()=>{this._webWorker||s()};i.addEventListener("error",o),a.on("test",f=>{if(i.removeEventListener("error",o),this.destroyed){s();return}f?(this._messageHandler=a,this._port=i,this._webWorker=i,this._readyCapability.resolve(),a.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),a.destroy(),i.terminate())}),a.on("ready",f=>{if(i.removeEventListener("error",o),this.destroyed){s();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const f=new Uint8Array;a.send("test",f,[f.buffer])};c();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new LoopbackPort;this._port=i;const a=`fake${PDFWorkerUtil.fakeWorkerId++}`,s=new _message_handler.MessageHandler(a+"_worker",a,i);e.setup(s,i);const o=new _message_handler.MessageHandler(a,a+"_worker",i);this._messageHandler=o,this._readyCapability.resolve(),o.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(e.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(e.port):new _PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var e;return((e=globalThis.pdfjsWorker)===null||e===void 0?void 0:e.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker;var _workerPorts={writable:!0,value:new WeakMap};_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(i,a,s,o){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=i,this.loadingTask=a,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:a.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this._params=o,o.useWorkerFetch||(this.CMapReaderFactory=new o.CMapReaderFactory({baseUrl:o.cMapUrl,isCompressed:o.cMapPacked}),this.StandardFontDataFactory=new o.StandardFontDataFactory({baseUrl:o.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(i){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,c=_util.RenderingIntentFlag.DISPLAY,f=null;switch(i){case"any":c=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":c=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${i}`)}switch(a){case _util.AnnotationMode.DISABLE:c+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:c+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:c+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,f=(c&_util.RenderingIntentFlag.PRINT&&s instanceof _annotation_storage.PrintAnnotationStorage?s:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${a}`)}return o&&(c+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:c,cacheKey:`${c}_${_annotation_storage.AnnotationStorage.getHash(f)}`,annotationStorageMap:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const i=[];for(const s of _classPrivateFieldGet(this,_pageCache).values())i.push(s._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const a=this.messageHandler.sendWithPromise("Terminate",null);return i.push(a),Promise.all(i).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:i,loadingTask:a}=this;i.on("GetReader",(s,o)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=c=>{this._lastProgress={loaded:c.loaded,total:c.total}},o.onPull=()=>{this._fullReader.read().then(function(c){let{value:f,done:d}=c;if(d){o.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(f),"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(f),1,[f])}).catch(c=>{o.error(c)})},o.onCancel=c=>{this._fullReader.cancel(c),o.ready.catch(f=>{if(!this.destroyed)throw f})}}),i.on("ReaderHeadersReady",s=>{const o=(0,_util.createPromiseCapability)(),c=this._fullReader;return c.headersReady.then(()=>{if(!c.isStreamingSupported||!c.isRangeSupported){if(this._lastProgress){var f;(f=a.onProgress)===null||f===void 0||f.call(a,this._lastProgress)}c.onProgress=d=>{var j;(j=a.onProgress)===null||j===void 0||j.call(a,{loaded:d.loaded,total:d.total})}}o.resolve({isStreamingSupported:c.isStreamingSupported,isRangeSupported:c.isRangeSupported,contentLength:c.contentLength})},o.reject),o.promise}),i.on("GetRangeReader",(s,o)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const c=this._networkStream.getRangeReader(s.begin,s.end);if(!c){o.close();return}o.onPull=()=>{c.read().then(function(f){let{value:d,done:j}=f;if(j){o.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(d),"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(d),1,[d])}).catch(f=>{o.error(f)})},o.onCancel=f=>{c.cancel(f),o.ready.catch(d=>{if(!this.destroyed)throw d})}}),i.on("GetDoc",s=>{let{pdfInfo:o}=s;this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,a._capability.resolve(new PDFDocumentProxy(o,this))}),i.on("DocException",function(s){let o;switch(s.name){case"PasswordException":o=new _util.PasswordException(s.message,s.code);break;case"InvalidPDFException":o=new _util.InvalidPDFException(s.message);break;case"MissingPDFException":o=new _util.MissingPDFException(s.message);break;case"UnexpectedResponseException":o=new _util.UnexpectedResponseException(s.message,s.status);break;case"UnknownErrorException":o=new _util.UnknownErrorException(s.message,s.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}a._capability.reject(o)}),i.on("PasswordRequest",s=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),a.onPassword){const o=c=>{c instanceof Error?this._passwordCapability.reject(c):this._passwordCapability.resolve({password:c})};try{a.onPassword(o,s.code)}catch(c){this._passwordCapability.reject(c)}}else this._passwordCapability.reject(new _util.PasswordException(s.message,s.code));return this._passwordCapability.promise}),i.on("DataLoaded",s=>{var o;(o=a.onProgress)===null||o===void 0||o.call(a,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),i.on("StartRenderPage",s=>{if(this.destroyed)return;_classPrivateFieldGet(this,_pageCache).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),i.on("commonobj",s=>{var o;let[c,f,d]=s;if(!this.destroyed&&!this.commonObjs.has(c))switch(f){case"Font":const j=this._params;if("error"in d){const pt=d.error;(0,_util.warn)(`Error during font loading: ${pt}`),this.commonObjs.resolve(c,pt);break}let b=null;j.pdfBug&&(o=globalThis.FontInspector)!==null&&o!==void 0&&o.enabled&&(b={registerFont(pt,et){globalThis.FontInspector.fontAdded(pt,et)}});const _e=new _font_loader.FontFaceObject(d,{isEvalSupported:j.isEvalSupported,disableFontFace:j.disableFontFace,ignoreErrors:j.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:b});this.fontLoader.bind(_e).catch(pt=>i.sendWithPromise("FontFallback",{id:c})).finally(()=>{!j.fontExtraProperties&&_e.data&&(_e.data=null),this.commonObjs.resolve(c,_e)});break;case"FontPath":case"Image":this.commonObjs.resolve(c,d);break;default:throw new Error(`Got unknown common object type ${f}`)}}),i.on("obj",s=>{let[o,c,f,d]=s;if(this.destroyed)return;const j=_classPrivateFieldGet(this,_pageCache).get(c);if(!j.objs.has(o))switch(f){case"Image":j.objs.resolve(o,d);const _e=8e6;if(d){let pt;if(d.bitmap){const{bitmap:et,width:nt,height:at}=d;pt=nt*at*4,j._bitmaps.add(et)}else{var b;pt=((b=d.data)===null||b===void 0?void 0:b.length)||0}pt>_e&&(j.cleanupAfterRender=!0)}break;case"Pattern":j.objs.resolve(o,d);break;default:throw new Error(`Got unknown object type ${f}`)}}),i.on("DocProgress",s=>{var o;this.destroyed||(o=a.onProgress)===null||o===void 0||o.call(a,{loaded:s.loaded,total:s.total})}),i.on("DocStats",s=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(s.streamTypes),fontTypes:Object.freeze(s.fontTypes)}))}),i.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),i.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),i.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature(i){var a,s;let{featureId:o}=i;this.destroyed||(a=(s=this.loadingTask).onUnsupportedFeature)===null||a===void 0||a.call(s,o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(i){if(!Number.isInteger(i)||i<=0||i>this._numPages)return Promise.reject(new Error("Invalid page request."));const a=i-1,s=_classPrivateFieldGet(this,_pagePromises).get(a);if(s)return s;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:a}).then(c=>{if(this.destroyed)throw new Error("Transport destroyed");const f=new PDFPageProxy(a,c,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(a,f),f});return _classPrivateFieldGet(this,_pagePromises).set(a,o),o}getPageIndex(i){return typeof i!="object"||i===null||!Number.isInteger(i.num)||i.num<0||!Number.isInteger(i.gen)||i.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:i.num,gen:i.gen})}getAnnotations(i,a){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:i,intent:a})}saveDocument(){var i,a;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(i=(a=this._fullReader)===null||a===void 0?void 0:a.filename)!==null&&i!==void 0?i:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(i){return typeof i!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:i})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(i){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:i})}getStructTree(i){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:i})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(i=>new _optional_content_config.OptionalContentConfig(i))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(i=>{var a,s,o,c;return{info:i[0],metadata:i[1]?new _metadata.Metadata(i[1]):null,contentDispositionFilename:(a=(s=this._fullReader)===null||s===void 0?void 0:s.filename)!==null&&a!==void 0?a:null,contentLength:(o=(c=this._fullReader)===null||c===void 0?void 0:c.contentLength)!==null&&o!==void 0?o:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const a of _classPrivateFieldGet(this,_pageCache).values())if(!a.cleanup())throw new Error(`startCleanup: Page ${a.pageNumber} is currently rendering.`);this.commonObjs.clear(),i||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const i=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:i.disableAutoFetch,enableXfa:i.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(i){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(a){const o=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,i);return o.capability.promise.then(()=>a(o.data)),null}const s=_classPrivateFieldGet(this,_objs)[i];if(!(s!=null&&s.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${i}.`);return s.data}has(i){const a=_classPrivateFieldGet(this,_objs)[i];return(a==null?void 0:a.capability.settled)||!1}resolve(i){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const s=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,i);s.data=a,s.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(e){const i=_classPrivateFieldGet(this,_objs)[e];return i||(_classPrivateFieldGet(this,_objs)[e]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(i){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,i),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:i}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!i)return!1;const{annotationCanvasMap:a}=_classPrivateFieldGet(this,_internalRenderTask);return i.form||i.canvas&&(a==null?void 0:a.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(i){let{callback:a,params:s,objs:o,commonObjs:c,annotationCanvasMap:f,operatorList:d,pageIndex:j,canvasFactory:b,useRequestAnimationFrame:_e=!1,pdfBug:pt=!1,pageColors:et=null}=i;this.callback=a,this.params=s,this.objs=o,this.commonObjs=c,this.annotationCanvasMap=f,this.operatorListIdx=null,this.operatorList=d,this._pageIndex=j,this.canvasFactory=b,this._pdfBug=pt,this.pageColors=et,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_e===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(i){var a;let{transparency:s=!1,optionalContentConfig:o}=i;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&(a=globalThis.StepperManager)!==null&&a!==void 0&&a.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:c,viewport:f,transform:d,imageLayer:j,background:b}=this.params;this.gfx=new _canvas.CanvasGraphics(c,this.commonObjs,this.objs,this.canvasFactory,j,o,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:d,viewport:f,transparency:s,background:b}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(i||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var s=a(1),o=a(131),c=a(135);function f($,g,k){nt($,g),g.set($,k)}function d($,g){var k=_e($,g,"get");return j($,k)}function j($,g){return g.get?g.get.call($):g.value}function b($,g,k){var ot=_e($,g,"set");return pt($,ot,k),k}function _e($,g,k){if(!g.has($))throw new TypeError("attempted to "+k+" private field on non-instance");return g.get($)}function pt($,g,k){if(g.set)g.set.call($,k);else{if(!g.writable)throw new TypeError("attempted to set read only private field");g.value=k}}function et($,g){nt($,g),g.add($)}function nt($,g){if(g.has($))throw new TypeError("Cannot initialize the same private elements twice on an object")}function at($,g,k){if(!g.has($))throw new TypeError("attempted to get private field on non-instance");return k}var it=new WeakSet;class rt{constructor(){et(this,it),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(g,k){const ot=this._storage.get(g);return ot===void 0?k:Object.assign(k,ot)}getRawValue(g){return this._storage.get(g)}remove(g){if(this._storage.delete(g),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const k of this._storage.values())if(k instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(g,k){const ot=this._storage.get(g);let ct=!1;if(ot!==void 0)for(const[dt,ft]of Object.entries(k))ot[dt]!==ft&&(ct=!0,ot[dt]=ft);else ct=!0,this._storage.set(g,k);ct&&at(this,it,ut).call(this),k instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(k.constructor._type)}has(g){return this._storage.has(g)}getAll(){return this._storage.size>0?(0,s.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new tt(this)}get serializable(){if(this._storage.size===0)return null;const g=new Map;for(const[k,ot]of this._storage){const ct=ot instanceof o.AnnotationEditor?ot.serialize():ot;ct&&g.set(k,ct)}return g}static getHash(g){if(!g)return"";const k=new c.MurmurHash3_64;for(const[ot,ct]of g)k.update(`${ot}:${JSON.stringify(ct)}`);return k.hexdigest()}}i.AnnotationStorage=rt;function ut(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}var _=new WeakMap;class tt extends rt{constructor(g){super();f(this,_,{writable:!0,value:null}),b(this,_,structuredClone(g.serializable))}get print(){(0,s.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,_)}}i.PrintAnnotationStorage=tt},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var s=a(132),o=a(1);function c($,g,k){return g in $?Object.defineProperty($,g,{value:k,enumerable:!0,configurable:!0,writable:!0}):$[g]=k,$}function f($,g,k){d($,g),g.set($,k)}function d($,g){if(g.has($))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j($,g,k){var ot=pt($,g,"set");return b($,ot,k),k}function b($,g,k){if(g.set)g.set.call($,k);else{if(!g.writable)throw new TypeError("attempted to set read only private field");g.value=k}}function _e($,g){var k=pt($,g,"get");return et($,k)}function pt($,g,k){if(!g.has($))throw new TypeError("attempted to "+k+" private field on non-instance");return g.get($)}function et($,g){return g.get?g.get.call($):g.value}var nt=new WeakMap,at=new WeakMap,it=new WeakMap,rt=new WeakMap,ut=new WeakMap,_=new WeakMap;class tt{constructor(g){f(this,nt,{writable:!0,value:this.focusin.bind(this)}),f(this,at,{writable:!0,value:this.focusout.bind(this)}),f(this,it,{writable:!0,value:!1}),f(this,rt,{writable:!0,value:!1}),f(this,ut,{writable:!0,value:!1}),f(this,_,{writable:!0,value:tt._zIndex++}),this.constructor===tt&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=g.parent,this.id=g.id,this.width=this.height=null,this.pageIndex=g.parent.pageIndex,this.name=g.name,this.div=null;const[k,ot]=this.parent.viewportBaseDimensions;this.x=g.x/k,this.y=g.y/ot,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_e(this,_)}focusin(g){_e(this,it)?j(this,it,!1):this.parent.setSelected(this)}focusout(g){if(!this.isAttachedToDOM)return;const k=g.relatedTarget;k!=null&&k.closest(`#${this.id}`)||(g.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(g){const k=this.parent.div.getBoundingClientRect();this.startX=g.clientX-k.x,this.startY=g.clientY-k.y,g.dataTransfer.setData("text/plain",this.id),g.dataTransfer.effectAllowed="move"}setAt(g,k,ot,ct){const[dt,ft]=this.parent.viewportBaseDimensions;[ot,ct]=this.screenToPageTranslation(ot,ct),this.x=(g+ot)/dt,this.y=(k+ct)/ft,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(g,k){const[ot,ct]=this.parent.viewportBaseDimensions;[g,k]=this.screenToPageTranslation(g,k),this.x+=g/ot,this.y+=k/ct,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(g,k){const{rotation:ot}=this.parent.viewport;switch(ot){case 90:return[k,-g];case 180:return[-g,-k];case 270:return[-k,g];default:return[g,k]}}setDims(g,k){const[ot,ct]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*g/ot}%`,this.div.style.height=`${100*k/ct}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_e(this,nt)),this.div.addEventListener("focusout",_e(this,at));const[g,k]=this.getInitialTranslation();return this.translate(g,k),(0,s.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(g){const k=s.KeyboardManager.platform.isMac;if(g.button!==0||g.ctrlKey&&k){g.preventDefault();return}g.ctrlKey&&!k||g.shiftKey||g.metaKey&&k?this.parent.toggleSelected(this):this.parent.setSelected(this),j(this,it,!0)}getRect(g,k){const[ot,ct]=this.parent.viewportBaseDimensions,[dt,ft]=this.parent.pageDimensions,bt=dt*g/ot,Mt=ft*k/ct,_t=this.x*dt,xt=this.y*ft,wt=this.width*dt,At=this.height*ft;switch(this.rotation){case 0:return[_t+bt,ft-xt-Mt-At,_t+bt+wt,ft-xt-Mt];case 90:return[_t+Mt,ft-xt+bt,_t+Mt+At,ft-xt+bt+wt];case 180:return[_t-bt-wt,ft-xt+Mt,_t-bt,ft-xt+Mt+At];case 270:return[_t-Mt-At,ft-xt-bt-wt,_t-Mt,ft-xt-bt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(g,k){const[ot,ct,dt,ft]=g,bt=dt-ot,Mt=ft-ct;switch(this.rotation){case 0:return[ot,k-ft,bt,Mt];case 90:return[ot,k-ct,Mt,bt];case 180:return[dt,k-ct,bt,Mt];case 270:return[dt,k-ft,Mt,bt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){j(this,ut,!0)}disableEditMode(){j(this,ut,!1)}isInEditMode(){return _e(this,ut)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var g;(g=this.div)===null||g===void 0||g.addEventListener("focusin",_e(this,nt))}serialize(){(0,o.unreachable)("An editor must be serializable")}static deserialize(g,k){const ot=new this.prototype.constructor({parent:k,id:k.getNextId()});ot.rotation=g.rotation;const[ct,dt]=k.pageDimensions,[ft,bt,Mt,_t]=ot.getRectInCurrentCoords(g.rect,dt);return ot.x=ft/ct,ot.y=bt/dt,ot.width=Mt/ct,ot.height=_t/dt,ot}remove(){this.div.removeEventListener("focusin",_e(this,nt)),this.div.removeEventListener("focusout",_e(this,at)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var g;(g=this.div)===null||g===void 0||g.classList.add("selectedEditor")}unselect(){var g;(g=this.div)===null||g===void 0||g.classList.remove("selectedEditor")}updateParams(g,k){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return _e(this,rt)}set isEditing(g){j(this,rt,g),g?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}i.AnnotationEditor=tt,c(tt,"_colorManager",new s.ColorManager),c(tt,"_zIndex",1)},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=it,i.opacityToHex=rt;var s=a(1),o=a(133);function c(hn,Nt,kt){return Nt in hn?Object.defineProperty(hn,Nt,{value:kt,enumerable:!0,configurable:!0,writable:!0}):hn[Nt]=kt,hn}function f(hn,Nt){b(hn,Nt),Nt.add(hn)}function d(hn,Nt,kt){if(!Nt.has(hn))throw new TypeError("attempted to get private field on non-instance");return kt}function j(hn,Nt,kt){b(hn,Nt),Nt.set(hn,kt)}function b(hn,Nt){if(Nt.has(hn))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _e(hn,Nt,kt){var Vt=nt(hn,Nt,"set");return pt(hn,Vt,kt),kt}function pt(hn,Nt,kt){if(Nt.set)Nt.set.call(hn,kt);else{if(!Nt.writable)throw new TypeError("attempted to set read only private field");Nt.value=kt}}function et(hn,Nt){var kt=nt(hn,Nt,"get");return at(hn,kt)}function nt(hn,Nt,kt){if(!Nt.has(hn))throw new TypeError("attempted to "+kt+" private field on non-instance");return Nt.get(hn)}function at(hn,Nt){return Nt.get?Nt.get.call(hn):Nt.value}function it(hn,Nt,kt){for(const Vt of kt)Nt.addEventListener(Vt,hn[Vt].bind(hn))}function rt(hn){return Math.round(Math.min(255,Math.max(1,255*hn))).toString(16).padStart(2,"0")}var ut=new WeakMap;class _{constructor(){j(this,ut,{writable:!0,value:0})}getId(){var Nt,kt;return`${s.AnnotationEditorPrefix}${_e(this,ut,(Nt=et(this,ut),kt=Nt++,Nt)),kt}`}}var tt=new WeakMap,$=new WeakMap,g=new WeakMap,k=new WeakMap;class ot{constructor(){let Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;j(this,tt,{writable:!0,value:[]}),j(this,$,{writable:!0,value:!1}),j(this,g,{writable:!0,value:void 0}),j(this,k,{writable:!0,value:-1}),_e(this,g,Nt)}add(Nt){let{cmd:kt,undo:Vt,mustExec:on,type:Kt=NaN,overwriteIfSameType:an=!1,keepUndo:pn=!1}=Nt;if(on&&kt(),et(this,$))return;const Yt={cmd:kt,undo:Vt,type:Kt};if(et(this,k)===-1){et(this,tt).length>0&&(et(this,tt).length=0),_e(this,k,0),et(this,tt).push(Yt);return}if(an&&et(this,tt)[et(this,k)].type===Kt){pn&&(Yt.undo=et(this,tt)[et(this,k)].undo),et(this,tt)[et(this,k)]=Yt;return}const Bt=et(this,k)+1;Bt===et(this,g)?et(this,tt).splice(0,1):(_e(this,k,Bt),Bt<et(this,tt).length&&et(this,tt).splice(Bt)),et(this,tt).push(Yt)}undo(){et(this,k)!==-1&&(_e(this,$,!0),et(this,tt)[et(this,k)].undo(),_e(this,$,!1),_e(this,k,et(this,k)-1))}redo(){et(this,k)<et(this,tt).length-1&&(_e(this,k,et(this,k)+1),_e(this,$,!0),et(this,tt)[et(this,k)].cmd(),_e(this,$,!1))}hasSomethingToUndo(){return et(this,k)!==-1}hasSomethingToRedo(){return et(this,k)<et(this,tt).length-1}destroy(){_e(this,tt,null)}}i.CommandManager=ot;var ct=new WeakSet;class dt{constructor(Nt){f(this,ct),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const kt=dt.platform.isMac;for(const[Vt,on]of Nt)for(const Kt of Vt){const an=Kt.startsWith("mac+");kt&&an?(this.callbacks.set(Kt.slice(4),on),this.allKeys.add(Kt.split("+").at(-1))):!kt&&!an&&(this.callbacks.set(Kt,on),this.allKeys.add(Kt.split("+").at(-1)))}}static get platform(){const Nt=typeof navigator!="undefined"?navigator.platform:"";return(0,s.shadow)(this,"platform",{isWin:Nt.includes("Win"),isMac:Nt.includes("Mac")})}exec(Nt,kt){if(!this.allKeys.has(kt.key))return;const Vt=this.callbacks.get(d(this,ct,ft).call(this,kt));!Vt||(Vt.bind(Nt)(),kt.stopPropagation(),kt.preventDefault())}}i.KeyboardManager=dt;function ft(hn){hn.altKey&&this.buffer.push("alt"),hn.ctrlKey&&this.buffer.push("ctrl"),hn.metaKey&&this.buffer.push("meta"),hn.shiftKey&&this.buffer.push("shift"),this.buffer.push(hn.key);const Nt=this.buffer.join("+");return this.buffer.length=0,Nt}var bt=new WeakMap;class Mt{constructor(){j(this,bt,{writable:!0,value:null})}copy(Nt){!Nt||(Array.isArray(Nt)?_e(this,bt,Nt.map(kt=>kt.serialize())):_e(this,bt,[Nt.serialize()]),_e(this,bt,et(this,bt).filter(kt=>!!kt)),et(this,bt).length===0&&_e(this,bt,null))}paste(){return et(this,bt)}isEmpty(){return et(this,bt)===null}destroy(){_e(this,bt,null)}}class _t{get _colors(){const Nt=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(Nt),(0,s.shadow)(this,"_colors",Nt)}convert(Nt){const kt=(0,o.getRGB)(Nt);if(!window.matchMedia("(forced-colors: active)").matches)return kt;for(const[Vt,on]of this._colors)if(on.every((Kt,an)=>Kt===kt[an]))return _t._colorsMapping.get(Vt);return kt}getHexCode(Nt){const kt=this._colors.get(Nt);return kt?s.Util.makeHexColor(...kt):Nt}}i.ColorManager=_t,c(_t,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var xt=new WeakMap,wt=new WeakMap,At=new WeakMap,Et=new WeakMap,yt=new WeakMap,Pt=new WeakMap,It=new WeakMap,vt=new WeakMap,Wt=new WeakMap,jt=new WeakMap,Rt=new WeakMap,ht=new WeakMap,gt=new WeakMap,Ot=new WeakMap,Ft=new WeakMap,lt=new WeakMap,mt=new WeakMap,St=new WeakSet,Ct=new WeakSet,Dt=new WeakSet,Lt=new WeakSet,$t=new WeakSet,Xt=new WeakSet,Zt=new WeakSet,Jt=new WeakSet,Qt=new WeakSet;class en{constructor(Nt,kt){f(this,Qt),f(this,Jt),f(this,Zt),f(this,Xt),f(this,$t),f(this,Lt),f(this,Dt),f(this,Ct),f(this,St),j(this,xt,{writable:!0,value:null}),j(this,wt,{writable:!0,value:new Map}),j(this,At,{writable:!0,value:new Map}),j(this,Et,{writable:!0,value:new Mt}),j(this,yt,{writable:!0,value:new ot}),j(this,Pt,{writable:!0,value:0}),j(this,It,{writable:!0,value:null}),j(this,vt,{writable:!0,value:null}),j(this,Wt,{writable:!0,value:new _}),j(this,jt,{writable:!0,value:!1}),j(this,Rt,{writable:!0,value:s.AnnotationEditorType.NONE}),j(this,ht,{writable:!0,value:new Set}),j(this,gt,{writable:!0,value:this.keydown.bind(this)}),j(this,Ot,{writable:!0,value:this.onEditingAction.bind(this)}),j(this,Ft,{writable:!0,value:this.onPageChanging.bind(this)}),j(this,lt,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),j(this,mt,{writable:!0,value:null}),_e(this,mt,Nt),_e(this,vt,kt),et(this,vt)._on("editingaction",et(this,Ot)),et(this,vt)._on("pagechanging",et(this,Ft))}destroy(){d(this,Ct,gn).call(this),et(this,vt)._off("editingaction",et(this,Ot)),et(this,vt)._off("pagechanging",et(this,Ft));for(const Nt of et(this,At).values())Nt.destroy();et(this,At).clear(),et(this,wt).clear(),_e(this,xt,null),et(this,ht).clear(),et(this,Et).destroy(),et(this,yt).destroy()}onPageChanging(Nt){let{pageNumber:kt}=Nt;_e(this,Pt,kt-1)}focusMainContainer(){et(this,mt).focus()}keydown(Nt){var kt;(kt=this.getActive())!==null&&kt!==void 0&&kt.shouldGetKeyboardEvents()||en._keyboardManager.exec(this,Nt)}onEditingAction(Nt){["undo","redo","cut","copy","paste","delete","selectAll"].includes(Nt.name)&&this[Nt.name]()}setEditingState(Nt){Nt?(d(this,St,un).call(this),d(this,Dt,yn).call(this,{isEditing:et(this,Rt)!==s.AnnotationEditorType.NONE,isEmpty:d(this,Jt,Sn).call(this),hasSomethingToUndo:et(this,yt).hasSomethingToUndo(),hasSomethingToRedo:et(this,yt).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:et(this,Et).isEmpty()})):(d(this,Ct,gn).call(this),d(this,Dt,yn).call(this,{isEditing:!1}))}registerEditorTypes(Nt){_e(this,It,Nt);for(const kt of et(this,It))d(this,Lt,vn).call(this,kt.defaultPropertiesToUpdate)}getId(){return et(this,Wt).getId()}addLayer(Nt){et(this,At).set(Nt.pageIndex,Nt),et(this,jt)?Nt.enable():Nt.disable()}removeLayer(Nt){et(this,At).delete(Nt.pageIndex)}updateMode(Nt){if(_e(this,Rt,Nt),Nt===s.AnnotationEditorType.NONE)this.setEditingState(!1),d(this,Xt,qt).call(this);else{this.setEditingState(!0),d(this,$t,An).call(this);for(const kt of et(this,At).values())kt.updateMode(Nt)}}updateToolbar(Nt){Nt!==et(this,Rt)&&et(this,vt).dispatch("switchannotationeditormode",{source:this,mode:Nt})}updateParams(Nt,kt){for(const Vt of et(this,ht))Vt.updateParams(Nt,kt);for(const Vt of et(this,It))Vt.updateDefaultParams(Nt,kt)}getEditors(Nt){const kt=[];for(const Vt of et(this,wt).values())Vt.pageIndex===Nt&&kt.push(Vt);return kt}getEditor(Nt){return et(this,wt).get(Nt)}addEditor(Nt){et(this,wt).set(Nt.id,Nt)}removeEditor(Nt){et(this,wt).delete(Nt.id),this.unselect(Nt)}setActiveEditor(Nt){et(this,xt)!==Nt&&(_e(this,xt,Nt),Nt&&d(this,Lt,vn).call(this,Nt.propertiesToUpdate))}toggleSelected(Nt){if(et(this,ht).has(Nt)){et(this,ht).delete(Nt),Nt.unselect(),d(this,Dt,yn).call(this,{hasSelectedEditor:this.hasSelection});return}et(this,ht).add(Nt),Nt.select(),d(this,Lt,vn).call(this,Nt.propertiesToUpdate),d(this,Dt,yn).call(this,{hasSelectedEditor:!0})}setSelected(Nt){for(const kt of et(this,ht))kt!==Nt&&kt.unselect();et(this,ht).clear(),et(this,ht).add(Nt),Nt.select(),d(this,Lt,vn).call(this,Nt.propertiesToUpdate),d(this,Dt,yn).call(this,{hasSelectedEditor:!0})}isSelected(Nt){return et(this,ht).has(Nt)}unselect(Nt){Nt.unselect(),et(this,ht).delete(Nt),d(this,Dt,yn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return et(this,ht).size!==0}undo(){et(this,yt).undo(),d(this,Dt,yn).call(this,{hasSomethingToUndo:et(this,yt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:d(this,Jt,Sn).call(this)})}redo(){et(this,yt).redo(),d(this,Dt,yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:et(this,yt).hasSomethingToRedo(),isEmpty:d(this,Jt,Sn).call(this)})}addCommands(Nt){et(this,yt).add(Nt),d(this,Dt,yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:d(this,Jt,Sn).call(this)})}delete(){if(et(this,xt)&&et(this,xt).commitOrRemove(),!this.hasSelection)return;const Nt=[...et(this,ht)],kt=()=>{for(const on of Nt)on.remove()},Vt=()=>{for(const on of Nt)d(this,Zt,dn).call(this,on)};this.addCommands({cmd:kt,undo:Vt,mustExec:!0})}copy(){if(et(this,xt)&&et(this,xt).commitOrRemove(),this.hasSelection){const Nt=[];for(const kt of et(this,ht))kt.isEmpty()||Nt.push(kt);if(Nt.length===0)return;et(this,Et).copy(Nt),d(this,Dt,yn).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(et(this,Et).isEmpty())return;this.unselectAll();const Nt=et(this,At).get(et(this,Pt)),kt=et(this,Et).paste().map(Kt=>Nt.deserialize(Kt)),Vt=()=>{for(const Kt of kt)d(this,Zt,dn).call(this,Kt);d(this,Qt,mn).call(this,kt)},on=()=>{for(const Kt of kt)Kt.remove()};this.addCommands({cmd:Vt,undo:on,mustExec:!0})}selectAll(){for(const Nt of et(this,ht))Nt.commit();d(this,Qt,mn).call(this,et(this,wt).values())}unselectAll(){if(et(this,xt)){et(this,xt).commitOrRemove();return}if(d(this,Qt,mn).size!==0){for(const Nt of et(this,ht))Nt.unselect();et(this,ht).clear(),d(this,Dt,yn).call(this,{hasSelectedEditor:!1})}}isActive(Nt){return et(this,xt)===Nt}getActive(){return et(this,xt)}getMode(){return et(this,Rt)}}i.AnnotationEditorUIManager=en;function un(){et(this,mt).addEventListener("keydown",et(this,gt))}function gn(){et(this,mt).removeEventListener("keydown",et(this,gt))}function yn(hn){Object.entries(hn).some(kt=>{let[Vt,on]=kt;return et(this,lt)[Vt]!==on})&&et(this,vt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(et(this,lt),hn)})}function vn(hn){et(this,vt).dispatch("annotationeditorparamschanged",{source:this,details:hn})}function An(){if(!et(this,jt)){_e(this,jt,!0);for(const hn of et(this,At).values())hn.enable()}}function qt(){if(this.unselectAll(),et(this,jt)){_e(this,jt,!1);for(const hn of et(this,At).values())hn.disable()}}function dn(hn){const Nt=et(this,At).get(hn.pageIndex);Nt?Nt.addOrRebuild(hn):this.addEditor(hn)}function Sn(){if(et(this,wt).size===0)return!0;if(et(this,wt).size===1)for(const hn of et(this,wt).values())return hn.isEmpty();return!1}function mn(hn){et(this,ht).clear();for(const Nt of hn)Nt.isEmpty()||(et(this,ht).add(Nt),Nt.select());d(this,Dt,yn).call(this,{hasSelectedEditor:!0})}c(en,"_keyboardManager",new dt([[["ctrl+a","mac+meta+a"],en.prototype.selectAll],[["ctrl+c","mac+meta+c"],en.prototype.copy],[["ctrl+v","mac+meta+v"],en.prototype.paste],[["ctrl+x","mac+meta+x"],en.prototype.cut],[["ctrl+z","mac+meta+z"],en.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],en.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],en.prototype.delete],[["Escape","mac+Escape"],en.prototype.unselectAll]]))},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=i.AnnotationPrefix=void 0,i.deprecated=ot,i.getColorValues=Mt,i.getCurrentTransform=_t,i.getCurrentTransformInverse=xt,i.getFilenameFromUrl=_,i.getPdfFilenameFromUrl=tt,i.getRGB=bt,i.getXfaPageViewport=ft,i.isDataScheme=rt,i.isPdfFile=ut,i.isValidFetchUrl=g,i.loadScript=k;var s=a(134),o=a(1);function c(wt,At,Et){return At in wt?Object.defineProperty(wt,At,{value:Et,enumerable:!0,configurable:!0,writable:!0}):wt[At]=Et,wt}const f="http://www.w3.org/2000/svg",d="pdfjs_internal_id_";i.AnnotationPrefix=d;class j{}i.PixelsPerInch=j,c(j,"CSS",96),c(j,"PDF",72),c(j,"PDF_TO_CSS_UNITS",j.CSS/j.PDF);class b extends s.BaseCanvasFactory{constructor(){let{ownerDocument:At=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super();this._document=At}_createCanvas(At,Et){const yt=this._document.createElement("canvas");return yt.width=At,yt.height=Et,yt}}i.DOMCanvasFactory=b;async function _e(wt){let At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(g(wt,document.baseURI)){const Et=await fetch(wt);if(!Et.ok)throw new Error(Et.statusText);return At?new Uint8Array(await Et.arrayBuffer()):(0,o.stringToBytes)(await Et.text())}return new Promise((Et,yt)=>{const Pt=new XMLHttpRequest;Pt.open("GET",wt,!0),At&&(Pt.responseType="arraybuffer"),Pt.onreadystatechange=()=>{if(Pt.readyState===XMLHttpRequest.DONE){if(Pt.status===200||Pt.status===0){let It;if(At&&Pt.response?It=new Uint8Array(Pt.response):!At&&Pt.responseText&&(It=(0,o.stringToBytes)(Pt.responseText)),It){Et(It);return}}yt(new Error(Pt.statusText))}},Pt.send(null)})}class pt extends s.BaseCMapReaderFactory{_fetchData(At,Et){return _e(At,this.isCompressed).then(yt=>({cMapData:yt,compressionType:Et}))}}i.DOMCMapReaderFactory=pt;class et extends s.BaseStandardFontDataFactory{_fetchData(At){return _e(At,!0)}}i.DOMStandardFontDataFactory=et;class nt extends s.BaseSVGFactory{_createSVG(At){return document.createElementNS(f,At)}}i.DOMSVGFactory=nt;class at{constructor(At){let{viewBox:Et,scale:yt,rotation:Pt,offsetX:It=0,offsetY:vt=0,dontFlip:Wt=!1}=At;this.viewBox=Et,this.scale=yt,this.rotation=Pt,this.offsetX=It,this.offsetY=vt;const jt=(Et[2]+Et[0])/2,Rt=(Et[3]+Et[1])/2;let ht,gt,Ot,Ft;switch(Pt%=360,Pt<0&&(Pt+=360),Pt){case 180:ht=-1,gt=0,Ot=0,Ft=1;break;case 90:ht=0,gt=1,Ot=1,Ft=0;break;case 270:ht=0,gt=-1,Ot=-1,Ft=0;break;case 0:ht=1,gt=0,Ot=0,Ft=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Wt&&(Ot=-Ot,Ft=-Ft);let lt,mt,St,Ct;ht===0?(lt=Math.abs(Rt-Et[1])*yt+It,mt=Math.abs(jt-Et[0])*yt+vt,St=Math.abs(Et[3]-Et[1])*yt,Ct=Math.abs(Et[2]-Et[0])*yt):(lt=Math.abs(jt-Et[0])*yt+It,mt=Math.abs(Rt-Et[1])*yt+vt,St=Math.abs(Et[2]-Et[0])*yt,Ct=Math.abs(Et[3]-Et[1])*yt),this.transform=[ht*yt,gt*yt,Ot*yt,Ft*yt,lt-ht*yt*jt-Ot*yt*Rt,mt-gt*yt*jt-Ft*yt*Rt],this.width=St,this.height=Ct}clone(){let{scale:At=this.scale,rotation:Et=this.rotation,offsetX:yt=this.offsetX,offsetY:Pt=this.offsetY,dontFlip:It=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new at({viewBox:this.viewBox.slice(),scale:At,rotation:Et,offsetX:yt,offsetY:Pt,dontFlip:It})}convertToViewportPoint(At,Et){return o.Util.applyTransform([At,Et],this.transform)}convertToViewportRectangle(At){const Et=o.Util.applyTransform([At[0],At[1]],this.transform),yt=o.Util.applyTransform([At[2],At[3]],this.transform);return[Et[0],Et[1],yt[0],yt[1]]}convertToPdfPoint(At,Et){return o.Util.applyInverseTransform([At,Et],this.transform)}}i.PageViewport=at;class it extends o.BaseException{constructor(At,Et){super(At,"RenderingCancelledException");this.type=Et}}i.RenderingCancelledException=it;function rt(wt){const At=wt.length;let Et=0;for(;Et<At&&wt[Et].trim()==="";)Et++;return wt.substring(Et,Et+5).toLowerCase()==="data:"}function ut(wt){return typeof wt=="string"&&/\.pdf$/i.test(wt)}function _(wt){const At=wt.indexOf("#"),Et=wt.indexOf("?"),yt=Math.min(At>0?At:wt.length,Et>0?Et:wt.length);return wt.substring(wt.lastIndexOf("/",yt)+1,yt)}function tt(wt){let At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof wt!="string")return At;if(rt(wt))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),At;const Et=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,yt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Pt=Et.exec(wt);let It=yt.exec(Pt[1])||yt.exec(Pt[2])||yt.exec(Pt[3]);if(It&&(It=It[0],It.includes("%")))try{It=yt.exec(decodeURIComponent(It))[0]}catch{}return It||At}class ${constructor(){this.started=Object.create(null),this.times=[]}time(At){At in this.started&&(0,o.warn)(`Timer is already running for ${At}`),this.started[At]=Date.now()}timeEnd(At){At in this.started||(0,o.warn)(`Timer has not been started for ${At}`),this.times.push({name:At,start:this.started[At],end:Date.now()}),delete this.started[At]}toString(){const At=[];let Et=0;for(const yt of this.times){const Pt=yt.name;Pt.length>Et&&(Et=Pt.length)}for(const yt of this.times){const Pt=yt.end-yt.start;At.push(`${yt.name.padEnd(Et)} ${Pt}ms
`)}return At.join("")}}i.StatTimer=$;function g(wt,At){try{const{protocol:Et}=At?new URL(wt,At):new URL(wt);return Et==="http:"||Et==="https:"}catch{return!1}}function k(wt){let At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((Et,yt)=>{const Pt=document.createElement("script");Pt.src=wt,Pt.onload=function(It){At&&Pt.remove(),Et(It)},Pt.onerror=function(){yt(new Error(`Cannot load script at: ${Pt.src}`))},(document.head||document.documentElement).append(Pt)})}function ot(wt){console.log("Deprecated API usage: "+wt)}let ct;class dt{static toDateObject(At){if(!At||typeof At!="string")return null;ct||(ct=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Et=ct.exec(At);if(!Et)return null;const yt=parseInt(Et[1],10);let Pt=parseInt(Et[2],10);Pt=Pt>=1&&Pt<=12?Pt-1:0;let It=parseInt(Et[3],10);It=It>=1&&It<=31?It:1;let vt=parseInt(Et[4],10);vt=vt>=0&&vt<=23?vt:0;let Wt=parseInt(Et[5],10);Wt=Wt>=0&&Wt<=59?Wt:0;let jt=parseInt(Et[6],10);jt=jt>=0&&jt<=59?jt:0;const Rt=Et[7]||"Z";let ht=parseInt(Et[8],10);ht=ht>=0&&ht<=23?ht:0;let gt=parseInt(Et[9],10)||0;return gt=gt>=0&&gt<=59?gt:0,Rt==="-"?(vt+=ht,Wt+=gt):Rt==="+"&&(vt-=ht,Wt-=gt),new Date(Date.UTC(yt,Pt,It,vt,Wt,jt))}}i.PDFDateString=dt;function ft(wt,At){let{scale:Et=1,rotation:yt=0}=At;const{width:Pt,height:It}=wt.attributes.style,vt=[0,0,parseInt(Pt),parseInt(It)];return new at({viewBox:vt,scale:Et,rotation:yt})}function bt(wt){if(wt.startsWith("#")){const At=parseInt(wt.slice(1),16);return[(At&16711680)>>16,(At&65280)>>8,At&255]}return wt.startsWith("rgb(")?wt.slice(4,-1).split(",").map(At=>parseInt(At)):wt.startsWith("rgba(")?wt.slice(5,-1).split(",").map(At=>parseInt(At)).slice(0,3):((0,o.warn)(`Not a valid color format: "${wt}"`),[0,0,0])}function Mt(wt){const At=document.createElement("span");At.style.visibility="hidden",document.body.append(At);for(const Et of wt.keys()){At.style.color=Et;const yt=window.getComputedStyle(At).color;wt.set(Et,bt(yt))}At.remove()}function _t(wt){const{a:At,b:Et,c:yt,d:Pt,e:It,f:vt}=wt.getTransform();return[At,Et,yt,Pt,It,vt]}function xt(wt){const{a:At,b:Et,c:yt,d:Pt,e:It,f:vt}=wt.getTransform().invertSelf();return[At,Et,yt,Pt,It,vt]}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var s=a(1);class o{constructor(){this.constructor===o&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,_e){if(b<=0||_e<=0)throw new Error("Invalid canvas size");const pt=this._createCanvas(b,_e);return{canvas:pt,context:pt.getContext("2d")}}reset(b,_e,pt){if(!b.canvas)throw new Error("Canvas is not specified");if(_e<=0||pt<=0)throw new Error("Invalid canvas size");b.canvas.width=_e,b.canvas.height=pt}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,_e){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=o;class c{constructor(b){let{baseUrl:_e=null,isCompressed:pt=!1}=b;this.constructor===c&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_e,this.isCompressed=pt}async fetch(b){let{name:_e}=b;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_e)throw new Error("CMap name must be specified.");const pt=this.baseUrl+_e+(this.isCompressed?".bcmap":""),et=this.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE;return this._fetchData(pt,et).catch(nt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${pt}`)})}_fetchData(b,_e){(0,s.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=c;class f{constructor(b){let{baseUrl:_e=null}=b;this.constructor===f&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_e}async fetch(b){let{filename:_e}=b;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_e)throw new Error("Font filename must be specified.");const pt=`${this.baseUrl}${_e}`;return this._fetchData(pt).catch(et=>{throw new Error(`Unable to load font data at: ${pt}`)})}_fetchData(b){(0,s.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=f;class d{constructor(){this.constructor===d&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,_e){let pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(b<=0||_e<=0)throw new Error("Invalid SVG dimensions");const et=this._createSVG("svg:svg");return et.setAttribute("version","1.1"),pt||(et.setAttribute("width",`${b}px`),et.setAttribute("height",`${_e}px`)),et.setAttribute("preserveAspectRatio","none"),et.setAttribute("viewBox",`0 0 ${b} ${_e}`),et}createElement(b){if(typeof b!="string")throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,s.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=d},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var s=a(1);const o=3285377520,c=4294901760,f=65535;class d{constructor(b){this.h1=b?b&4294967295:o,this.h2=b?b&4294967295:o}update(b){let _e,pt;if(typeof b=="string"){_e=new Uint8Array(b.length*2),pt=0;for(let ot=0,ct=b.length;ot<ct;ot++){const dt=b.charCodeAt(ot);dt<=255?_e[pt++]=dt:(_e[pt++]=dt>>>8,_e[pt++]=dt&255)}}else if((0,s.isArrayBuffer)(b))_e=b.slice(),pt=_e.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const et=pt>>2,nt=pt-et*4,at=new Uint32Array(_e.buffer,0,et);let it=0,rt=0,ut=this.h1,_=this.h2;const tt=3432918353,$=461845907,g=tt&f,k=$&f;for(let ot=0;ot<et;ot++)ot&1?(it=at[ot],it=it*tt&c|it*g&f,it=it<<15|it>>>17,it=it*$&c|it*k&f,ut^=it,ut=ut<<13|ut>>>19,ut=ut*5+3864292196):(rt=at[ot],rt=rt*tt&c|rt*g&f,rt=rt<<15|rt>>>17,rt=rt*$&c|rt*k&f,_^=rt,_=_<<13|_>>>19,_=_*5+3864292196);switch(it=0,nt){case 3:it^=_e[et*4+2]<<16;case 2:it^=_e[et*4+1]<<8;case 1:it^=_e[et*4],it=it*tt&c|it*g&f,it=it<<15|it>>>17,it=it*$&c|it*k&f,et&1?ut^=it:_^=it}this.h1=ut,this.h2=_}hexdigest(){let b=this.h1,_e=this.h2;b^=_e>>>1,b=b*3981806797&c|b*36045&f,_e=_e*4283543511&c|((_e<<16|b>>>16)*2950163797&c)>>>16,b^=_e>>>1,b=b*444984403&c|b*60499&f,_e=_e*3301882366&c|((_e<<16|b>>>16)*3120437893&c)>>>16,b^=_e>>>1;const pt=(b>>>0).toString(16),et=(_e>>>0).toString(16);return pt.padStart(8,"0")+et.padStart(8,"0")}}i.MurmurHash3_64=d},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var s=a(1);class o{constructor(j){let{docId:b,onUnsupportedFeature:_e,ownerDocument:pt=globalThis.document,styleElement:et=null}=j;this.constructor===o&&(0,s.unreachable)("Cannot initialize BaseFontLoader."),this.docId=b,this._onUnsupportedFeature=_e,this._document=pt,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(j){this.nativeFontFaces.push(j),this._document.fonts.add(j)}insertRule(j){let b=this.styleElement;b||(b=this.styleElement=this._document.createElement("style"),b.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(b));const _e=b.sheet;_e.insertRule(j,_e.cssRules.length)}clear(){for(const j of this.nativeFontFaces)this._document.fonts.delete(j);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(j){if(j.attached||j.missingFile)return;if(j.attached=!0,this.isFontLoadingAPISupported){const _e=j.createNativeFontFace();if(_e){this.addNativeFontFace(_e);try{await _e.loaded}catch(pt){throw this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,s.warn)(`Failed to load font '${_e.family}': '${pt}'.`),j.disableFontFace=!0,pt}}return}const b=j.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(_e=>{const pt=this._queueLoadingCallback(_e);this._prepareFontLoadEvent([b],[j],pt)})}}_queueLoadingCallback(j){(0,s.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var j;const b=!!((j=this._document)!==null&&j!==void 0&&j.fonts);return(0,s.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){(0,s.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,s.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(j,b,_e){(0,s.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let c;i.FontLoader=c,i.FontLoader=c=class extends o{constructor(j){super(j);this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let j=!1;if(typeof navigator=="undefined")j=!0;else{const b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(b==null?void 0:b[1])>=14&&(j=!0)}return(0,s.shadow)(this,"isSyncFontLoadingSupported",j)}_queueLoadingCallback(j){function b(){for((0,s.assert)(!pt.done,"completeRequest() cannot be called twice."),pt.done=!0;_e.requests.length>0&&_e.requests[0].done;){const et=_e.requests.shift();setTimeout(et.callback,0)}}const _e=this.loadingContext,pt={id:`pdfjs-font-loading-${_e.nextRequestId++}`,done:!1,complete:b,callback:j};return _e.requests.push(pt),pt}get _loadTestFont(){const j=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,s.shadow)(this,"_loadTestFont",j())}_prepareFontLoadEvent(j,b,_e){function pt(_t,xt){return _t.charCodeAt(xt)<<24|_t.charCodeAt(xt+1)<<16|_t.charCodeAt(xt+2)<<8|_t.charCodeAt(xt+3)&255}function et(_t,xt,wt,At){const Et=_t.substring(0,xt),yt=_t.substring(xt+wt);return Et+At+yt}let nt,at;const it=this._document.createElement("canvas");it.width=1,it.height=1;const rt=it.getContext("2d");let ut=0;function _(_t,xt){if(ut++,ut>30){(0,s.warn)("Load test font never loaded."),xt();return}if(rt.font="30px "+_t,rt.fillText(".",0,20),rt.getImageData(0,0,1,1).data[3]>0){xt();return}setTimeout(_.bind(null,_t,xt))}const tt=`lt${Date.now()}${this.loadTestFontId++}`;let $=this._loadTestFont;$=et($,976,tt.length,tt);const k=16,ot=1482184792;let ct=pt($,k);for(nt=0,at=tt.length-3;nt<at;nt+=4)ct=ct-ot+pt(tt,nt)|0;nt<tt.length&&(ct=ct-ot+pt(tt+"XXX",nt)|0),$=et($,k,4,(0,s.string32)(ct));const dt=`url(data:font/opentype;base64,${btoa($)});`,ft=`@font-face {font-family:"${tt}";src:${dt}}`;this.insertRule(ft);const bt=[];for(const _t of b)bt.push(_t.loadedName);bt.push(tt);const Mt=this._document.createElement("div");Mt.style.visibility="hidden",Mt.style.width=Mt.style.height="10px",Mt.style.position="absolute",Mt.style.top=Mt.style.left="0px";for(const _t of bt){const xt=this._document.createElement("span");xt.textContent="Hi",xt.style.fontFamily=_t,Mt.append(xt)}this._document.body.append(Mt),_(tt,()=>{Mt.remove(),_e.complete()})}};class f{constructor(j,b){let{isEvalSupported:_e=!0,disableFontFace:pt=!1,ignoreErrors:et=!1,onUnsupportedFeature:nt,fontRegistry:at=null}=b;this.compiledGlyphs=Object.create(null);for(const it in j)this[it]=j[it];this.isEvalSupported=_e!==!1,this.disableFontFace=pt===!0,this.ignoreErrors=et===!0,this._onUnsupportedFeature=nt,this.fontRegistry=at}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let j;if(!this.cssFontInfo)j=new FontFace(this.loadedName,this.data,{});else{const b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style=`oblique ${this.cssFontInfo.italicAngle}deg`),j=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}return this.fontRegistry&&this.fontRegistry.registerFont(this),j}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const j=(0,s.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(j)});`;let _e;if(!this.cssFontInfo)_e=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let pt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(pt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${pt}src:${b}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,b),_e}getPathGenerator(j,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let _e;try{_e=j.get(this.loadedName+"_path_"+b)}catch(pt){if(!this.ignoreErrors)throw pt;return this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)(`getPathGenerator - ignoring character: "${pt}".`),this.compiledGlyphs[b]=function(et,nt){}}if(this.isEvalSupported&&s.FeatureTest.isEvalSupported){const pt=[];for(const et of _e){const nt=et.args!==void 0?et.args.join(","):"";pt.push("c.",et.cmd,"(",nt,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",pt.join(""))}return this.compiledGlyphs[b]=function(pt,et){for(const nt of _e)nt.cmd==="scale"&&(nt.args=[et,-et]),pt[nt.cmd].apply(pt,nt.args)}}}i.FontFaceObject=f},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var s=a(133),o=a(1),c=a(138),f=a(139),d=a(3);function j(Rt,ht){b(Rt,ht),ht.add(Rt)}function b(Rt,ht){if(ht.has(Rt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _e(Rt,ht,gt){if(!ht.has(Rt))throw new TypeError("attempted to get private field on non-instance");return gt}const pt=16,et=100,nt=4096,at=15,it=10,rt=d.isNodeJS&&typeof Path2D=="undefined"?-1:1e3,ut=16;function _(Rt,ht){if(Rt._removeMirroring)throw new Error("Context is already forwarding operations.");Rt.__originalSave=Rt.save,Rt.__originalRestore=Rt.restore,Rt.__originalRotate=Rt.rotate,Rt.__originalScale=Rt.scale,Rt.__originalTranslate=Rt.translate,Rt.__originalTransform=Rt.transform,Rt.__originalSetTransform=Rt.setTransform,Rt.__originalResetTransform=Rt.resetTransform,Rt.__originalClip=Rt.clip,Rt.__originalMoveTo=Rt.moveTo,Rt.__originalLineTo=Rt.lineTo,Rt.__originalBezierCurveTo=Rt.bezierCurveTo,Rt.__originalRect=Rt.rect,Rt.__originalClosePath=Rt.closePath,Rt.__originalBeginPath=Rt.beginPath,Rt._removeMirroring=()=>{Rt.save=Rt.__originalSave,Rt.restore=Rt.__originalRestore,Rt.rotate=Rt.__originalRotate,Rt.scale=Rt.__originalScale,Rt.translate=Rt.__originalTranslate,Rt.transform=Rt.__originalTransform,Rt.setTransform=Rt.__originalSetTransform,Rt.resetTransform=Rt.__originalResetTransform,Rt.clip=Rt.__originalClip,Rt.moveTo=Rt.__originalMoveTo,Rt.lineTo=Rt.__originalLineTo,Rt.bezierCurveTo=Rt.__originalBezierCurveTo,Rt.rect=Rt.__originalRect,Rt.closePath=Rt.__originalClosePath,Rt.beginPath=Rt.__originalBeginPath,delete Rt._removeMirroring},Rt.save=function(){ht.save(),this.__originalSave()},Rt.restore=function(){ht.restore(),this.__originalRestore()},Rt.translate=function(Ot,Ft){ht.translate(Ot,Ft),this.__originalTranslate(Ot,Ft)},Rt.scale=function(Ot,Ft){ht.scale(Ot,Ft),this.__originalScale(Ot,Ft)},Rt.transform=function(Ot,Ft,lt,mt,St,Ct){ht.transform(Ot,Ft,lt,mt,St,Ct),this.__originalTransform(Ot,Ft,lt,mt,St,Ct)},Rt.setTransform=function(Ot,Ft,lt,mt,St,Ct){ht.setTransform(Ot,Ft,lt,mt,St,Ct),this.__originalSetTransform(Ot,Ft,lt,mt,St,Ct)},Rt.resetTransform=function(){ht.resetTransform(),this.__originalResetTransform()},Rt.rotate=function(Ot){ht.rotate(Ot),this.__originalRotate(Ot)},Rt.clip=function(Ot){ht.clip(Ot),this.__originalClip(Ot)},Rt.moveTo=function(gt,Ot){ht.moveTo(gt,Ot),this.__originalMoveTo(gt,Ot)},Rt.lineTo=function(gt,Ot){ht.lineTo(gt,Ot),this.__originalLineTo(gt,Ot)},Rt.bezierCurveTo=function(gt,Ot,Ft,lt,mt,St){ht.bezierCurveTo(gt,Ot,Ft,lt,mt,St),this.__originalBezierCurveTo(gt,Ot,Ft,lt,mt,St)},Rt.rect=function(gt,Ot,Ft,lt){ht.rect(gt,Ot,Ft,lt),this.__originalRect(gt,Ot,Ft,lt)},Rt.closePath=function(){ht.closePath(),this.__originalClosePath()},Rt.beginPath=function(){ht.beginPath(),this.__originalBeginPath()}}class tt{constructor(ht){this.canvasFactory=ht,this.cache=Object.create(null)}getCanvas(ht,gt,Ot){let Ft;return this.cache[ht]!==void 0?(Ft=this.cache[ht],this.canvasFactory.reset(Ft,gt,Ot)):(Ft=this.canvasFactory.create(gt,Ot),this.cache[ht]=Ft),Ft}delete(ht){delete this.cache[ht]}clear(){for(const ht in this.cache){const gt=this.cache[ht];this.canvasFactory.destroy(gt),delete this.cache[ht]}}}function $(Rt,ht,gt,Ot,Ft,lt,mt,St,Ct,Dt){const[Lt,$t,Xt,Zt,Jt,Qt]=(0,s.getCurrentTransform)(Rt);if($t===0&&Xt===0){const gn=mt*Lt+Jt,yn=Math.round(gn),vn=St*Zt+Qt,An=Math.round(vn),qt=(mt+Ct)*Lt+Jt,dn=Math.abs(Math.round(qt)-yn)||1,Sn=(St+Dt)*Zt+Qt,mn=Math.abs(Math.round(Sn)-An)||1;return Rt.setTransform(Math.sign(Lt),0,0,Math.sign(Zt),yn,An),Rt.drawImage(ht,gt,Ot,Ft,lt,0,0,dn,mn),Rt.setTransform(Lt,$t,Xt,Zt,Jt,Qt),[dn,mn]}if(Lt===0&&Zt===0){const gn=St*Xt+Jt,yn=Math.round(gn),vn=mt*$t+Qt,An=Math.round(vn),qt=(St+Dt)*Xt+Jt,dn=Math.abs(Math.round(qt)-yn)||1,Sn=(mt+Ct)*$t+Qt,mn=Math.abs(Math.round(Sn)-An)||1;return Rt.setTransform(0,Math.sign($t),Math.sign(Xt),0,yn,An),Rt.drawImage(ht,gt,Ot,Ft,lt,0,0,mn,dn),Rt.setTransform(Lt,$t,Xt,Zt,Jt,Qt),[mn,dn]}Rt.drawImage(ht,gt,Ot,Ft,lt,mt,St,Ct,Dt);const en=Math.hypot(Lt,$t),un=Math.hypot(Xt,Zt);return[en*Ct,un*Dt]}function g(Rt){const{width:ht,height:gt}=Rt;if(ht>rt||gt>rt)return null;const Ot=1e3,Ft=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),lt=ht+1;let mt=new Uint8Array(lt*(gt+1)),St,Ct,Dt;const Lt=ht+7&-8;let $t=new Uint8Array(Lt*gt),Xt=0;for(const un of Rt.data){let gn=128;for(;gn>0;)$t[Xt++]=un&gn?0:255,gn>>=1}let Zt=0;for(Xt=0,$t[Xt]!==0&&(mt[0]=1,++Zt),Ct=1;Ct<ht;Ct++)$t[Xt]!==$t[Xt+1]&&(mt[Ct]=$t[Xt]?2:1,++Zt),Xt++;for($t[Xt]!==0&&(mt[Ct]=2,++Zt),St=1;St<gt;St++){Xt=St*Lt,Dt=St*lt,$t[Xt-Lt]!==$t[Xt]&&(mt[Dt]=$t[Xt]?1:8,++Zt);let un=($t[Xt]?4:0)+($t[Xt-Lt]?8:0);for(Ct=1;Ct<ht;Ct++)un=(un>>2)+($t[Xt+1]?4:0)+($t[Xt-Lt+1]?8:0),Ft[un]&&(mt[Dt+Ct]=Ft[un],++Zt),Xt++;if($t[Xt-Lt]!==$t[Xt]&&(mt[Dt+Ct]=$t[Xt]?2:4,++Zt),Zt>Ot)return null}for(Xt=Lt*(gt-1),Dt=St*lt,$t[Xt]!==0&&(mt[Dt]=8,++Zt),Ct=1;Ct<ht;Ct++)$t[Xt]!==$t[Xt+1]&&(mt[Dt+Ct]=$t[Xt]?4:8,++Zt),Xt++;if($t[Xt]!==0&&(mt[Dt+Ct]=4,++Zt),Zt>Ot)return null;const Jt=new Int32Array([0,lt,-1,0,-lt,0,0,0,1]),Qt=new Path2D;for(St=0;Zt&&St<=gt;St++){let un=St*lt;const gn=un+ht;for(;un<gn&&!mt[un];)un++;if(un===gn)continue;Qt.moveTo(un%lt,St);const yn=un;let vn=mt[un];do{const An=Jt[vn];do un+=An;while(!mt[un]);const qt=mt[un];qt!==5&&qt!==10?(vn=qt,mt[un]=0):(vn=qt&51*vn>>4,mt[un]&=vn>>2|vn<<2),Qt.lineTo(un%lt,un/lt|0),mt[un]||--Zt}while(yn!==un);--St}return $t=null,mt=null,function(un){un.save(),un.scale(1/ht,-1/gt),un.translate(0,-gt),un.fill(Qt),un.beginPath(),un.restore()}}class k{constructor(ht,gt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,ht,gt])}clone(){const ht=Object.create(this);return ht.clipBox=this.clipBox.slice(),ht}setCurrentPoint(ht,gt){this.x=ht,this.y=gt}updatePathMinMax(ht,gt,Ot){[gt,Ot]=o.Util.applyTransform([gt,Ot],ht),this.minX=Math.min(this.minX,gt),this.minY=Math.min(this.minY,Ot),this.maxX=Math.max(this.maxX,gt),this.maxY=Math.max(this.maxY,Ot)}updateRectMinMax(ht,gt){const Ot=o.Util.applyTransform(gt,ht),Ft=o.Util.applyTransform(gt.slice(2),ht);this.minX=Math.min(this.minX,Ot[0],Ft[0]),this.minY=Math.min(this.minY,Ot[1],Ft[1]),this.maxX=Math.max(this.maxX,Ot[0],Ft[0]),this.maxY=Math.max(this.maxY,Ot[1],Ft[1])}updateScalingPathMinMax(ht,gt){o.Util.scaleMinMax(ht,gt),this.minX=Math.min(this.minX,gt[0]),this.maxX=Math.max(this.maxX,gt[1]),this.minY=Math.min(this.minY,gt[2]),this.maxY=Math.max(this.maxY,gt[3])}updateCurvePathMinMax(ht,gt,Ot,Ft,lt,mt,St,Ct,Dt,Lt){const $t=o.Util.bezierBoundingBox(gt,Ot,Ft,lt,mt,St,Ct,Dt);if(Lt){Lt[0]=Math.min(Lt[0],$t[0],$t[2]),Lt[1]=Math.max(Lt[1],$t[0],$t[2]),Lt[2]=Math.min(Lt[2],$t[1],$t[3]),Lt[3]=Math.max(Lt[3],$t[1],$t[3]);return}this.updateRectMinMax(ht,$t)}getPathBoundingBox(){let ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c.PathType.FILL,gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Ot=[this.minX,this.minY,this.maxX,this.maxY];if(ht===c.PathType.STROKE){gt||(0,o.unreachable)("Stroke bounding box must include transform.");const Ft=o.Util.singularValueDecompose2dScale(gt),lt=Ft[0]*this.lineWidth/2,mt=Ft[1]*this.lineWidth/2;Ot[0]-=lt,Ot[1]-=mt,Ot[2]+=lt,Ot[3]+=mt}return Ot}updateClipFromPath(){const ht=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ht||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ht){this.clipBox=ht,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c.PathType.FILL,gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return o.Util.intersect(this.clipBox,this.getPathBoundingBox(ht,gt))}}function ot(Rt,ht){let gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData!="undefined"&&ht instanceof ImageData){Rt.putImageData(ht,0,0);return}const Ot=ht.height,Ft=ht.width,lt=Ot%ut,mt=(Ot-lt)/ut,St=lt===0?mt:mt+1,Ct=Rt.createImageData(Ft,ut);let Dt=0,Lt;const $t=ht.data,Xt=Ct.data;let Zt,Jt,Qt,en,un,gn,yn,vn;if(gt)switch(gt.length){case 1:un=gt[0],gn=gt[0],yn=gt[0],vn=gt[0];break;case 4:un=gt[0],gn=gt[1],yn=gt[2],vn=gt[3];break}if(ht.kind===o.ImageKind.GRAYSCALE_1BPP){const An=$t.byteLength,qt=new Uint32Array(Xt.buffer,0,Xt.byteLength>>2),dn=qt.length,Sn=Ft+7>>3;let mn=4294967295,hn=o.FeatureTest.isLittleEndian?4278190080:255;for(vn&&vn[0]===255&&vn[255]===0&&([mn,hn]=[hn,mn]),Zt=0;Zt<St;Zt++){for(Qt=Zt<mt?ut:lt,Lt=0,Jt=0;Jt<Qt;Jt++){const Nt=An-Dt;let kt=0;const Vt=Nt>Sn?Ft:Nt*8-7,on=Vt&-8;let Kt=0,an=0;for(;kt<on;kt+=8)an=$t[Dt++],qt[Lt++]=an&128?mn:hn,qt[Lt++]=an&64?mn:hn,qt[Lt++]=an&32?mn:hn,qt[Lt++]=an&16?mn:hn,qt[Lt++]=an&8?mn:hn,qt[Lt++]=an&4?mn:hn,qt[Lt++]=an&2?mn:hn,qt[Lt++]=an&1?mn:hn;for(;kt<Vt;kt++)Kt===0&&(an=$t[Dt++],Kt=128),qt[Lt++]=an&Kt?mn:hn,Kt>>=1}for(;Lt<dn;)qt[Lt++]=0;Rt.putImageData(Ct,0,Zt*ut)}}else if(ht.kind===o.ImageKind.RGBA_32BPP){const An=!!(un||gn||yn);for(Jt=0,en=Ft*ut*4,Zt=0;Zt<mt;Zt++){if(Xt.set($t.subarray(Dt,Dt+en)),Dt+=en,An)for(let qt=0;qt<en;qt+=4)un&&(Xt[qt+0]=un[Xt[qt+0]]),gn&&(Xt[qt+1]=gn[Xt[qt+1]]),yn&&(Xt[qt+2]=yn[Xt[qt+2]]);Rt.putImageData(Ct,0,Jt),Jt+=ut}if(Zt<St){if(en=Ft*lt*4,Xt.set($t.subarray(Dt,Dt+en)),An)for(let qt=0;qt<en;qt+=4)un&&(Xt[qt+0]=un[Xt[qt+0]]),gn&&(Xt[qt+1]=gn[Xt[qt+1]]),yn&&(Xt[qt+2]=yn[Xt[qt+2]]);Rt.putImageData(Ct,0,Jt)}}else if(ht.kind===o.ImageKind.RGB_24BPP){const An=!!(un||gn||yn);for(Qt=ut,en=Ft*Qt,Zt=0;Zt<St;Zt++){for(Zt>=mt&&(Qt=lt,en=Ft*Qt),Lt=0,Jt=en;Jt--;)Xt[Lt++]=$t[Dt++],Xt[Lt++]=$t[Dt++],Xt[Lt++]=$t[Dt++],Xt[Lt++]=255;if(An)for(let qt=0;qt<Lt;qt+=4)un&&(Xt[qt+0]=un[Xt[qt+0]]),gn&&(Xt[qt+1]=gn[Xt[qt+1]]),yn&&(Xt[qt+2]=yn[Xt[qt+2]]);Rt.putImageData(Ct,0,Zt*ut)}}else throw new Error(`bad image kind: ${ht.kind}`)}function ct(Rt,ht){if(ht.bitmap){Rt.drawImage(ht.bitmap,0,0);return}const gt=ht.height,Ot=ht.width,Ft=gt%ut,lt=(gt-Ft)/ut,mt=Ft===0?lt:lt+1,St=Rt.createImageData(Ot,ut);let Ct=0;const Dt=ht.data,Lt=St.data;for(let $t=0;$t<mt;$t++){const Xt=$t<lt?ut:Ft;({srcPos:Ct}=(0,f.applyMaskImageData)({src:Dt,srcPos:Ct,dest:Lt,width:Ot,height:Xt})),Rt.putImageData(St,0,$t*ut)}}function dt(Rt,ht){const gt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let Ot=0,Ft=gt.length;Ot<Ft;Ot++){const lt=gt[Ot];Rt[lt]!==void 0&&(ht[lt]=Rt[lt])}Rt.setLineDash!==void 0&&(ht.setLineDash(Rt.getLineDash()),ht.lineDashOffset=Rt.lineDashOffset)}function ft(Rt,ht){Rt.strokeStyle=Rt.fillStyle=ht||"#000000",Rt.fillRule="nonzero",Rt.globalAlpha=1,Rt.lineWidth=1,Rt.lineCap="butt",Rt.lineJoin="miter",Rt.miterLimit=10,Rt.globalCompositeOperation="source-over",Rt.font="10px sans-serif",Rt.setLineDash!==void 0&&(Rt.setLineDash([]),Rt.lineDashOffset=0)}function bt(Rt,ht,gt,Ot){const Ft=Rt.length;for(let lt=3;lt<Ft;lt+=4){const mt=Rt[lt];if(mt===0)Rt[lt-3]=ht,Rt[lt-2]=gt,Rt[lt-1]=Ot;else if(mt<255){const St=255-mt;Rt[lt-3]=Rt[lt-3]*mt+ht*St>>8,Rt[lt-2]=Rt[lt-2]*mt+gt*St>>8,Rt[lt-1]=Rt[lt-1]*mt+Ot*St>>8}}}function Mt(Rt,ht,gt){const Ot=Rt.length,Ft=1/255;for(let lt=3;lt<Ot;lt+=4){const mt=gt?gt[Rt[lt]]:Rt[lt];ht[lt]=ht[lt]*mt*Ft|0}}function _t(Rt,ht,gt){const Ot=Rt.length;for(let Ft=3;Ft<Ot;Ft+=4){const lt=Rt[Ft-3]*77+Rt[Ft-2]*152+Rt[Ft-1]*28;ht[Ft]=gt?ht[Ft]*gt[lt>>8]>>8:ht[Ft]*lt>>16}}function xt(Rt,ht,gt,Ot,Ft,lt,mt,St,Ct,Dt,Lt){const $t=!!lt,Xt=$t?lt[0]:0,Zt=$t?lt[1]:0,Jt=$t?lt[2]:0;let Qt;Ft==="Luminosity"?Qt=_t:Qt=Mt;const un=Math.min(Ot,Math.ceil(1048576/gt));for(let gn=0;gn<Ot;gn+=un){const yn=Math.min(un,Ot-gn),vn=Rt.getImageData(St-Dt,gn+(Ct-Lt),gt,yn),An=ht.getImageData(St,gn+Ct,gt,yn);$t&&bt(vn.data,Xt,Zt,Jt),Qt(vn.data,An.data,mt),ht.putImageData(An,St,gn+Ct)}}function wt(Rt,ht,gt,Ot){const Ft=Ot[0],lt=Ot[1],mt=Ot[2]-Ft,St=Ot[3]-lt;mt===0||St===0||(xt(ht.context,gt,mt,St,ht.subtype,ht.backdrop,ht.transferMap,Ft,lt,ht.offsetX,ht.offsetY),Rt.save(),Rt.globalAlpha=1,Rt.globalCompositeOperation="source-over",Rt.setTransform(1,0,0,1,0,0),Rt.drawImage(gt.canvas,0,0),Rt.restore())}function At(Rt,ht){const gt=o.Util.singularValueDecompose2dScale(Rt);gt[0]=Math.fround(gt[0]),gt[1]=Math.fround(gt[1]);const Ot=Math.fround((globalThis.devicePixelRatio||1)*s.PixelsPerInch.PDF_TO_CSS_UNITS);return ht!==void 0?ht:gt[0]<=Ot||gt[1]<=Ot}const Et=["butt","round","square"],yt=["miter","round","bevel"],Pt={},It={};var vt=new WeakSet;class Wt{constructor(ht,gt,Ot,Ft,lt,mt,St,Ct){j(this,vt),this.ctx=ht,this.current=new k(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=gt,this.objs=Ot,this.canvasFactory=Ft,this.imageLayer=lt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=mt,this.cachedCanvases=new tt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=St,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Ct==null?void 0:Ct.background)||null,this.foregroundColor=(Ct==null?void 0:Ct.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ht){let gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof ht=="string"?ht.startsWith("g_")?this.commonObjs.get(ht):this.objs.get(ht):gt}beginDrawing(ht){let{transform:gt,viewport:Ot,transparency:Ft=!1,background:lt=null}=ht;const mt=this.ctx.canvas.width,St=this.ctx.canvas.height,Ct=lt||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Dt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Lt=this.backgroundColor=this.ctx.fillStyle;let $t=!0,Xt=Ct;if(this.ctx.fillStyle=Ct,Xt=this.ctx.fillStyle,$t=typeof Xt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Xt),Dt==="#000000"&&Lt==="#ffffff"||Dt===Lt||!$t)this.foregroundColor=this.backgroundColor=null;else{const[Zt,Jt,Qt]=(0,s.getRGB)(Xt),en=gn=>(gn/=255,gn<=.03928?gn/12.92:((gn+.055)/1.055)**2.4),un=Math.round(.2126*en(Zt)+.7152*en(Jt)+.0722*en(Qt));this.selectColor=(gn,yn,vn)=>{const An=.2126*en(gn)+.7152*en(yn)+.0722*en(vn);return Math.round(An)===un?Lt:Dt}}}if(this.ctx.fillStyle=this.backgroundColor||Ct,this.ctx.fillRect(0,0,mt,St),this.ctx.restore(),Ft){const Dt=this.cachedCanvases.getCanvas("transparent",mt,St);this.compositeCtx=this.ctx,this.transparentCanvas=Dt.canvas,this.ctx=Dt.context,this.ctx.save(),this.ctx.transform(...(0,s.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ft(this.ctx,this.foregroundColor),gt&&(this.ctx.transform(...gt),this.outputScaleX=gt[0],this.outputScaleY=gt[0]),this.ctx.transform(...Ot.transform),this.viewportScale=Ot.scale,this.baseTransform=(0,s.getCurrentTransform)(this.ctx),this.imageLayer&&((0,s.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(ht,gt,Ot,Ft){const lt=ht.argsArray,mt=ht.fnArray;let St=gt||0;const Ct=lt.length;if(Ct===St)return St;const Dt=Ct-St>it&&typeof Ot=="function",Lt=Dt?Date.now()+at:0;let $t=0;const Xt=this.commonObjs,Zt=this.objs;let Jt;for(;;){if(Ft!==void 0&&St===Ft.nextBreakPoint)return Ft.breakIt(St,Ot),St;if(Jt=mt[St],Jt!==o.OPS.dependency)this[Jt].apply(this,lt[St]);else for(const Qt of lt[St]){const en=Qt.startsWith("g_")?Xt:Zt;if(!en.has(Qt))return en.get(Qt,Ot),St}if(St++,St===Ct)return St;if(Dt&&++$t>it){if(Date.now()>Lt)return Ot(),St;$t=0}}}endDrawing(){_e(this,vt,jt).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ht of this._cachedBitmapsMap.values()){for(const gt of ht.values())typeof HTMLCanvasElement!="undefined"&&gt instanceof HTMLCanvasElement&&(gt.width=gt.height=0);ht.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(ht,gt){const Ot=ht.width,Ft=ht.height;let lt=Math.max(Math.hypot(gt[0],gt[1]),1),mt=Math.max(Math.hypot(gt[2],gt[3]),1),St=Ot,Ct=Ft,Dt="prescale1",Lt,$t;for(;lt>2&&St>1||mt>2&&Ct>1;){let Xt=St,Zt=Ct;lt>2&&St>1&&(Xt=Math.ceil(St/2),lt/=St/Xt),mt>2&&Ct>1&&(Zt=Math.ceil(Ct/2),mt/=Ct/Zt),Lt=this.cachedCanvases.getCanvas(Dt,Xt,Zt),$t=Lt.context,$t.clearRect(0,0,Xt,Zt),$t.drawImage(ht,0,0,St,Ct,0,0,Xt,Zt),ht=Lt.canvas,St=Xt,Ct=Zt,Dt=Dt==="prescale1"?"prescale2":"prescale1"}return{img:ht,paintWidth:St,paintHeight:Ct}}_createMaskCanvas(ht){const gt=this.ctx,{width:Ot,height:Ft}=ht,lt=this.current.fillColor,mt=this.current.patternFill,St=(0,s.getCurrentTransform)(gt);let Ct,Dt,Lt,$t;if((ht.bitmap||ht.data)&&ht.count>1){const dn=ht.bitmap||ht.data.buffer,Sn=St.slice(0,4);Dt=JSON.stringify(mt?Sn:[Sn,lt]),Ct=this._cachedBitmapsMap.get(dn),Ct||(Ct=new Map,this._cachedBitmapsMap.set(dn,Ct));const mn=Ct.get(Dt);if(mn&&!mt){const hn=Math.round(Math.min(St[0],St[2])+St[4]),Nt=Math.round(Math.min(St[1],St[3])+St[5]);return{canvas:mn,offsetX:hn,offsetY:Nt}}Lt=mn}Lt||($t=this.cachedCanvases.getCanvas("maskCanvas",Ot,Ft),ct($t.context,ht));let Xt=o.Util.transform(St,[1/Ot,0,0,-1/Ft,0,0]);Xt=o.Util.transform(Xt,[1,0,0,1,0,-Ft]);const Zt=o.Util.applyTransform([0,0],Xt),Jt=o.Util.applyTransform([Ot,Ft],Xt),Qt=o.Util.normalizeRect([Zt[0],Zt[1],Jt[0],Jt[1]]),en=Math.round(Qt[2]-Qt[0])||1,un=Math.round(Qt[3]-Qt[1])||1,gn=this.cachedCanvases.getCanvas("fillCanvas",en,un),yn=gn.context,vn=Math.min(Zt[0],Jt[0]),An=Math.min(Zt[1],Jt[1]);yn.translate(-vn,-An),yn.transform(...Xt),Lt||(Lt=this._scaleImage($t.canvas,(0,s.getCurrentTransformInverse)(yn)),Lt=Lt.img,Ct&&mt&&Ct.set(Dt,Lt)),yn.imageSmoothingEnabled=At((0,s.getCurrentTransform)(yn),ht.interpolate),$(yn,Lt,0,0,Lt.width,Lt.height,0,0,Ot,Ft),yn.globalCompositeOperation="source-in";const qt=o.Util.transform((0,s.getCurrentTransformInverse)(yn),[1,0,0,1,-vn,-An]);return yn.fillStyle=mt?lt.getPattern(gt,this,qt,c.PathType.FILL):lt,yn.fillRect(0,0,Ot,Ft),Ct&&!mt&&(this.cachedCanvases.delete("fillCanvas"),Ct.set(Dt,gn.canvas)),{canvas:gn.canvas,offsetX:Math.round(vn),offsetY:Math.round(An)}}setLineWidth(ht){ht!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=ht,this.ctx.lineWidth=ht}setLineCap(ht){this.ctx.lineCap=Et[ht]}setLineJoin(ht){this.ctx.lineJoin=yt[ht]}setMiterLimit(ht){this.ctx.miterLimit=ht}setDash(ht,gt){const Ot=this.ctx;Ot.setLineDash!==void 0&&(Ot.setLineDash(ht),Ot.lineDashOffset=gt)}setRenderingIntent(ht){}setFlatness(ht){}setGState(ht){for(let gt=0,Ot=ht.length;gt<Ot;gt++){const Ft=ht[gt],lt=Ft[0],mt=Ft[1];switch(lt){case"LW":this.setLineWidth(mt);break;case"LC":this.setLineCap(mt);break;case"LJ":this.setLineJoin(mt);break;case"ML":this.setMiterLimit(mt);break;case"D":this.setDash(mt[0],mt[1]);break;case"RI":this.setRenderingIntent(mt);break;case"FL":this.setFlatness(mt);break;case"Font":this.setFont(mt[0],mt[1]);break;case"CA":this.current.strokeAlpha=Ft[1];break;case"ca":this.current.fillAlpha=Ft[1],this.ctx.globalAlpha=Ft[1];break;case"BM":this.ctx.globalCompositeOperation=mt;break;case"SMask":this.current.activeSMask=mt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=mt}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ht=this.inSMaskMode;this.current.activeSMask&&!ht?this.beginSMaskMode():!this.current.activeSMask&&ht&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ht=this.ctx.canvas.width,gt=this.ctx.canvas.height,Ot="smaskGroupAt"+this.groupLevel,Ft=this.cachedCanvases.getCanvas(Ot,ht,gt);this.suspendedCtx=this.ctx,this.ctx=Ft.context;const lt=this.ctx;lt.setTransform(...(0,s.getCurrentTransform)(this.suspendedCtx)),dt(this.suspendedCtx,lt),_(lt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),dt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ht){if(!this.current.activeSMask)return;ht?(ht[0]=Math.floor(ht[0]),ht[1]=Math.floor(ht[1]),ht[2]=Math.ceil(ht[2]),ht[3]=Math.ceil(ht[3])):ht=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const gt=this.current.activeSMask,Ot=this.suspendedCtx;wt(Ot,gt,this.ctx,ht),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(dt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ht=this.current;this.stateStack.push(ht),this.current=ht.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),dt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(ht,gt,Ot,Ft,lt,mt){this.ctx.transform(ht,gt,Ot,Ft,lt,mt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(ht,gt,Ot){const Ft=this.ctx,lt=this.current;let mt=lt.x,St=lt.y,Ct,Dt;const Lt=(0,s.getCurrentTransform)(Ft),$t=Lt[0]===0&&Lt[3]===0||Lt[1]===0&&Lt[2]===0,Xt=$t?Ot.slice(0):null;for(let Zt=0,Jt=0,Qt=ht.length;Zt<Qt;Zt++)switch(ht[Zt]|0){case o.OPS.rectangle:mt=gt[Jt++],St=gt[Jt++];const en=gt[Jt++],un=gt[Jt++],gn=mt+en,yn=St+un;Ft.moveTo(mt,St),en===0||un===0?Ft.lineTo(gn,yn):(Ft.lineTo(gn,St),Ft.lineTo(gn,yn),Ft.lineTo(mt,yn)),$t||lt.updateRectMinMax(Lt,[mt,St,gn,yn]),Ft.closePath();break;case o.OPS.moveTo:mt=gt[Jt++],St=gt[Jt++],Ft.moveTo(mt,St),$t||lt.updatePathMinMax(Lt,mt,St);break;case o.OPS.lineTo:mt=gt[Jt++],St=gt[Jt++],Ft.lineTo(mt,St),$t||lt.updatePathMinMax(Lt,mt,St);break;case o.OPS.curveTo:Ct=mt,Dt=St,mt=gt[Jt+4],St=gt[Jt+5],Ft.bezierCurveTo(gt[Jt],gt[Jt+1],gt[Jt+2],gt[Jt+3],mt,St),lt.updateCurvePathMinMax(Lt,Ct,Dt,gt[Jt],gt[Jt+1],gt[Jt+2],gt[Jt+3],mt,St,Xt),Jt+=6;break;case o.OPS.curveTo2:Ct=mt,Dt=St,Ft.bezierCurveTo(mt,St,gt[Jt],gt[Jt+1],gt[Jt+2],gt[Jt+3]),lt.updateCurvePathMinMax(Lt,Ct,Dt,mt,St,gt[Jt],gt[Jt+1],gt[Jt+2],gt[Jt+3],Xt),mt=gt[Jt+2],St=gt[Jt+3],Jt+=4;break;case o.OPS.curveTo3:Ct=mt,Dt=St,mt=gt[Jt+2],St=gt[Jt+3],Ft.bezierCurveTo(gt[Jt],gt[Jt+1],mt,St,mt,St),lt.updateCurvePathMinMax(Lt,Ct,Dt,gt[Jt],gt[Jt+1],mt,St,mt,St,Xt),Jt+=4;break;case o.OPS.closePath:Ft.closePath();break}$t&&lt.updateScalingPathMinMax(Lt,Xt),lt.setCurrentPoint(mt,St)}closePath(){this.ctx.closePath()}stroke(ht){ht=typeof ht!="undefined"?ht:!0;const gt=this.ctx,Ot=this.current.strokeColor;gt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Ot=="object"&&Ot!==null&&Ot!==void 0&&Ot.getPattern?(gt.save(),gt.strokeStyle=Ot.getPattern(gt,this,(0,s.getCurrentTransformInverse)(gt),c.PathType.STROKE),this.rescaleAndStroke(!1),gt.restore()):this.rescaleAndStroke(!0)),ht&&this.consumePath(this.current.getClippedPathBoundingBox()),gt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ht){ht=typeof ht!="undefined"?ht:!0;const gt=this.ctx,Ot=this.current.fillColor,Ft=this.current.patternFill;let lt=!1;Ft&&(gt.save(),gt.fillStyle=Ot.getPattern(gt,this,(0,s.getCurrentTransformInverse)(gt),c.PathType.FILL),lt=!0);const mt=this.current.getClippedPathBoundingBox();this.contentVisible&&mt!==null&&(this.pendingEOFill?(gt.fill("evenodd"),this.pendingEOFill=!1):gt.fill()),lt&&gt.restore(),ht&&this.consumePath(mt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Pt}eoClip(){this.pendingClip=It}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ht=this.pendingTextPaths,gt=this.ctx;if(ht===void 0){gt.beginPath();return}gt.save(),gt.beginPath();for(const Ot of ht)gt.setTransform(...Ot.transform),gt.translate(Ot.x,Ot.y),Ot.addToPath(gt,Ot.fontSize);gt.restore(),gt.clip(),gt.beginPath(),delete this.pendingTextPaths}setCharSpacing(ht){this.current.charSpacing=ht}setWordSpacing(ht){this.current.wordSpacing=ht}setHScale(ht){this.current.textHScale=ht/100}setLeading(ht){this.current.leading=-ht}setFont(ht,gt){const Ot=this.commonObjs.get(ht),Ft=this.current;if(!Ot)throw new Error(`Can't find font for ${ht}`);if(Ft.fontMatrix=Ot.fontMatrix||o.FONT_IDENTITY_MATRIX,(Ft.fontMatrix[0]===0||Ft.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+ht),gt<0?(gt=-gt,Ft.fontDirection=-1):Ft.fontDirection=1,this.current.font=Ot,this.current.fontSize=gt,Ot.isType3Font)return;const lt=Ot.loadedName||"sans-serif";let mt="normal";Ot.black?mt="900":Ot.bold&&(mt="bold");const St=Ot.italic?"italic":"normal",Ct=`"${lt}", ${Ot.fallbackName}`;let Dt=gt;gt<pt?Dt=pt:gt>et&&(Dt=et),this.current.fontSizeScale=gt/Dt,this.ctx.font=`${St} ${mt} ${Dt}px ${Ct}`}setTextRenderingMode(ht){this.current.textRenderingMode=ht}setTextRise(ht){this.current.textRise=ht}moveText(ht,gt){this.current.x=this.current.lineX+=ht,this.current.y=this.current.lineY+=gt}setLeadingMoveText(ht,gt){this.setLeading(-gt),this.moveText(ht,gt)}setTextMatrix(ht,gt,Ot,Ft,lt,mt){this.current.textMatrix=[ht,gt,Ot,Ft,lt,mt],this.current.textMatrixScale=Math.hypot(ht,gt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ht,gt,Ot,Ft){const lt=this.ctx,mt=this.current,St=mt.font,Ct=mt.textRenderingMode,Dt=mt.fontSize/mt.fontSizeScale,Lt=Ct&o.TextRenderingMode.FILL_STROKE_MASK,$t=!!(Ct&o.TextRenderingMode.ADD_TO_PATH_FLAG),Xt=mt.patternFill&&!St.missingFile;let Zt;(St.disableFontFace||$t||Xt)&&(Zt=St.getPathGenerator(this.commonObjs,ht)),St.disableFontFace||Xt?(lt.save(),lt.translate(gt,Ot),lt.beginPath(),Zt(lt,Dt),Ft&&lt.setTransform(...Ft),(Lt===o.TextRenderingMode.FILL||Lt===o.TextRenderingMode.FILL_STROKE)&&lt.fill(),(Lt===o.TextRenderingMode.STROKE||Lt===o.TextRenderingMode.FILL_STROKE)&&lt.stroke(),lt.restore()):((Lt===o.TextRenderingMode.FILL||Lt===o.TextRenderingMode.FILL_STROKE)&&lt.fillText(ht,gt,Ot),(Lt===o.TextRenderingMode.STROKE||Lt===o.TextRenderingMode.FILL_STROKE)&&lt.strokeText(ht,gt,Ot)),$t&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,s.getCurrentTransform)(lt),x:gt,y:Ot,fontSize:Dt,addToPath:Zt})}get isFontSubpixelAAEnabled(){const{context:ht}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ht.scale(1.5,1),ht.fillText("I",0,10);const gt=ht.getImageData(0,0,10,10).data;let Ot=!1;for(let Ft=3;Ft<gt.length;Ft+=4)if(gt[Ft]>0&&gt[Ft]<255){Ot=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",Ot)}showText(ht){const gt=this.current,Ot=gt.font;if(Ot.isType3Font)return this.showType3Text(ht);const Ft=gt.fontSize;if(Ft===0)return;const lt=this.ctx,mt=gt.fontSizeScale,St=gt.charSpacing,Ct=gt.wordSpacing,Dt=gt.fontDirection,Lt=gt.textHScale*Dt,$t=ht.length,Xt=Ot.vertical,Zt=Xt?1:-1,Jt=Ot.defaultVMetrics,Qt=Ft*gt.fontMatrix[0],en=gt.textRenderingMode===o.TextRenderingMode.FILL&&!Ot.disableFontFace&&!gt.patternFill;lt.save(),lt.transform(...gt.textMatrix),lt.translate(gt.x,gt.y+gt.textRise),Dt>0?lt.scale(Lt,-1):lt.scale(Lt,1);let un;if(gt.patternFill){lt.save();const qt=gt.fillColor.getPattern(lt,this,(0,s.getCurrentTransformInverse)(lt),c.PathType.FILL);un=(0,s.getCurrentTransform)(lt),lt.restore(),lt.fillStyle=qt}let gn=gt.lineWidth;const yn=gt.textMatrixScale;if(yn===0||gn===0){const qt=gt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(qt===o.TextRenderingMode.STROKE||qt===o.TextRenderingMode.FILL_STROKE)&&(gn=this.getSinglePixelWidth())}else gn/=yn;mt!==1&&(lt.scale(mt,mt),gn/=mt),lt.lineWidth=gn;let vn=0,An;for(An=0;An<$t;++An){const qt=ht[An];if(typeof qt=="number"){vn+=Zt*qt*Ft/1e3;continue}let dn=!1;const Sn=(qt.isSpace?Ct:0)+St,mn=qt.fontChar,hn=qt.accent;let Nt,kt,Vt=qt.width;if(Xt){const Kt=qt.vmetric||Jt,an=-(qt.vmetric?Kt[1]:Vt*.5)*Qt,pn=Kt[2]*Qt;Vt=Kt?-Kt[0]:Vt,Nt=an/mt,kt=(vn+pn)/mt}else Nt=vn/mt,kt=0;if(Ot.remeasure&&Vt>0){const Kt=lt.measureText(mn).width*1e3/Ft*mt;if(Vt<Kt&&this.isFontSubpixelAAEnabled){const an=Vt/Kt;dn=!0,lt.save(),lt.scale(an,1),Nt/=an}else Vt!==Kt&&(Nt+=(Vt-Kt)/2e3*Ft/mt)}if(this.contentVisible&&(qt.isInFont||Ot.missingFile)){if(en&&!hn)lt.fillText(mn,Nt,kt);else if(this.paintChar(mn,Nt,kt,un),hn){const Kt=Nt+Ft*hn.offset.x/mt,an=kt-Ft*hn.offset.y/mt;this.paintChar(hn.fontChar,Kt,an,un)}}let on;Xt?on=Vt*Qt-Sn*Dt:on=Vt*Qt+Sn*Dt,vn+=on,dn&&lt.restore()}Xt?gt.y-=vn:gt.x+=vn*Lt,lt.restore(),this.compose()}showType3Text(ht){const gt=this.ctx,Ot=this.current,Ft=Ot.font,lt=Ot.fontSize,mt=Ot.fontDirection,St=Ft.vertical?1:-1,Ct=Ot.charSpacing,Dt=Ot.wordSpacing,Lt=Ot.textHScale*mt,$t=Ot.fontMatrix||o.FONT_IDENTITY_MATRIX,Xt=ht.length,Zt=Ot.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Jt,Qt,en,un;if(!(Zt||lt===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,gt.save(),gt.transform(...Ot.textMatrix),gt.translate(Ot.x,Ot.y),gt.scale(Lt,mt),Jt=0;Jt<Xt;++Jt){if(Qt=ht[Jt],typeof Qt=="number"){un=St*Qt*lt/1e3,this.ctx.translate(un,0),Ot.x+=un*Lt;continue}const gn=(Qt.isSpace?Dt:0)+Ct,yn=Ft.charProcOperatorList[Qt.operatorListId];if(!yn){(0,o.warn)(`Type3 character "${Qt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Qt,this.save(),gt.scale(lt,lt),gt.transform(...$t),this.executeOperatorList(yn),this.restore()),en=o.Util.applyTransform([Qt.width,0],$t)[0]*lt+gn,gt.translate(en,0),Ot.x+=en*Lt}gt.restore(),this.processingType3=null}}setCharWidth(ht,gt){}setCharWidthAndBounds(ht,gt,Ot,Ft,lt,mt){this.ctx.rect(Ot,Ft,lt-Ot,mt-Ft),this.ctx.clip(),this.endPath()}getColorN_Pattern(ht){let gt;if(ht[0]==="TilingPattern"){const Ot=ht[1],Ft=this.baseTransform||(0,s.getCurrentTransform)(this.ctx),lt={createCanvasGraphics:mt=>new Wt(mt,this.commonObjs,this.objs,this.canvasFactory)};gt=new c.TilingPattern(ht,Ot,this.ctx,lt,Ft)}else gt=this._getPattern(ht[1],ht[2]);return gt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ht,gt,Ot){var Ft;const lt=((Ft=this.selectColor)===null||Ft===void 0?void 0:Ft.call(this,ht,gt,Ot))||o.Util.makeHexColor(ht,gt,Ot);this.ctx.strokeStyle=lt,this.current.strokeColor=lt}setFillRGBColor(ht,gt,Ot){var Ft;const lt=((Ft=this.selectColor)===null||Ft===void 0?void 0:Ft.call(this,ht,gt,Ot))||o.Util.makeHexColor(ht,gt,Ot);this.ctx.fillStyle=lt,this.current.fillColor=lt,this.current.patternFill=!1}_getPattern(ht){let gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ot;return this.cachedPatterns.has(ht)?Ot=this.cachedPatterns.get(ht):(Ot=(0,c.getShadingPattern)(this.objs.get(ht)),this.cachedPatterns.set(ht,Ot)),gt&&(Ot.matrix=gt),Ot}shadingFill(ht){if(!this.contentVisible)return;const gt=this.ctx;this.save();const Ot=this._getPattern(ht);gt.fillStyle=Ot.getPattern(gt,this,(0,s.getCurrentTransformInverse)(gt),c.PathType.SHADING);const Ft=(0,s.getCurrentTransformInverse)(gt);if(Ft){const lt=gt.canvas,mt=lt.width,St=lt.height,Ct=o.Util.applyTransform([0,0],Ft),Dt=o.Util.applyTransform([0,St],Ft),Lt=o.Util.applyTransform([mt,0],Ft),$t=o.Util.applyTransform([mt,St],Ft),Xt=Math.min(Ct[0],Dt[0],Lt[0],$t[0]),Zt=Math.min(Ct[1],Dt[1],Lt[1],$t[1]),Jt=Math.max(Ct[0],Dt[0],Lt[0],$t[0]),Qt=Math.max(Ct[1],Dt[1],Lt[1],$t[1]);this.ctx.fillRect(Xt,Zt,Jt-Xt,Qt-Zt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ht,gt){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ht)&&ht.length===6&&this.transform(...ht),this.baseTransform=(0,s.getCurrentTransform)(this.ctx),gt)){const Ot=gt[2]-gt[0],Ft=gt[3]-gt[1];this.ctx.rect(gt[0],gt[1],Ot,Ft),this.current.updateRectMinMax((0,s.getCurrentTransform)(this.ctx),gt),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ht){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const gt=this.ctx;ht.isolated||(0,o.info)("TODO: Support non-isolated groups."),ht.knockout&&(0,o.warn)("Knockout groups not supported.");const Ot=(0,s.getCurrentTransform)(gt);if(ht.matrix&&gt.transform(...ht.matrix),!ht.bbox)throw new Error("Bounding box is required.");let Ft=o.Util.getAxialAlignedBoundingBox(ht.bbox,(0,s.getCurrentTransform)(gt));const lt=[0,0,gt.canvas.width,gt.canvas.height];Ft=o.Util.intersect(Ft,lt)||[0,0,0,0];const mt=Math.floor(Ft[0]),St=Math.floor(Ft[1]);let Ct=Math.max(Math.ceil(Ft[2])-mt,1),Dt=Math.max(Math.ceil(Ft[3])-St,1),Lt=1,$t=1;Ct>nt&&(Lt=Ct/nt,Ct=nt),Dt>nt&&($t=Dt/nt,Dt=nt),this.current.startNewPathAndClipBox([0,0,Ct,Dt]);let Xt="groupAt"+this.groupLevel;ht.smask&&(Xt+="_smask_"+this.smaskCounter++%2);const Zt=this.cachedCanvases.getCanvas(Xt,Ct,Dt),Jt=Zt.context;Jt.scale(1/Lt,1/$t),Jt.translate(-mt,-St),Jt.transform(...Ot),ht.smask?this.smaskStack.push({canvas:Zt.canvas,context:Jt,offsetX:mt,offsetY:St,scaleX:Lt,scaleY:$t,subtype:ht.smask.subtype,backdrop:ht.smask.backdrop,transferMap:ht.smask.transferMap||null,startTransformInverse:null}):(gt.setTransform(1,0,0,1,0,0),gt.translate(mt,St),gt.scale(Lt,$t),gt.save()),dt(gt,Jt),this.ctx=Jt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(gt),this.groupLevel++}endGroup(ht){if(!this.contentVisible)return;this.groupLevel--;const gt=this.ctx,Ot=this.groupStack.pop();if(this.ctx=Ot,this.ctx.imageSmoothingEnabled=!1,ht.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ft=(0,s.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ft);const lt=o.Util.getAxialAlignedBoundingBox([0,0,gt.canvas.width,gt.canvas.height],Ft);this.ctx.drawImage(gt.canvas,0,0),this.ctx.restore(),this.compose(lt)}}beginAnnotation(ht,gt,Ot,Ft,lt){if(_e(this,vt,jt).call(this),ft(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(gt)&&gt.length===4){const mt=gt[2]-gt[0],St=gt[3]-gt[1];if(lt&&this.annotationCanvasMap){Ot=Ot.slice(),Ot[4]-=gt[0],Ot[5]-=gt[1],gt=gt.slice(),gt[0]=gt[1]=0,gt[2]=mt,gt[3]=St;const[Ct,Dt]=o.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(this.ctx)),{viewportScale:Lt}=this,$t=Math.ceil(mt*this.outputScaleX*Lt),Xt=Math.ceil(St*this.outputScaleY*Lt);this.annotationCanvas=this.canvasFactory.create($t,Xt);const{canvas:Zt,context:Jt}=this.annotationCanvas;this.annotationCanvasMap.set(ht,Zt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Jt,this.ctx.setTransform(Ct,0,0,-Dt,0,St*Dt),ft(this.ctx,this.foregroundColor)}else ft(this.ctx,this.foregroundColor),this.ctx.rect(gt[0],gt[1],mt,St),this.ctx.clip(),this.endPath()}this.current=new k(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Ot),this.transform(...Ft)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ht){if(!this.contentVisible)return;const gt=ht.count;ht=this.getObject(ht.data,ht),ht.count=gt;const Ot=this.ctx,Ft=this.processingType3;if(Ft&&(Ft.compiled===void 0&&(Ft.compiled=g(ht)),Ft.compiled)){Ft.compiled(Ot);return}const lt=this._createMaskCanvas(ht),mt=lt.canvas;Ot.save(),Ot.setTransform(1,0,0,1,0,0),Ot.drawImage(mt,lt.offsetX,lt.offsetY),Ot.restore(),this.compose()}paintImageMaskXObjectRepeat(ht,gt){let Ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Ft=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,lt=arguments.length>4?arguments[4]:void 0,mt=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;ht=this.getObject(ht.data,ht);const St=this.ctx;St.save();const Ct=(0,s.getCurrentTransform)(St);St.transform(gt,Ot,Ft,lt,0,0);const Dt=this._createMaskCanvas(ht);St.setTransform(1,0,0,1,0,0);for(let Lt=0,$t=mt.length;Lt<$t;Lt+=2){const Xt=o.Util.transform(Ct,[gt,Ot,Ft,lt,mt[Lt],mt[Lt+1]]),[Zt,Jt]=o.Util.applyTransform([0,0],Xt);St.drawImage(Dt.canvas,Zt,Jt)}St.restore(),this.compose()}paintImageMaskXObjectGroup(ht){if(!this.contentVisible)return;const gt=this.ctx,Ot=this.current.fillColor,Ft=this.current.patternFill;for(const lt of ht){const{data:mt,width:St,height:Ct,transform:Dt}=lt,Lt=this.cachedCanvases.getCanvas("maskCanvas",St,Ct),$t=Lt.context;$t.save();const Xt=this.getObject(mt,lt);ct($t,Xt),$t.globalCompositeOperation="source-in",$t.fillStyle=Ft?Ot.getPattern($t,this,(0,s.getCurrentTransformInverse)(gt),c.PathType.FILL):Ot,$t.fillRect(0,0,St,Ct),$t.restore(),gt.save(),gt.transform(...Dt),gt.scale(1,-1),$(gt,Lt.canvas,0,0,St,Ct,0,-1,1,1),gt.restore()}this.compose()}paintImageXObject(ht){if(!this.contentVisible)return;const gt=this.getObject(ht);if(!gt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(gt)}paintImageXObjectRepeat(ht,gt,Ot,Ft){if(!this.contentVisible)return;const lt=this.getObject(ht);if(!lt){(0,o.warn)("Dependent image isn't ready yet");return}const mt=lt.width,St=lt.height,Ct=[];for(let Dt=0,Lt=Ft.length;Dt<Lt;Dt+=2)Ct.push({transform:[gt,0,0,Ot,Ft[Dt],Ft[Dt+1]],x:0,y:0,w:mt,h:St});this.paintInlineImageXObjectGroup(lt,Ct)}paintInlineImageXObject(ht){if(!this.contentVisible)return;const gt=ht.width,Ot=ht.height,Ft=this.ctx;this.save(),Ft.scale(1/gt,-1/Ot);let lt;if(typeof HTMLElement=="function"&&ht instanceof HTMLElement||!ht.data)lt=ht;else{const Dt=this.cachedCanvases.getCanvas("inlineImage",gt,Ot),Lt=Dt.context;ot(Lt,ht,this.current.transferMaps),lt=Dt.canvas}const mt=this._scaleImage(lt,(0,s.getCurrentTransformInverse)(Ft));Ft.imageSmoothingEnabled=At((0,s.getCurrentTransform)(Ft),ht.interpolate);const[St,Ct]=$(Ft,mt.img,0,0,mt.paintWidth,mt.paintHeight,0,-Ot,gt,Ot);if(this.imageLayer){const[Dt,Lt]=o.Util.applyTransform([0,-Ot],(0,s.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:ht,left:Dt,top:Lt,width:St,height:Ct})}this.compose(),this.restore()}paintInlineImageXObjectGroup(ht,gt){if(!this.contentVisible)return;const Ot=this.ctx,Ft=ht.width,lt=ht.height,mt=this.cachedCanvases.getCanvas("inlineImage",Ft,lt),St=mt.context;ot(St,ht,this.current.transferMaps);for(const Ct of gt){if(Ot.save(),Ot.transform(...Ct.transform),Ot.scale(1,-1),$(Ot,mt.canvas,Ct.x,Ct.y,Ct.w,Ct.h,0,-1,1,1),this.imageLayer){const[Dt,Lt]=o.Util.applyTransform([Ct.x,Ct.y],(0,s.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:ht,left:Dt,top:Lt,width:Ft,height:lt})}Ot.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ht){}markPointProps(ht,gt){}beginMarkedContent(ht){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ht,gt){ht==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(gt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ht){const gt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ht);const Ot=this.ctx;this.pendingClip&&(gt||(this.pendingClip===It?Ot.clip("evenodd"):Ot.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Ot.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ht=(0,s.getCurrentTransform)(this.ctx);if(ht[1]===0&&ht[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ht[0]),Math.abs(ht[3]));else{const gt=Math.abs(ht[0]*ht[3]-ht[2]*ht[1]),Ot=Math.hypot(ht[0],ht[2]),Ft=Math.hypot(ht[1],ht[3]);this._cachedGetSinglePixelWidth=Math.max(Ot,Ft)/gt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:ht}=this.current,gt=(0,s.getCurrentTransform)(this.ctx);let Ot,Ft;if(gt[1]===0&&gt[2]===0){const lt=Math.abs(gt[0]),mt=Math.abs(gt[3]);if(ht===0)Ot=1/lt,Ft=1/mt;else{const St=lt*ht,Ct=mt*ht;Ot=St<1?1/St:1,Ft=Ct<1?1/Ct:1}}else{const lt=Math.abs(gt[0]*gt[3]-gt[2]*gt[1]),mt=Math.hypot(gt[0],gt[1]),St=Math.hypot(gt[2],gt[3]);if(ht===0)Ot=St/lt,Ft=mt/lt;else{const Ct=ht*lt;Ot=St>Ct?St/Ct:1,Ft=mt>Ct?mt/Ct:1}}this._cachedScaleForStroking=[Ot,Ft]}return this._cachedScaleForStroking}rescaleAndStroke(ht){const{ctx:gt}=this,{lineWidth:Ot}=this.current,[Ft,lt]=this.getScaleForStroking();if(gt.lineWidth=Ot||1,Ft===1&&lt===1){gt.stroke();return}let mt,St,Ct;ht&&(mt=(0,s.getCurrentTransform)(gt),St=gt.getLineDash().slice(),Ct=gt.lineDashOffset),gt.scale(Ft,lt);const Dt=Math.max(Ft,lt);gt.setLineDash(gt.getLineDash().map(Lt=>Lt/Dt)),gt.lineDashOffset/=Dt,gt.stroke(),ht&&(gt.setTransform(...mt),gt.setLineDash(St),gt.lineDashOffset=Ct)}isContentVisible(){for(let ht=this.markedContentStack.length-1;ht>=0;ht--)if(!this.markedContentStack[ht].visible)return!1;return!0}}i.CanvasGraphics=Wt;function jt(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}for(const Rt in o.OPS)Wt.prototype[Rt]!==void 0&&(Wt.prototype[o.OPS[Rt]]=Wt.prototype[Rt])},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=at;var s=a(1),o=a(133),c=a(3);const f={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=f;function d(ut,_){if(!_||c.isNodeJS)return;const tt=_[2]-_[0],$=_[3]-_[1],g=new Path2D;g.rect(_[0],_[1],tt,$),ut.clip(g)}class j{constructor(){this.constructor===j&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,s.unreachable)("Abstract method `getPattern` called.")}}class b extends j{constructor(_){super();this._type=_[1],this._bbox=_[2],this._colorStops=_[3],this._p0=_[4],this._p1=_[5],this._r0=_[6],this._r1=_[7],this.matrix=null}_createGradient(_){let tt;this._type==="axial"?tt=_.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(tt=_.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const $ of this._colorStops)tt.addColorStop($[0],$[1]);return tt}getPattern(_,tt,$,g){let k;if(g===f.STROKE||g===f.FILL){const ot=tt.current.getClippedPathBoundingBox(g,(0,o.getCurrentTransform)(_))||[0,0,0,0],ct=Math.ceil(ot[2]-ot[0])||1,dt=Math.ceil(ot[3]-ot[1])||1,ft=tt.cachedCanvases.getCanvas("pattern",ct,dt,!0),bt=ft.context;bt.clearRect(0,0,bt.canvas.width,bt.canvas.height),bt.beginPath(),bt.rect(0,0,bt.canvas.width,bt.canvas.height),bt.translate(-ot[0],-ot[1]),$=s.Util.transform($,[1,0,0,1,ot[0],ot[1]]),bt.transform(...tt.baseTransform),this.matrix&&bt.transform(...this.matrix),d(bt,this._bbox),bt.fillStyle=this._createGradient(bt),bt.fill(),k=_.createPattern(ft.canvas,"no-repeat");const Mt=new DOMMatrix($);try{k.setTransform(Mt)}catch(_t){(0,s.warn)(`RadialAxialShadingPattern.getPattern: "${_t==null?void 0:_t.message}".`)}}else d(_,this._bbox),k=this._createGradient(_);return k}}function _e(ut,_,tt,$,g,k,ot,ct){const dt=_.coords,ft=_.colors,bt=ut.data,Mt=ut.width*4;let _t;dt[tt+1]>dt[$+1]&&(_t=tt,tt=$,$=_t,_t=k,k=ot,ot=_t),dt[$+1]>dt[g+1]&&(_t=$,$=g,g=_t,_t=ot,ot=ct,ct=_t),dt[tt+1]>dt[$+1]&&(_t=tt,tt=$,$=_t,_t=k,k=ot,ot=_t);const xt=(dt[tt]+_.offsetX)*_.scaleX,wt=(dt[tt+1]+_.offsetY)*_.scaleY,At=(dt[$]+_.offsetX)*_.scaleX,Et=(dt[$+1]+_.offsetY)*_.scaleY,yt=(dt[g]+_.offsetX)*_.scaleX,Pt=(dt[g+1]+_.offsetY)*_.scaleY;if(wt>=Pt)return;const It=ft[k],vt=ft[k+1],Wt=ft[k+2],jt=ft[ot],Rt=ft[ot+1],ht=ft[ot+2],gt=ft[ct],Ot=ft[ct+1],Ft=ft[ct+2],lt=Math.round(wt),mt=Math.round(Pt);let St,Ct,Dt,Lt,$t,Xt,Zt,Jt;for(let Qt=lt;Qt<=mt;Qt++){if(Qt<Et){let vn;Qt<wt?vn=0:vn=(wt-Qt)/(wt-Et),St=xt-(xt-At)*vn,Ct=It-(It-jt)*vn,Dt=vt-(vt-Rt)*vn,Lt=Wt-(Wt-ht)*vn}else{let vn;Qt>Pt?vn=1:Et===Pt?vn=0:vn=(Et-Qt)/(Et-Pt),St=At-(At-yt)*vn,Ct=jt-(jt-gt)*vn,Dt=Rt-(Rt-Ot)*vn,Lt=ht-(ht-Ft)*vn}let en;Qt<wt?en=0:Qt>Pt?en=1:en=(wt-Qt)/(wt-Pt),$t=xt-(xt-yt)*en,Xt=It-(It-gt)*en,Zt=vt-(vt-Ot)*en,Jt=Wt-(Wt-Ft)*en;const un=Math.round(Math.min(St,$t)),gn=Math.round(Math.max(St,$t));let yn=Mt*Qt+un*4;for(let vn=un;vn<=gn;vn++)en=(St-vn)/(St-$t),en<0?en=0:en>1&&(en=1),bt[yn++]=Ct-(Ct-Xt)*en|0,bt[yn++]=Dt-(Dt-Zt)*en|0,bt[yn++]=Lt-(Lt-Jt)*en|0,bt[yn++]=255}}function pt(ut,_,tt){const $=_.coords,g=_.colors;let k,ot;switch(_.type){case"lattice":const ct=_.verticesPerRow,dt=Math.floor($.length/ct)-1,ft=ct-1;for(k=0;k<dt;k++){let bt=k*ct;for(let Mt=0;Mt<ft;Mt++,bt++)_e(ut,tt,$[bt],$[bt+1],$[bt+ct],g[bt],g[bt+1],g[bt+ct]),_e(ut,tt,$[bt+ct+1],$[bt+1],$[bt+ct],g[bt+ct+1],g[bt+1],g[bt+ct])}break;case"triangles":for(k=0,ot=$.length;k<ot;k+=3)_e(ut,tt,$[k],$[k+1],$[k+2],g[k],g[k+1],g[k+2]);break;default:throw new Error("illegal figure")}}class et extends j{constructor(_){super();this._coords=_[2],this._colors=_[3],this._figures=_[4],this._bounds=_[5],this._bbox=_[7],this._background=_[8],this.matrix=null}_createMeshCanvas(_,tt,$){const ct=Math.floor(this._bounds[0]),dt=Math.floor(this._bounds[1]),ft=Math.ceil(this._bounds[2])-ct,bt=Math.ceil(this._bounds[3])-dt,Mt=Math.min(Math.ceil(Math.abs(ft*_[0]*1.1)),3e3),_t=Math.min(Math.ceil(Math.abs(bt*_[1]*1.1)),3e3),xt=ft/Mt,wt=bt/_t,At={coords:this._coords,colors:this._colors,offsetX:-ct,offsetY:-dt,scaleX:1/xt,scaleY:1/wt},Et=Mt+2*2,yt=_t+2*2,Pt=$.getCanvas("mesh",Et,yt,!1),It=Pt.context,vt=It.createImageData(Mt,_t);if(tt){const jt=vt.data;for(let Rt=0,ht=jt.length;Rt<ht;Rt+=4)jt[Rt]=tt[0],jt[Rt+1]=tt[1],jt[Rt+2]=tt[2],jt[Rt+3]=255}for(const jt of this._figures)pt(vt,jt,At);return It.putImageData(vt,2,2),{canvas:Pt.canvas,offsetX:ct-2*xt,offsetY:dt-2*wt,scaleX:xt,scaleY:wt}}getPattern(_,tt,$,g){d(_,this._bbox);let k;if(g===f.SHADING)k=s.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(_));else if(k=s.Util.singularValueDecompose2dScale(tt.baseTransform),this.matrix){const ct=s.Util.singularValueDecompose2dScale(this.matrix);k=[k[0]*ct[0],k[1]*ct[1]]}const ot=this._createMeshCanvas(k,g===f.SHADING?null:this._background,tt.cachedCanvases);return g!==f.SHADING&&(_.setTransform(...tt.baseTransform),this.matrix&&_.transform(...this.matrix)),_.translate(ot.offsetX,ot.offsetY),_.scale(ot.scaleX,ot.scaleY),_.createPattern(ot.canvas,"no-repeat")}}class nt extends j{getPattern(){return"hotpink"}}function at(ut){switch(ut[0]){case"RadialAxial":return new b(ut);case"Mesh":return new et(ut);case"Dummy":return new nt}throw new Error(`Unknown IR type: ${ut[0]}`)}const it={COLORED:1,UNCOLORED:2};class rt{static get MAX_PATTERN_SIZE(){return(0,s.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(_,tt,$,g,k){this.operatorList=_[2],this.matrix=_[3]||[1,0,0,1,0,0],this.bbox=_[4],this.xstep=_[5],this.ystep=_[6],this.paintType=_[7],this.tilingType=_[8],this.color=tt,this.ctx=$,this.canvasGraphicsFactory=g,this.baseTransform=k}createPatternCanvas(_){const tt=this.operatorList,$=this.bbox,g=this.xstep,k=this.ystep,ot=this.paintType,ct=this.tilingType,dt=this.color,ft=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+ct);const bt=$[0],Mt=$[1],_t=$[2],xt=$[3],wt=s.Util.singularValueDecompose2dScale(this.matrix),At=s.Util.singularValueDecompose2dScale(this.baseTransform),Et=[wt[0]*At[0],wt[1]*At[1]],yt=this.getSizeAndScale(g,this.ctx.canvas.width,Et[0]),Pt=this.getSizeAndScale(k,this.ctx.canvas.height,Et[1]),It=_.cachedCanvases.getCanvas("pattern",yt.size,Pt.size,!0),vt=It.context,Wt=ft.createCanvasGraphics(vt);Wt.groupLevel=_.groupLevel,this.setFillAndStrokeStyleToContext(Wt,ot,dt);let jt=bt,Rt=Mt,ht=_t,gt=xt;return bt<0&&(jt=0,ht+=Math.abs(bt)),Mt<0&&(Rt=0,gt+=Math.abs(Mt)),vt.translate(-(yt.scale*jt),-(Pt.scale*Rt)),Wt.transform(yt.scale,0,0,Pt.scale,0,0),vt.save(),this.clipBbox(Wt,jt,Rt,ht,gt),Wt.baseTransform=(0,o.getCurrentTransform)(Wt.ctx),Wt.executeOperatorList(tt),Wt.endDrawing(),{canvas:It.canvas,scaleX:yt.scale,scaleY:Pt.scale,offsetX:jt,offsetY:Rt}}getSizeAndScale(_,tt,$){_=Math.abs(_);const g=Math.max(rt.MAX_PATTERN_SIZE,tt);let k=Math.ceil(_*$);return k>=g?k=g:$=k/_,{scale:$,size:k}}clipBbox(_,tt,$,g,k){const ot=g-tt,ct=k-$;_.ctx.rect(tt,$,ot,ct),_.current.updateRectMinMax((0,o.getCurrentTransform)(_.ctx),[tt,$,g,k]),_.clip(),_.endPath()}setFillAndStrokeStyleToContext(_,tt,$){const g=_.ctx,k=_.current;switch(tt){case it.COLORED:const ot=this.ctx;g.fillStyle=ot.fillStyle,g.strokeStyle=ot.strokeStyle,k.fillColor=ot.fillStyle,k.strokeColor=ot.strokeStyle;break;case it.UNCOLORED:const ct=s.Util.makeHexColor($[0],$[1],$[2]);g.fillStyle=ct,g.strokeStyle=ct,k.fillColor=ct,k.strokeColor=ct;break;default:throw new s.FormatError(`Unsupported paint type: ${tt}`)}}getPattern(_,tt,$,g){let k=$;g!==f.SHADING&&(k=s.Util.transform(k,tt.baseTransform),this.matrix&&(k=s.Util.transform(k,this.matrix)));const ot=this.createPatternCanvas(tt);let ct=new DOMMatrix(k);ct=ct.translate(ot.offsetX,ot.offsetY),ct=ct.scale(1/ot.scaleX,1/ot.scaleY);const dt=_.createPattern(ot.canvas,"repeat");try{dt.setTransform(ct)}catch(ft){(0,s.warn)(`TilingPattern.getPattern: "${ft==null?void 0:ft.message}".`)}return dt}}i.TilingPattern=rt},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.applyMaskImageData=o;var s=a(1);function o(c){let{src:f,srcPos:d=0,dest:j,destPos:b=0,width:_e,height:pt,inverseDecode:et=!1}=c;const nt=s.FeatureTest.isLittleEndian?4278190080:255,[at,it]=et?[0,nt]:[nt,0],rt=_e>>3,ut=_e&7,_=f.length;j=new Uint32Array(j.buffer);for(let tt=0;tt<pt;tt++){for(const g=d+rt;d<g;d++){const k=d<_?f[d]:255;j[b++]=k&128?it:at,j[b++]=k&64?it:at,j[b++]=k&32?it:at,j[b++]=k&16?it:at,j[b++]=k&8?it:at,j[b++]=k&4?it:at,j[b++]=k&2?it:at,j[b++]=k&1?it:at}if(ut===0)continue;const $=d<_?f[d++]:255;for(let g=0;g<ut;g++)j[b++]=$&1<<7-g?it:at}return{srcPos:d,destPos:b}}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const a=Object.create(null);i.GlobalWorkerOptions=a,a.workerPort=a.workerPort===void 0?null:a.workerPort,a.workerSrc=a.workerSrc===void 0?"":a.workerSrc},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var s=a(1);const o={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function f(j){switch(j instanceof Error||typeof j=="object"&&j!==null||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),j.name){case"AbortException":return new s.AbortException(j.message);case"MissingPDFException":return new s.MissingPDFException(j.message);case"PasswordException":return new s.PasswordException(j.message,j.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(j.message,j.status);case"UnknownErrorException":return new s.UnknownErrorException(j.message,j.details);default:return new s.UnknownErrorException(j.message,j.toString())}}class d{constructor(b,_e,pt){this.sourceName=b,this.targetName=_e,this.comObj=pt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=et=>{const nt=et.data;if(nt.targetName!==this.sourceName)return;if(nt.stream){this._processStreamMessage(nt);return}if(nt.callback){const it=nt.callbackId,rt=this.callbackCapabilities[it];if(!rt)throw new Error(`Cannot resolve callback ${it}`);if(delete this.callbackCapabilities[it],nt.callback===o.DATA)rt.resolve(nt.data);else if(nt.callback===o.ERROR)rt.reject(f(nt.reason));else throw new Error("Unexpected callback case");return}const at=this.actionHandler[nt.action];if(!at)throw new Error(`Unknown action from worker: ${nt.action}`);if(nt.callbackId){const it=this.sourceName,rt=nt.sourceName;new Promise(function(ut){ut(at(nt.data))}).then(function(ut){pt.postMessage({sourceName:it,targetName:rt,callback:o.DATA,callbackId:nt.callbackId,data:ut})},function(ut){pt.postMessage({sourceName:it,targetName:rt,callback:o.ERROR,callbackId:nt.callbackId,reason:f(ut)})});return}if(nt.streamId){this._createStreamSink(nt);return}at(nt.data)},pt.addEventListener("message",this._onComObjOnMessage)}on(b,_e){const pt=this.actionHandler;if(pt[b])throw new Error(`There is already an actionName called "${b}"`);pt[b]=_e}send(b,_e,pt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,data:_e},pt)}sendWithPromise(b,_e,pt){const et=this.callbackId++,nt=(0,s.createPromiseCapability)();this.callbackCapabilities[et]=nt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,callbackId:et,data:_e},pt)}catch(at){nt.reject(at)}return nt.promise}sendWithStream(b,_e,pt,et){const nt=this.streamId++,at=this.sourceName,it=this.targetName,rt=this.comObj;return new ReadableStream({start:ut=>{const _=(0,s.createPromiseCapability)();return this.streamControllers[nt]={controller:ut,startCall:_,pullCall:null,cancelCall:null,isClosed:!1},rt.postMessage({sourceName:at,targetName:it,action:b,streamId:nt,data:_e,desiredSize:ut.desiredSize},et),_.promise},pull:ut=>{const _=(0,s.createPromiseCapability)();return this.streamControllers[nt].pullCall=_,rt.postMessage({sourceName:at,targetName:it,stream:c.PULL,streamId:nt,desiredSize:ut.desiredSize}),_.promise},cancel:ut=>{(0,s.assert)(ut instanceof Error,"cancel must have a valid reason");const _=(0,s.createPromiseCapability)();return this.streamControllers[nt].cancelCall=_,this.streamControllers[nt].isClosed=!0,rt.postMessage({sourceName:at,targetName:it,stream:c.CANCEL,streamId:nt,reason:f(ut)}),_.promise}},pt)}_createStreamSink(b){const _e=b.streamId,pt=this.sourceName,et=b.sourceName,nt=this.comObj,at=this,it=this.actionHandler[b.action],rt={enqueue(ut){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,tt=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const $=this.desiredSize;this.desiredSize-=_,$>0&&this.desiredSize<=0&&(this.sinkCapability=(0,s.createPromiseCapability)(),this.ready=this.sinkCapability.promise),nt.postMessage({sourceName:pt,targetName:et,stream:c.ENQUEUE,streamId:_e,chunk:ut},tt)},close(){this.isCancelled||(this.isCancelled=!0,nt.postMessage({sourceName:pt,targetName:et,stream:c.CLOSE,streamId:_e}),delete at.streamSinks[_e])},error(ut){(0,s.assert)(ut instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,nt.postMessage({sourceName:pt,targetName:et,stream:c.ERROR,streamId:_e,reason:f(ut)}))},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:b.desiredSize,ready:null};rt.sinkCapability.resolve(),rt.ready=rt.sinkCapability.promise,this.streamSinks[_e]=rt,new Promise(function(ut){ut(it(b.data,rt))}).then(function(){nt.postMessage({sourceName:pt,targetName:et,stream:c.START_COMPLETE,streamId:_e,success:!0})},function(ut){nt.postMessage({sourceName:pt,targetName:et,stream:c.START_COMPLETE,streamId:_e,reason:f(ut)})})}_processStreamMessage(b){const _e=b.streamId,pt=this.sourceName,et=b.sourceName,nt=this.comObj,at=this.streamControllers[_e],it=this.streamSinks[_e];switch(b.stream){case c.START_COMPLETE:b.success?at.startCall.resolve():at.startCall.reject(f(b.reason));break;case c.PULL_COMPLETE:b.success?at.pullCall.resolve():at.pullCall.reject(f(b.reason));break;case c.PULL:if(!it){nt.postMessage({sourceName:pt,targetName:et,stream:c.PULL_COMPLETE,streamId:_e,success:!0});break}it.desiredSize<=0&&b.desiredSize>0&&it.sinkCapability.resolve(),it.desiredSize=b.desiredSize,new Promise(function(rt){rt(it.onPull&&it.onPull())}).then(function(){nt.postMessage({sourceName:pt,targetName:et,stream:c.PULL_COMPLETE,streamId:_e,success:!0})},function(rt){nt.postMessage({sourceName:pt,targetName:et,stream:c.PULL_COMPLETE,streamId:_e,reason:f(rt)})});break;case c.ENQUEUE:if((0,s.assert)(at,"enqueue should have stream controller"),at.isClosed)break;at.controller.enqueue(b.chunk);break;case c.CLOSE:if((0,s.assert)(at,"close should have stream controller"),at.isClosed)break;at.isClosed=!0,at.controller.close(),this._deleteStreamController(at,_e);break;case c.ERROR:(0,s.assert)(at,"error should have stream controller"),at.controller.error(f(b.reason)),this._deleteStreamController(at,_e);break;case c.CANCEL_COMPLETE:b.success?at.cancelCall.resolve():at.cancelCall.reject(f(b.reason)),this._deleteStreamController(at,_e);break;case c.CANCEL:if(!it)break;new Promise(function(rt){rt(it.onCancel&&it.onCancel(f(b.reason)))}).then(function(){nt.postMessage({sourceName:pt,targetName:et,stream:c.CANCEL_COMPLETE,streamId:_e,success:!0})},function(rt){nt.postMessage({sourceName:pt,targetName:et,stream:c.CANCEL_COMPLETE,streamId:_e,reason:f(rt)})}),it.sinkCapability.reject(f(b.reason)),it.isCancelled=!0,delete this.streamSinks[_e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(b,_e){await Promise.allSettled([b.startCall&&b.startCall.promise,b.pullCall&&b.pullCall.promise,b.cancelCall&&b.cancelCall.promise]),delete this.streamControllers[_e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}i.MessageHandler=d},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var s=a(1);function o(at,it,rt){c(at,it),it.set(at,rt)}function c(at,it){if(it.has(at))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(at,it){var rt=b(at,it,"get");return d(at,rt)}function d(at,it){return it.get?it.get.call(at):it.value}function j(at,it,rt){var ut=b(at,it,"set");return _e(at,ut,rt),rt}function b(at,it,rt){if(!it.has(at))throw new TypeError("attempted to "+rt+" private field on non-instance");return it.get(at)}function _e(at,it,rt){if(it.set)it.set.call(at,rt);else{if(!it.writable)throw new TypeError("attempted to set read only private field");it.value=rt}}var pt=new WeakMap,et=new WeakMap;class nt{constructor(it){let{parsedData:rt,rawData:ut}=it;o(this,pt,{writable:!0,value:void 0}),o(this,et,{writable:!0,value:void 0}),j(this,pt,rt),j(this,et,ut)}getRaw(){return f(this,et)}get(it){var rt;return(rt=f(this,pt).get(it))!==null&&rt!==void 0?rt:null}getAll(){return(0,s.objectFromMap)(f(this,pt))}has(it){return f(this,pt).has(it)}}i.Metadata=nt},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var s=a(1);function o(ot,ct){d(ot,ct),ct.add(ot)}function c(ot,ct,dt){if(!ct.has(ot))throw new TypeError("attempted to get private field on non-instance");return dt}function f(ot,ct,dt){d(ot,ct),ct.set(ot,dt)}function d(ot,ct){if(ct.has(ot))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j(ot,ct,dt){var ft=pt(ot,ct,"set");return b(ot,ft,dt),dt}function b(ot,ct,dt){if(ct.set)ct.set.call(ot,dt);else{if(!ct.writable)throw new TypeError("attempted to set read only private field");ct.value=dt}}function _e(ot,ct){var dt=pt(ot,ct,"get");return et(ot,dt)}function pt(ot,ct,dt){if(!ct.has(ot))throw new TypeError("attempted to "+dt+" private field on non-instance");return ct.get(ot)}function et(ot,ct){return ct.get?ct.get.call(ot):ct.value}const nt=Symbol("INTERNAL");var at=new WeakMap;class it{constructor(ct,dt){f(this,at,{writable:!0,value:!0}),this.name=ct,this.intent=dt}get visible(){return _e(this,at)}_setVisible(ct,dt){ct!==nt&&(0,s.unreachable)("Internal method `_setVisible` called."),j(this,at,dt)}}var rt=new WeakMap,ut=new WeakMap,_=new WeakMap,tt=new WeakMap,$=new WeakSet;class g{constructor(ct){if(o(this,$),f(this,rt,{writable:!0,value:!0}),f(this,ut,{writable:!0,value:new Map}),f(this,_,{writable:!0,value:null}),f(this,tt,{writable:!0,value:null}),this.name=null,this.creator=null,ct!==null){this.name=ct.name,this.creator=ct.creator,j(this,tt,ct.order);for(const dt of ct.groups)_e(this,ut).set(dt.id,new it(dt.name,dt.intent));if(ct.baseState==="OFF")for(const dt of _e(this,ut).values())dt._setVisible(nt,!1);for(const dt of ct.on)_e(this,ut).get(dt)._setVisible(nt,!0);for(const dt of ct.off)_e(this,ut).get(dt)._setVisible(nt,!1);j(this,_,new Map);for(const[dt,ft]of _e(this,ut))_e(this,_).set(dt,ft.visible)}}isVisible(ct){if(_e(this,ut).size===0)return!0;if(!ct)return(0,s.warn)("Optional content group not defined."),!0;if(ct.type==="OCG")return _e(this,ut).has(ct.id)?_e(this,ut).get(ct.id).visible:((0,s.warn)(`Optional content group not found: ${ct.id}`),!0);if(ct.type==="OCMD"){if(ct.expression)return c(this,$,k).call(this,ct.expression);if(!ct.policy||ct.policy==="AnyOn"){for(const dt of ct.ids){if(!_e(this,ut).has(dt))return(0,s.warn)(`Optional content group not found: ${dt}`),!0;if(_e(this,ut).get(dt).visible)return!0}return!1}else if(ct.policy==="AllOn"){for(const dt of ct.ids){if(!_e(this,ut).has(dt))return(0,s.warn)(`Optional content group not found: ${dt}`),!0;if(!_e(this,ut).get(dt).visible)return!1}return!0}else if(ct.policy==="AnyOff"){for(const dt of ct.ids){if(!_e(this,ut).has(dt))return(0,s.warn)(`Optional content group not found: ${dt}`),!0;if(!_e(this,ut).get(dt).visible)return!0}return!1}else if(ct.policy==="AllOff"){for(const dt of ct.ids){if(!_e(this,ut).has(dt))return(0,s.warn)(`Optional content group not found: ${dt}`),!0;if(_e(this,ut).get(dt).visible)return!1}return!0}return(0,s.warn)(`Unknown optional content policy ${ct.policy}.`),!0}return(0,s.warn)(`Unknown group type ${ct.type}.`),!0}setVisibility(ct){let dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!_e(this,ut).has(ct)){(0,s.warn)(`Optional content group not found: ${ct}`);return}_e(this,ut).get(ct)._setVisible(nt,!!dt),j(this,rt,null)}get hasInitialVisibility(){if(_e(this,rt)!==null)return _e(this,rt);for(const[ct,dt]of _e(this,ut)){const ft=_e(this,_).get(ct);if(dt.visible!==ft)return j(this,rt,!1)}return j(this,rt,!0)}getOrder(){return _e(this,ut).size?_e(this,tt)?_e(this,tt).slice():[..._e(this,ut).keys()]:null}getGroups(){return _e(this,ut).size>0?(0,s.objectFromMap)(_e(this,ut)):null}getGroup(ct){return _e(this,ut).get(ct)||null}}i.OptionalContentConfig=g;function k(ot){const ct=ot.length;if(ct<2)return!0;const dt=ot[0];for(let ft=1;ft<ct;ft++){const bt=ot[ft];let Mt;if(Array.isArray(bt))Mt=c(this,$,k).call(this,bt);else if(_e(this,ut).has(bt))Mt=_e(this,ut).get(bt).visible;else return(0,s.warn)(`Optional content group not found: ${bt}`),!0;switch(dt){case"And":if(!Mt)return!1;break;case"Or":if(Mt)return!0;break;case"Not":return!Mt;default:return!0}}return dt==="And"}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var s=a(1),o=a(133);class c{constructor(b,_e){(0,s.assert)(_e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=b.progressiveDone||!1,this._contentDispositionFilename=b.contentDispositionFilename||null;const pt=b.initialData;if((pt==null?void 0:pt.length)>0){const et=new Uint8Array(pt).buffer;this._queuedChunks.push(et)}this._pdfDataRangeTransport=_e,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._contentLength=b.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((et,nt)=>{this._onReceiveData({begin:et,chunk:nt})}),this._pdfDataRangeTransport.addProgressListener((et,nt)=>{this._onProgress({loaded:et,total:nt})}),this._pdfDataRangeTransport.addProgressiveReadListener(et=>{this._onReceiveData({chunk:et})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(b){const _e=new Uint8Array(b.chunk).buffer;if(b.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_e):this._queuedChunks.push(_e);else{const pt=this._rangeReaders.some(function(et){return et._begin!==b.begin?!1:(et._enqueue(_e),!0)});(0,s.assert)(pt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b,_e;return(b=(_e=this._fullRequestReader)===null||_e===void 0?void 0:_e._loaded)!==null&&b!==void 0?b:0}_onProgress(b){if(b.total===void 0){const _e=this._rangeReaders[0];_e!=null&&_e.onProgress&&_e.onProgress({loaded:b.loaded})}else{const _e=this._fullRequestReader;_e!=null&&_e.onProgress&&_e.onProgress({loaded:b.loaded,total:b.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const _e=this._rangeReaders.indexOf(b);_e>=0&&this._rangeReaders.splice(_e,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new f(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,_e){if(_e<=this._progressiveDataLength)return null;const pt=new d(this,b,_e);return this._pdfDataRangeTransport.requestDataRange(b,_e),this._rangeReaders.push(pt),pt}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const _e of this._rangeReaders.slice(0))_e.cancel(b);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=c;class f{constructor(b,_e){let pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=b,this._done=pt||!1,this._filename=(0,o.isPdfFile)(et)?et:null,this._queuedChunks=_e||[],this._loaded=0;for(const nt of this._queuedChunks)this._loaded+=nt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=(0,s.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class d{constructor(b,_e,pt){this._stream=b,this._begin=_e,this._end=pt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _e=this._queuedChunk;return this._queuedChunk=null,{value:_e,done:!1}}if(this._done)return{value:void 0,done:!0};const b=(0,s.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class a{static textContent(o){const c=[],f={items:c,styles:Object.create(null)};function d(j){var b;if(!j)return;let _e=null;const pt=j.name;if(pt==="#text")_e=j.value;else if(a.shouldBuildText(pt))j!=null&&(b=j.attributes)!==null&&b!==void 0&&b.textContent?_e=j.attributes.textContent:j.value&&(_e=j.value);else return;if(_e!==null&&c.push({str:_e}),!!j.children)for(const et of j.children)d(et)}return d(o),f}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}i.XfaText=a},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var s=a(134);const o=function(j){return new Promise((b,_e)=>{require$$6.readFile(j,(et,nt)=>{if(et||!nt){_e(new Error(et));return}b(new Uint8Array(nt))})})};class c extends s.BaseCanvasFactory{_createCanvas(b,_e){return require$$6.createCanvas(b,_e)}}i.NodeCanvasFactory=c;class f extends s.BaseCMapReaderFactory{_fetchData(b,_e){return o(b).then(pt=>({cMapData:pt,compressionType:_e}))}}i.NodeCMapReaderFactory=f;class d extends s.BaseStandardFontDataFactory{_fetchData(b){return o(b)}}i.NodeStandardFontDataFactory=d},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var s=a(132),o=a(1),c=a(148),f=a(149);function d(yt,Pt){_e(yt,Pt),Pt.add(yt)}function j(yt,Pt,It){return Pt in yt?Object.defineProperty(yt,Pt,{value:It,enumerable:!0,configurable:!0,writable:!0}):yt[Pt]=It,yt}function b(yt,Pt,It){_e(yt,Pt),Pt.set(yt,It)}function _e(yt,Pt){if(Pt.has(yt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pt(yt,Pt,It){if(!Pt.has(yt))throw new TypeError("attempted to get private field on non-instance");return It}function et(yt,Pt){var It=it(yt,Pt,"get");return nt(yt,It)}function nt(yt,Pt){return Pt.get?Pt.get.call(yt):Pt.value}function at(yt,Pt,It){var vt=it(yt,Pt,"set");return rt(yt,vt,It),It}function it(yt,Pt,It){if(!Pt.has(yt))throw new TypeError("attempted to "+It+" private field on non-instance");return Pt.get(yt)}function rt(yt,Pt,It){if(Pt.set)Pt.set.call(yt,It);else{if(!Pt.writable)throw new TypeError("attempted to set read only private field");Pt.value=It}}var ut=new WeakMap,_=new WeakMap,tt=new WeakMap,$=new WeakMap,g=new WeakMap,k=new WeakMap,ot=new WeakMap,ct=new WeakMap,dt=new WeakSet,ft=new WeakSet,bt=new WeakSet,Mt=new WeakSet;class _t{constructor(Pt){d(this,Mt),d(this,bt),d(this,ft),d(this,dt),b(this,ut,{writable:!0,value:void 0}),b(this,_,{writable:!0,value:!1}),b(this,tt,{writable:!0,value:this.pointerup.bind(this)}),b(this,$,{writable:!0,value:this.pointerdown.bind(this)}),b(this,g,{writable:!0,value:new Map}),b(this,k,{writable:!0,value:!1}),b(this,ot,{writable:!0,value:!1}),b(this,ct,{writable:!0,value:void 0}),_t._initialized||(_t._initialized=!0,c.FreeTextEditor.initialize(Pt.l10n),f.InkEditor.initialize(Pt.l10n),Pt.uiManager.registerEditorTypes([c.FreeTextEditor,f.InkEditor])),at(this,ct,Pt.uiManager),this.annotationStorage=Pt.annotationStorage,this.pageIndex=Pt.pageIndex,this.div=Pt.div,at(this,ut,Pt.accessibilityManager),et(this,ct).addLayer(this)}updateToolbar(Pt){et(this,ct).updateToolbar(Pt)}updateMode(){let Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:et(this,ct).getMode();pt(this,Mt,Et).call(this),Pt===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),et(this,ct).unselectAll()}addInkEditorIfNeeded(Pt){if(!Pt&&et(this,ct).getMode()!==o.AnnotationEditorType.INK)return;if(!Pt){for(const vt of et(this,g).values())if(vt.isEmpty()){vt.setInBackground();return}}pt(this,bt,At).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(Pt){et(this,ct).setEditingState(Pt)}addCommands(Pt){et(this,ct).addCommands(Pt)}enable(){this.div.style.pointerEvents="auto";for(const Pt of et(this,g).values())Pt.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const Pt of et(this,g).values())Pt.disableEditing()}setActiveEditor(Pt){et(this,ct).getActive()!==Pt&&et(this,ct).setActiveEditor(Pt)}enableClick(){this.div.addEventListener("pointerdown",et(this,$)),this.div.addEventListener("pointerup",et(this,tt))}disableClick(){this.div.removeEventListener("pointerdown",et(this,$)),this.div.removeEventListener("pointerup",et(this,tt))}attach(Pt){et(this,g).set(Pt.id,Pt)}detach(Pt){var It;et(this,g).delete(Pt.id),(It=et(this,ut))===null||It===void 0||It.removePointerInTextLayer(Pt.contentDiv)}remove(Pt){et(this,ct).removeEditor(Pt),this.detach(Pt),this.annotationStorage.remove(Pt.id),Pt.div.style.display="none",setTimeout(()=>{Pt.div.style.display="",Pt.div.remove(),Pt.isAttachedToDOM=!1,document.activeElement===document.body&&et(this,ct).focusMainContainer()},0),et(this,ot)||this.addInkEditorIfNeeded(!1)}add(Pt){if(pt(this,dt,xt).call(this,Pt),et(this,ct).addEditor(Pt),this.attach(Pt),!Pt.isAttachedToDOM){const It=Pt.render();this.div.append(It),Pt.isAttachedToDOM=!0}this.moveEditorInDOM(Pt),Pt.onceAdded(),this.addToAnnotationStorage(Pt)}moveEditorInDOM(Pt){var It;(It=et(this,ut))===null||It===void 0||It.moveElementInDOM(this.div,Pt.div,Pt.contentDiv,!0)}addToAnnotationStorage(Pt){!Pt.isEmpty()&&!this.annotationStorage.has(Pt.id)&&this.annotationStorage.setValue(Pt.id,Pt)}addOrRebuild(Pt){Pt.needsToBeRebuilt()?Pt.rebuild():this.add(Pt)}addANewEditor(Pt){const It=()=>{this.addOrRebuild(Pt)},vt=()=>{Pt.remove()};this.addCommands({cmd:It,undo:vt,mustExec:!0})}addUndoableEditor(Pt){const It=()=>{this.addOrRebuild(Pt)},vt=()=>{Pt.remove()};this.addCommands({cmd:It,undo:vt,mustExec:!1})}getNextId(){return et(this,ct).getId()}deserialize(Pt){switch(Pt.annotationType){case o.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(Pt,this);case o.AnnotationEditorType.INK:return f.InkEditor.deserialize(Pt,this)}return null}setSelected(Pt){et(this,ct).setSelected(Pt)}toggleSelected(Pt){et(this,ct).toggleSelected(Pt)}isSelected(Pt){return et(this,ct).isSelected(Pt)}unselect(Pt){et(this,ct).unselect(Pt)}pointerup(Pt){const It=s.KeyboardManager.platform.isMac;if(!(Pt.button!==0||Pt.ctrlKey&&It)&&Pt.target===this.div&&!!et(this,k)){if(at(this,k,!1),!et(this,_)){at(this,_,!0);return}pt(this,bt,At).call(this,Pt)}}pointerdown(Pt){const It=s.KeyboardManager.platform.isMac;if(Pt.button!==0||Pt.ctrlKey&&It||Pt.target!==this.div)return;at(this,k,!0);const vt=et(this,ct).getActive();at(this,_,!vt||vt.isEmpty())}drop(Pt){const It=Pt.dataTransfer.getData("text/plain"),vt=et(this,ct).getEditor(It);if(!vt)return;Pt.preventDefault(),Pt.dataTransfer.dropEffect="move",pt(this,dt,xt).call(this,vt);const Wt=this.div.getBoundingClientRect(),jt=Pt.clientX-Wt.x,Rt=Pt.clientY-Wt.y;vt.translate(jt-vt.startX,Rt-vt.startY),this.moveEditorInDOM(vt),vt.div.focus()}dragover(Pt){Pt.preventDefault()}destroy(){var Pt;((Pt=et(this,ct).getActive())===null||Pt===void 0?void 0:Pt.parent)===this&&et(this,ct).setActiveEditor(null);for(const vt of et(this,g).values()){var It;(It=et(this,ut))===null||It===void 0||It.removePointerInTextLayer(vt.contentDiv),vt.isAttachedToDOM=!1,vt.div.remove(),vt.parent=null}this.div=null,et(this,g).clear(),et(this,ct).removeLayer(this)}render(Pt){this.viewport=Pt.viewport,(0,s.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const It of et(this,ct).getEditors(this.pageIndex))this.add(It);this.updateMode()}update(Pt){this.viewport=Pt.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[Pt,It,vt,Wt]=this.viewport.viewBox,jt=vt-Pt,Rt=Wt-It;return[jt,Rt]}get viewportBaseDimensions(){const{width:Pt,height:It,rotation:vt}=this.viewport;return vt%180===0?[Pt,It]:[It,Pt]}setDimensions(){const{width:Pt,height:It,rotation:vt}=this.viewport,Wt=vt%180!==0,jt=Math.floor(Pt)+"px",Rt=Math.floor(It)+"px";this.div.style.width=Wt?Rt:jt,this.div.style.height=Wt?jt:Rt,this.div.setAttribute("data-main-rotation",vt)}}i.AnnotationEditorLayer=_t;function xt(yt){var Pt;yt.parent!==this&&(this.attach(yt),yt.pageIndex=this.pageIndex,(Pt=yt.parent)===null||Pt===void 0||Pt.detach(yt),yt.parent=this,yt.div&&yt.isAttachedToDOM&&(yt.div.remove(),this.div.append(yt.div)))}function wt(yt){switch(et(this,ct).getMode()){case o.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(yt);case o.AnnotationEditorType.INK:return new f.InkEditor(yt)}return null}function At(yt){const Pt=this.getNextId(),It=pt(this,ft,wt).call(this,{parent:this,id:Pt,x:yt.offsetX,y:yt.offsetY});return It&&this.add(It),It}function Et(){at(this,ot,!0);for(const yt of et(this,g).values())yt.isEmpty()&&yt.remove();at(this,ot,!1)}j(_t,"_initialized",!1)},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var s=a(1),o=a(132),c=a(131);function f(At,Et){b(At,Et),Et.add(At)}function d(At,Et,yt){return Et in At?Object.defineProperty(At,Et,{value:yt,enumerable:!0,configurable:!0,writable:!0}):At[Et]=yt,At}function j(At,Et,yt){b(At,Et),Et.set(At,yt)}function b(At,Et){if(Et.has(At))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _e(At,Et){var yt=at(At,Et,"get");return pt(At,yt)}function pt(At,Et){return Et.get?Et.get.call(At):Et.value}function et(At,Et,yt){if(!Et.has(At))throw new TypeError("attempted to get private field on non-instance");return yt}function nt(At,Et,yt){var Pt=at(At,Et,"set");return it(At,Pt,yt),yt}function at(At,Et,yt){if(!Et.has(At))throw new TypeError("attempted to "+yt+" private field on non-instance");return Et.get(At)}function it(At,Et,yt){if(Et.set)Et.set.call(At,yt);else{if(!Et.writable)throw new TypeError("attempted to set read only private field");Et.value=yt}}var rt=new WeakMap,ut=new WeakMap,_=new WeakMap,tt=new WeakMap,$=new WeakMap,g=new WeakMap,k=new WeakMap,ot=new WeakSet,ct=new WeakSet,dt=new WeakSet,ft=new WeakSet;class bt extends c.AnnotationEditor{constructor(Et){super(Br(Nr({},Et),{name:"freeTextEditor"}));f(this,ft),f(this,dt),f(this,ct),f(this,ot),j(this,rt,{writable:!0,value:this.editorDivBlur.bind(this)}),j(this,ut,{writable:!0,value:this.editorDivFocus.bind(this)}),j(this,_,{writable:!0,value:this.editorDivKeydown.bind(this)}),j(this,tt,{writable:!0,value:void 0}),j(this,$,{writable:!0,value:""}),j(this,g,{writable:!0,value:!1}),j(this,k,{writable:!0,value:void 0}),nt(this,tt,Et.color||bt._defaultColor||c.AnnotationEditor._defaultLineColor),nt(this,k,Et.fontSize||bt._defaultFontSize)}static initialize(Et){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(Pt=>[Pt,Et.get(Pt)]));const yt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(yt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Et,yt){switch(Et){case s.AnnotationEditorParamsType.FREETEXT_SIZE:bt._defaultFontSize=yt;break;case s.AnnotationEditorParamsType.FREETEXT_COLOR:bt._defaultColor=yt;break}}updateParams(Et,yt){switch(Et){case s.AnnotationEditorParamsType.FREETEXT_SIZE:et(this,ot,Mt).call(this,yt);break;case s.AnnotationEditorParamsType.FREETEXT_COLOR:et(this,ct,_t).call(this,yt);break}}static get defaultPropertiesToUpdate(){return[[s.AnnotationEditorParamsType.FREETEXT_SIZE,bt._defaultFontSize],[s.AnnotationEditorParamsType.FREETEXT_COLOR,bt._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[s.AnnotationEditorParamsType.FREETEXT_SIZE,_e(this,k)],[s.AnnotationEditorParamsType.FREETEXT_COLOR,_e(this,tt)]]}getInitialTranslation(){return[-bt._internalPadding*this.parent.scaleFactor,-(bt._internalPadding+_e(this,k))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(s.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",_e(this,_)),this.editorDiv.addEventListener("focus",_e(this,ut)),this.editorDiv.addEventListener("blur",_e(this,rt)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_e(this,_)),this.editorDiv.removeEventListener("focus",_e(this,ut)),this.editorDiv.removeEventListener("blur",_e(this,rt)),this.div.focus(),this.isEditing=!1)}focusin(Et){super.focusin(Et),Et.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),_e(this,g)||(nt(this,g,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),nt(this,$,et(this,dt,xt).call(this).trimEnd()),et(this,ft,wt).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Et){this.enableEditMode(),this.editorDiv.focus()}keydown(Et){Et.target===this.div&&Et.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Et){bt._keyboardManager.exec(this,Et)}editorDivFocus(Et){this.isEditing=!0}editorDivBlur(Et){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Et,yt;this.width&&(Et=this.x,yt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),bt._l10nPromise.get("editor_free_text_aria_label").then(It=>{var vt;return(vt=this.editorDiv)===null||vt===void 0?void 0:vt.setAttribute("aria-label",It)}),bt._l10nPromise.get("free_text_default_content").then(It=>{var vt;return(vt=this.editorDiv)===null||vt===void 0?void 0:vt.setAttribute("default-content",It)}),this.editorDiv.contentEditable=!0;const{style:Pt}=this.editorDiv;if(Pt.fontSize=`calc(${_e(this,k)}px * var(--scale-factor))`,Pt.color=_e(this,tt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[It,vt]=this.parent.viewportBaseDimensions;this.setAt(Et*It,yt*vt,this.width*It,this.height*vt);for(const Wt of _e(this,$).split(`
`)){const jt=document.createElement("div");jt.append(Wt?document.createTextNode(Wt):document.createElement("br")),this.editorDiv.append(jt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Et,yt){const Pt=super.deserialize(Et,yt);return nt(Pt,k,Et.fontSize),nt(Pt,tt,s.Util.makeHexColor(...Et.color)),nt(Pt,$,Et.value),Pt}serialize(){if(this.isEmpty())return null;const Et=bt._internalPadding*this.parent.scaleFactor,yt=this.getRect(Et,Et),Pt=c.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:s.AnnotationEditorType.FREETEXT,color:Pt,fontSize:_e(this,k),value:_e(this,$),pageIndex:this.parent.pageIndex,rect:yt,rotation:this.rotation}}}i.FreeTextEditor=bt;function Mt(At){const Et=Pt=>{this.editorDiv.style.fontSize=`calc(${Pt}px * var(--scale-factor))`,this.translate(0,-(Pt-_e(this,k))*this.parent.scaleFactor),nt(this,k,Pt),et(this,ft,wt).call(this)},yt=_e(this,k);this.parent.addCommands({cmd:()=>{Et(At)},undo:()=>{Et(yt)},mustExec:!0,type:s.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function _t(At){const Et=_e(this,tt);this.parent.addCommands({cmd:()=>{nt(this,tt,At),this.editorDiv.style.color=At},undo:()=>{nt(this,tt,Et),this.editorDiv.style.color=Et},mustExec:!0,type:s.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function xt(){const At=this.editorDiv.getElementsByTagName("div");if(At.length===0)return this.editorDiv.innerText;const Et=[];for(let yt=0,Pt=At.length;yt<Pt;yt++){const vt=At[yt].firstChild;(vt==null?void 0:vt.nodeName)==="#text"?Et.push(vt.data):Et.push("")}return Et.join(`
`)}function wt(){const[At,Et]=this.parent.viewportBaseDimensions,yt=this.div.getBoundingClientRect();this.width=yt.width/At,this.height=yt.height/Et}d(bt,"_freeTextDefaultContent",""),d(bt,"_l10nPromise",void 0),d(bt,"_internalPadding",0),d(bt,"_defaultColor",null),d(bt,"_defaultFontSize",10),d(bt,"_keyboardManager",new o.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],bt.prototype.commitOrRemove]])),d(bt,"_type","freetext")},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0,Object.defineProperty(i,"fitCurve",{enumerable:!0,get:function(){return c.fitCurve}});var s=a(1),o=a(131),c=a(150),f=a(132);function d(Gt,zt){_e(Gt,zt),zt.add(Gt)}function j(Gt,zt,tn){return zt in Gt?Object.defineProperty(Gt,zt,{value:tn,enumerable:!0,configurable:!0,writable:!0}):Gt[zt]=tn,Gt}function b(Gt,zt,tn){_e(Gt,zt),zt.set(Gt,tn)}function _e(Gt,zt){if(zt.has(Gt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pt(Gt,zt,tn){return et(Gt,zt),tn}function et(Gt,zt){if(Gt!==zt)throw new TypeError("Private static access of wrong provenance")}function nt(Gt,zt,tn){var cn=rt(Gt,zt,"set");return at(Gt,cn,tn),tn}function at(Gt,zt,tn){if(zt.set)zt.set.call(Gt,tn);else{if(!zt.writable)throw new TypeError("attempted to set read only private field");zt.value=tn}}function it(Gt,zt){var tn=rt(Gt,zt,"get");return ut(Gt,tn)}function rt(Gt,zt,tn){if(!zt.has(Gt))throw new TypeError("attempted to "+tn+" private field on non-instance");return zt.get(Gt)}function ut(Gt,zt){return zt.get?zt.get.call(Gt):zt.value}function _(Gt,zt,tn){if(!zt.has(Gt))throw new TypeError("attempted to get private field on non-instance");return tn}const tt=16;var $=new WeakMap,g=new WeakMap,k=new WeakMap,ot=new WeakMap,ct=new WeakMap,dt=new WeakMap,ft=new WeakMap,bt=new WeakMap,Mt=new WeakMap,_t=new WeakMap,xt=new WeakMap,wt=new WeakMap,At=new WeakMap,Et=new WeakMap,yt=new WeakSet,Pt=new WeakSet,It=new WeakSet,vt=new WeakSet,Wt=new WeakSet,jt=new WeakSet,Rt=new WeakSet,ht=new WeakSet,gt=new WeakSet,Ot=new WeakSet,Ft=new WeakSet,lt=new WeakSet,mt=new WeakSet,St=new WeakSet,Ct=new WeakSet,Dt=new WeakSet,Lt=new WeakSet,$t=new WeakSet,Xt=new WeakSet,Zt=new WeakSet,Jt=new WeakSet,Qt=new WeakSet;class en extends o.AnnotationEditor{constructor(zt){super(Br(Nr({},zt),{name:"inkEditor"}));d(this,Qt),d(this,Jt),d(this,Zt),d(this,Xt),d(this,$t),d(this,Lt),d(this,Dt),d(this,Ct),d(this,St),d(this,mt),d(this,lt),d(this,Ft),d(this,Ot),d(this,gt),d(this,ht),d(this,Rt),d(this,jt),d(this,Wt),d(this,vt),d(this,It),d(this,Pt),d(this,yt),b(this,$,{writable:!0,value:0}),b(this,g,{writable:!0,value:0}),b(this,k,{writable:!0,value:0}),b(this,ot,{writable:!0,value:this.canvasPointermove.bind(this)}),b(this,ct,{writable:!0,value:this.canvasPointerleave.bind(this)}),b(this,dt,{writable:!0,value:this.canvasPointerup.bind(this)}),b(this,ft,{writable:!0,value:this.canvasPointerdown.bind(this)}),b(this,bt,{writable:!0,value:!1}),b(this,Mt,{writable:!0,value:!1}),b(this,_t,{writable:!0,value:null}),b(this,xt,{writable:!0,value:null}),b(this,wt,{writable:!0,value:0}),b(this,At,{writable:!0,value:0}),b(this,Et,{writable:!0,value:null}),this.color=zt.color||null,this.thickness=zt.thickness||null,this.opacity=zt.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(zt){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(tn=>[tn,zt.get(tn)]))}static updateDefaultParams(zt,tn){switch(zt){case s.AnnotationEditorParamsType.INK_THICKNESS:en._defaultThickness=tn;break;case s.AnnotationEditorParamsType.INK_COLOR:en._defaultColor=tn;break;case s.AnnotationEditorParamsType.INK_OPACITY:en._defaultOpacity=tn/100;break}}updateParams(zt,tn){switch(zt){case s.AnnotationEditorParamsType.INK_THICKNESS:_(this,yt,un).call(this,tn);break;case s.AnnotationEditorParamsType.INK_COLOR:_(this,Pt,gn).call(this,tn);break;case s.AnnotationEditorParamsType.INK_OPACITY:_(this,It,yn).call(this,tn);break}}static get defaultPropertiesToUpdate(){return[[s.AnnotationEditorParamsType.INK_THICKNESS,en._defaultThickness],[s.AnnotationEditorParamsType.INK_COLOR,en._defaultColor||o.AnnotationEditor._defaultLineColor],[s.AnnotationEditorParamsType.INK_OPACITY,Math.round(en._defaultOpacity*100)]]}get propertiesToUpdate(){var zt;return[[s.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||en._defaultThickness],[s.AnnotationEditorParamsType.INK_COLOR,this.color||en._defaultColor||o.AnnotationEditor._defaultLineColor],[s.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((zt=this.opacity)!==null&&zt!==void 0?zt:en._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(_(this,Ft,Nt).call(this),_(this,lt,kt).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,mt,Vt).call(this)),_(this,Jt,nn).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,it(this,xt).disconnect(),nt(this,xt,null),super.remove())}enableEditMode(){it(this,bt)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",it(this,ft)),this.canvas.addEventListener("pointerup",it(this,dt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",it(this,ft)),this.canvas.removeEventListener("pointerup",it(this,dt)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){it(this,bt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),nt(this,bt,!0),this.div.classList.add("disabled"),_(this,Jt,nn).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(zt){super.focusin(zt),this.enableEditMode()}canvasPointerdown(zt){zt.button!==0||!this.isInEditMode()||it(this,bt)||(this.setInForeground(),zt.type!=="mouse"&&this.div.focus(),zt.stopPropagation(),this.canvas.addEventListener("pointerleave",it(this,ct)),this.canvas.addEventListener("pointermove",it(this,ot)),_(this,jt,qt).call(this,zt.offsetX,zt.offsetY))}canvasPointermove(zt){zt.stopPropagation(),_(this,Rt,dn).call(this,zt.offsetX,zt.offsetY)}canvasPointerup(zt){zt.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(zt.stopPropagation(),_(this,Ot,hn).call(this,zt),this.setInBackground())}canvasPointerleave(zt){_(this,Ot,hn).call(this,zt),this.setInBackground()}render(){if(this.div)return this.div;let zt,tn;this.width&&(zt=this.x,tn=this.y),super.render(),en._l10nPromise.get("editor_ink_aria_label").then(En=>{var wn;return(wn=this.div)===null||wn===void 0?void 0:wn.setAttribute("aria-label",En)});const[cn,_n,Pn,Cn]=_(this,vt,vn).call(this);if(this.setAt(cn,_n,0,0),this.setDims(Pn,Cn),_(this,Ft,Nt).call(this),this.width){const[En,wn]=this.parent.viewportBaseDimensions;this.setAt(zt*En,tn*wn,this.width*En,this.height*wn),nt(this,Mt,!0),_(this,mt,Vt).call(this),this.setDims(this.width*En,this.height*wn),_(this,gt,mn).call(this),_(this,Qt,sn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,lt,kt).call(this),this.div}setDimensions(zt,tn){const cn=Math.round(zt),_n=Math.round(tn);if(it(this,wt)===cn&&it(this,At)===_n)return;nt(this,wt,cn),nt(this,At,_n),this.canvas.style.visibility="hidden",it(this,$)&&Math.abs(it(this,$)-zt/tn)>.01&&(tn=Math.ceil(zt/it(this,$)),this.setDims(zt,tn));const[Pn,Cn]=this.parent.viewportBaseDimensions;this.width=zt/Pn,this.height=tn/Cn,it(this,bt)&&_(this,St,on).call(this,zt,tn),_(this,mt,Vt).call(this),_(this,gt,mn).call(this),this.canvas.style.visibility="visible"}static deserialize(zt,tn){const cn=super.deserialize(zt,tn);cn.thickness=zt.thickness,cn.color=s.Util.makeHexColor(...zt.color),cn.opacity=zt.opacity;const[_n,Pn]=tn.pageDimensions,Cn=cn.width*_n,En=cn.height*Pn,wn=tn.scaleFactor,xn=zt.thickness/2;nt(cn,$,Cn/En),nt(cn,bt,!0),nt(cn,wt,Math.round(Cn)),nt(cn,At,Math.round(En));for(const{bezier:kn}of zt.paths){const Mn=[];cn.paths.push(Mn);let Dn=wn*(kn[0]-xn),Ln=wn*(En-kn[1]-xn);for(let zn=2,Hn=kn.length;zn<Hn;zn+=6){const Zn=wn*(kn[zn]-xn),nr=wn*(En-kn[zn+1]-xn),Xn=wn*(kn[zn+2]-xn),$n=wn*(En-kn[zn+3]-xn),Yn=wn*(kn[zn+4]-xn),qn=wn*(En-kn[zn+5]-xn);Mn.push([[Dn,Ln],[Zn,nr],[Xn,$n],[Yn,qn]]),Dn=Yn,Ln=qn}const Vn=pt(this,en,an).call(this,Mn);cn.bezierPath2D.push(Vn)}const Nn=_(cn,Xt,Ht).call(cn);return nt(cn,k,Math.max(tt,Nn[2]-Nn[0])),nt(cn,g,Math.max(tt,Nn[3]-Nn[1])),_(cn,St,on).call(cn,Cn,En),cn}serialize(){if(this.isEmpty())return null;const zt=this.getRect(0,0),tn=this.rotation%180===0?zt[3]-zt[1]:zt[2]-zt[0],cn=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:s.AnnotationEditorType.INK,color:cn,thickness:this.thickness,opacity:this.opacity,paths:_(this,Dt,pn).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,tn),pageIndex:this.parent.pageIndex,rect:zt,rotation:this.rotation}}}i.InkEditor=en;function un(Gt){const zt=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Gt,_(this,Jt,nn).call(this)},undo:()=>{this.thickness=zt,_(this,Jt,nn).call(this)},mustExec:!0,type:s.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function gn(Gt){const zt=this.color;this.parent.addCommands({cmd:()=>{this.color=Gt,_(this,gt,mn).call(this)},undo:()=>{this.color=zt,_(this,gt,mn).call(this)},mustExec:!0,type:s.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function yn(Gt){Gt/=100;const zt=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Gt,_(this,gt,mn).call(this)},undo:()=>{this.opacity=zt,_(this,gt,mn).call(this)},mustExec:!0,type:s.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function vn(){const{width:Gt,height:zt,rotation:tn}=this.parent.viewport;switch(tn){case 90:return[0,Gt,Gt,zt];case 180:return[Gt,zt,Gt,zt];case 270:return[zt,0,Gt,zt];default:return[0,0,Gt,zt]}}function An(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,f.opacityToHex)(this.opacity)}`}function qt(Gt,zt){if(this.isEditing=!0,!it(this,Mt)){var tn;nt(this,Mt,!0),_(this,mt,Vt).call(this),this.thickness||(this.thickness=en._defaultThickness),this.color||(this.color=en._defaultColor||o.AnnotationEditor._defaultLineColor),(tn=this.opacity)!==null&&tn!==void 0||(this.opacity=en._defaultOpacity)}this.currentPath.push([Gt,zt]),nt(this,_t,null),_(this,Wt,An).call(this),this.ctx.beginPath(),this.ctx.moveTo(Gt,zt),nt(this,Et,()=>{!it(this,Et)||(it(this,_t)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):_(this,gt,mn).call(this),this.ctx.lineTo(...it(this,_t)),nt(this,_t,null),this.ctx.stroke()),window.requestAnimationFrame(it(this,Et)))}),window.requestAnimationFrame(it(this,Et))}function dn(Gt,zt){const[tn,cn]=this.currentPath.at(-1);Gt===tn&&zt===cn||(this.currentPath.push([Gt,zt]),nt(this,_t,[Gt,zt]))}function Sn(Gt,zt){this.ctx.closePath(),nt(this,Et,null),Gt=Math.min(Math.max(Gt,0),this.canvas.width),zt=Math.min(Math.max(zt,0),this.canvas.height);const[tn,cn]=this.currentPath.at(-1);(Gt!==tn||zt!==cn)&&this.currentPath.push([Gt,zt]);let _n;if(this.currentPath.length!==1)_n=(0,c.fitCurve)(this.currentPath,30,null);else{const wn=[Gt,zt];_n=[[wn,wn.slice(),wn.slice(),wn]]}const Pn=pt(en,en,an).call(en,_n);this.currentPath.length=0;const Cn=()=>{this.paths.push(_n),this.bezierPath2D.push(Pn),this.rebuild()},En=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,Ft,Nt).call(this),_(this,lt,kt).call(this)),_(this,Jt,nn).call(this))};this.parent.addCommands({cmd:Cn,undo:En,mustExec:!0})}function mn(){if(this.isEmpty()){_(this,Ct,Kt).call(this);return}_(this,Wt,An).call(this);const{canvas:Gt,ctx:zt}=this;zt.setTransform(1,0,0,1,0,0),zt.clearRect(0,0,Gt.width,Gt.height),_(this,Ct,Kt).call(this);for(const tn of this.bezierPath2D)zt.stroke(tn)}function hn(Gt){_(this,ht,Sn).call(this,Gt.offsetX,Gt.offsetY),this.canvas.removeEventListener("pointerleave",it(this,ct)),this.canvas.removeEventListener("pointermove",it(this,ot)),this.parent.addToAnnotationStorage(this)}function Nt(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",en._l10nPromise.get("editor_ink_canvas_aria_label").then(Gt=>{var zt;return(zt=this.canvas)===null||zt===void 0?void 0:zt.setAttribute("aria-label",Gt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function kt(){nt(this,xt,new ResizeObserver(Gt=>{const zt=Gt[0].contentRect;zt.width&&zt.height&&this.setDimensions(zt.width,zt.height)})),it(this,xt).observe(this.div)}function Vt(){if(!it(this,Mt))return;const[Gt,zt]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Gt),this.canvas.height=Math.ceil(this.height*zt),_(this,Ct,Kt).call(this)}function on(Gt,zt){const tn=_(this,Zt,ln).call(this),cn=(Gt-tn)/it(this,k),_n=(zt-tn)/it(this,g);this.scaleFactor=Math.min(cn,_n)}function Kt(){const Gt=_(this,Zt,ln).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Gt,this.translationY*this.scaleFactor+Gt)}function an(Gt){const zt=new Path2D;for(let tn=0,cn=Gt.length;tn<cn;tn++){const[_n,Pn,Cn,En]=Gt[tn];tn===0&&zt.moveTo(..._n),zt.bezierCurveTo(Pn[0],Pn[1],Cn[0],Cn[1],En[0],En[1])}return zt}function pn(Gt,zt,tn,cn){const Pn=[],Cn=this.thickness/2;let En,wn;for(const xn of this.paths){En=[],wn=[];for(let Nn=0,kn=xn.length;Nn<kn;Nn++){const[Mn,Dn,Ln,Vn]=xn[Nn],zn=Gt*(Mn[0]+zt)+Cn,Hn=cn-Gt*(Mn[1]+tn)-Cn,Zn=Gt*(Dn[0]+zt)+Cn,nr=cn-Gt*(Dn[1]+tn)-Cn,Xn=Gt*(Ln[0]+zt)+Cn,$n=cn-Gt*(Ln[1]+tn)-Cn,Yn=Gt*(Vn[0]+zt)+Cn,qn=cn-Gt*(Vn[1]+tn)-Cn;Nn===0&&(En.push(zn,Hn),wn.push(zn,Hn)),En.push(Zn,nr,Xn,$n,Yn,qn),_(this,Lt,Yt).call(this,zn,Hn,Zn,nr,Xn,$n,Yn,qn,4,wn)}Pn.push({bezier:En,points:wn})}return Pn}function Yt(Gt,zt,tn,cn,_n,Pn,Cn,En,wn,xn){if(_(this,$t,Bt).call(this,Gt,zt,tn,cn,_n,Pn,Cn,En)){xn.push(Cn,En);return}for(let Nn=1;Nn<wn-1;Nn++){const kn=Nn/wn,Mn=1-kn;let Dn=kn*Gt+Mn*tn,Ln=kn*zt+Mn*cn,Vn=kn*tn+Mn*_n,zn=kn*cn+Mn*Pn;const Hn=kn*_n+Mn*Cn,Zn=kn*Pn+Mn*En;Dn=kn*Dn+Mn*Vn,Ln=kn*Ln+Mn*zn,Vn=kn*Vn+Mn*Hn,zn=kn*zn+Mn*Zn,Dn=kn*Dn+Mn*Vn,Ln=kn*Ln+Mn*zn,xn.push(Dn,Ln)}xn.push(Cn,En)}function Bt(Gt,zt,tn,cn,_n,Pn,Cn,En){const xn=(3*tn-2*Gt-Cn)**2,Nn=(3*cn-2*zt-En)**2,kn=(3*_n-Gt-2*Cn)**2,Mn=(3*Pn-zt-2*En)**2;return Math.max(xn,kn)+Math.max(Nn,Mn)<=10}function Ht(){let Gt=1/0,zt=-1/0,tn=1/0,cn=-1/0;for(const _n of this.paths)for(const[Pn,Cn,En,wn]of _n){const xn=s.Util.bezierBoundingBox(...Pn,...Cn,...En,...wn);Gt=Math.min(Gt,xn[0]),tn=Math.min(tn,xn[1]),zt=Math.max(zt,xn[2]),cn=Math.max(cn,xn[3])}return[Gt,tn,zt,cn]}function ln(){return it(this,bt)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function nn(){let Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!it(this,bt)){_(this,gt,mn).call(this);return}const zt=_(this,Xt,Ht).call(this),tn=_(this,Zt,ln).call(this);nt(this,k,Math.max(tt,zt[2]-zt[0])),nt(this,g,Math.max(tt,zt[3]-zt[1]));const cn=Math.ceil(tn+it(this,k)*this.scaleFactor),_n=Math.ceil(tn+it(this,g)*this.scaleFactor),[Pn,Cn]=this.parent.viewportBaseDimensions;this.width=cn/Pn,this.height=_n/Cn,nt(this,$,cn/_n),_(this,Qt,sn).call(this);const En=this.translationX,wn=this.translationY;this.translationX=-zt[0],this.translationY=-zt[1],_(this,mt,Vt).call(this),_(this,gt,mn).call(this),nt(this,wt,cn),nt(this,At,_n),this.setDims(cn,_n);const xn=Gt?tn/this.scaleFactor/2:0;this.translate(En-this.translationX-xn,wn-this.translationY-xn)}function sn(){const{style:Gt}=this.div;it(this,$)>=1?(Gt.minHeight=`${tt}px`,Gt.minWidth=`${Math.round(it(this,$)*tt)}px`):(Gt.minWidth=`${tt}px`,Gt.minHeight=`${Math.round(tt/it(this,$))}px`)}j(en,"_defaultColor",null),j(en,"_defaultOpacity",1),j(en,"_defaultThickness",1),j(en,"_l10nPromise",void 0),j(en,"_type","ink")},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.fitCurve=void 0;const s=a(151);i.fitCurve=s},e=>{function i(at,it,rt){if(!Array.isArray(at))throw new TypeError("First argument should be an array");if(at.forEach($=>{if(!Array.isArray($)||$.some(g=>typeof g!="number")||$.length!==at[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),at=at.filter(($,g)=>g===0||!$.every((k,ot)=>k===at[g-1][ot])),at.length<2)return[];const ut=at.length,_=pt(at[1],at[0]),tt=pt(at[ut-2],at[ut-1]);return a(at,_,tt,it,rt)}function a(at,it,rt,ut,_){var $,g,k,ot,ct,dt,ft,bt,Mt,_t,xt,wt,At;if(at.length===2)return wt=et.vectorLen(et.subtract(at[0],at[1]))/3,$=[at[0],et.addArrays(at[0],et.mulItems(it,wt)),et.addArrays(at[1],et.mulItems(rt,wt)),at[1]],[$];if(g=d(at),[$,ot,dt]=s(at,g,g,it,rt,_),ot===0||ot<ut)return[$];if(ot<ut*ut)for(k=g,ct=ot,ft=dt,At=0;At<20;At++){if(k=c($,at,k),[$,ot,dt]=s(at,g,k,it,rt,_),ot<ut)return[$];if(dt===ft){let Et=ot/ct;if(Et>.9999&&Et<1.0001)break}ct=ot,ft=dt}return xt=[],bt=et.subtract(at[dt-1],at[dt+1]),bt.every(Et=>Et===0)&&(bt=et.subtract(at[dt-1],at[dt]),[bt[0],bt[1]]=[-bt[1],bt[0]]),Mt=et.normalize(bt),_t=et.mulItems(Mt,-1),xt=xt.concat(a(at.slice(0,dt+1),it,Mt,ut,_)),xt=xt.concat(a(at.slice(dt),_t,rt,ut,_)),xt}function s(at,it,rt,ut,_,tt){var $,g,k;return $=o(at,rt,ut,_),[g,k]=j(at,$,it),tt&&tt({bez:$,points:at,params:it,maxErr:g,maxPoint:k}),[$,g,k]}function o(at,it,rt,ut){var _,tt,$,g,k,ot,ct,dt,ft,bt,Mt,_t,xt,wt,At,Et,yt,Pt=at[0],It=at[at.length-1];for(_=[Pt,null,null,It],tt=et.zeros_Xx2x2(it.length),xt=0,wt=it.length;xt<wt;xt++)Et=it[xt],yt=1-Et,$=tt[xt],$[0]=et.mulItems(rt,3*Et*(yt*yt)),$[1]=et.mulItems(ut,3*yt*(Et*Et));for(g=[[0,0],[0,0]],k=[0,0],xt=0,wt=at.length;xt<wt;xt++)Et=it[xt],$=tt[xt],g[0][0]+=et.dot($[0],$[0]),g[0][1]+=et.dot($[0],$[1]),g[1][0]+=et.dot($[0],$[1]),g[1][1]+=et.dot($[1],$[1]),At=et.subtract(at[xt],nt.q([Pt,Pt,It,It],Et)),k[0]+=et.dot($[0],At),k[1]+=et.dot($[1],At);return ot=g[0][0]*g[1][1]-g[1][0]*g[0][1],ct=g[0][0]*k[1]-g[1][0]*k[0],dt=k[0]*g[1][1]-k[1]*g[0][1],ft=ot===0?0:dt/ot,bt=ot===0?0:ct/ot,_t=et.vectorLen(et.subtract(Pt,It)),Mt=1e-6*_t,ft<Mt||bt<Mt?(_[1]=et.addArrays(Pt,et.mulItems(rt,_t/3)),_[2]=et.addArrays(It,et.mulItems(ut,_t/3))):(_[1]=et.addArrays(Pt,et.mulItems(rt,ft)),_[2]=et.addArrays(It,et.mulItems(ut,bt))),_}function c(at,it,rt){return rt.map((ut,_)=>f(at,it[_],ut))}function f(at,it,rt){var ut=et.subtract(nt.q(at,rt),it),_=nt.qprime(at,rt),tt=et.mulMatrix(ut,_),$=et.sum(et.squareItems(_))+2*et.mulMatrix(ut,nt.qprimeprime(at,rt));return $===0?rt:rt-tt/$}function d(at){var it=[],rt,ut,_;return at.forEach((tt,$)=>{rt=$?ut+et.vectorLen(et.subtract(tt,_)):0,it.push(rt),ut=rt,_=tt}),it=it.map(tt=>tt/ut),it}function j(at,it,rt){var ut,_,tt,$,g,k,ot,ct;_=0,tt=Math.floor(at.length/2);const dt=b(it,10);for(g=0,k=at.length;g<k;g++)ot=at[g],ct=_e(it,rt[g],dt,10),$=et.subtract(nt.q(it,ct),ot),ut=$[0]*$[0]+$[1]*$[1],ut>_&&(_=ut,tt=g);return[_,tt]}var b=function(at,it){for(var rt,ut=[0],_=at[0],tt=0,$=1;$<=it;$++)rt=nt.q(at,$/it),tt+=et.vectorLen(et.subtract(rt,_)),ut.push(tt),_=rt;return ut=ut.map(g=>g/tt),ut};function _e(at,it,rt,ut){if(it<0)return 0;if(it>1)return 1;for(var _,tt,$,g,k,ot=1;ot<=ut;ot++)if(it<=rt[ot]){g=(ot-1)/ut,$=ot/ut,tt=rt[ot-1],_=rt[ot],k=(it-tt)/(_-tt)*($-g)+g;break}return k}function pt(at,it){return et.normalize(et.subtract(at,it))}class et{static zeros_Xx2x2(it){for(var rt=[];it--;)rt.push([0,0]);return rt}static mulItems(it,rt){return it.map(ut=>ut*rt)}static mulMatrix(it,rt){return it.reduce((ut,_,tt)=>ut+_*rt[tt],0)}static subtract(it,rt){return it.map((ut,_)=>ut-rt[_])}static addArrays(it,rt){return it.map((ut,_)=>ut+rt[_])}static addItems(it,rt){return it.map(ut=>ut+rt)}static sum(it){return it.reduce((rt,ut)=>rt+ut)}static dot(it,rt){return et.mulMatrix(it,rt)}static vectorLen(it){return Math.hypot(...it)}static divItems(it,rt){return it.map(ut=>ut/rt)}static squareItems(it){return it.map(rt=>rt*rt)}static normalize(it){return this.divItems(it,this.vectorLen(it))}}class nt{static q(it,rt){var ut=1-rt,_=et.mulItems(it[0],ut*ut*ut),tt=et.mulItems(it[1],3*ut*ut*rt),$=et.mulItems(it[2],3*ut*rt*rt),g=et.mulItems(it[3],rt*rt*rt);return et.addArrays(et.addArrays(_,tt),et.addArrays($,g))}static qprime(it,rt){var ut=1-rt,_=et.mulItems(et.subtract(it[1],it[0]),3*ut*ut),tt=et.mulItems(et.subtract(it[2],it[1]),6*ut*rt),$=et.mulItems(et.subtract(it[3],it[2]),3*rt*rt);return et.addArrays(et.addArrays(_,tt),$)}static qprimeprime(it,rt){return et.addArrays(et.mulItems(et.addArrays(et.subtract(it[2],et.mulItems(it[1],2)),it[0]),6*(1-rt)),et.mulItems(et.addArrays(et.subtract(it[3],et.mulItems(it[2],2)),it[1]),6*rt))}}e.exports=i,e.exports.fitCubic=a,e.exports.createTangent=pt},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationLayer=void 0;var s=a(1),o=a(133),c=a(130),f=a(153),d=a(154);function j(Ft,lt,mt){return b(Ft,lt),mt}function b(Ft,lt){if(Ft!==lt)throw new TypeError("Private static access of wrong provenance")}const _e=1e3,pt=9,et=new WeakSet;function nt(Ft){return{width:Ft[2]-Ft[0],height:Ft[3]-Ft[1]}}class at{static create(lt){switch(lt.data.annotationType){case s.AnnotationType.LINK:return new rt(lt);case s.AnnotationType.TEXT:return new ut(lt);case s.AnnotationType.WIDGET:switch(lt.data.fieldType){case"Tx":return new tt(lt);case"Btn":return lt.data.radioButton?new g(lt):lt.data.checkBox?new $(lt):new k(lt);case"Ch":return new ot(lt)}return new _(lt);case s.AnnotationType.POPUP:return new ct(lt);case s.AnnotationType.FREETEXT:return new ft(lt);case s.AnnotationType.LINE:return new bt(lt);case s.AnnotationType.SQUARE:return new Mt(lt);case s.AnnotationType.CIRCLE:return new _t(lt);case s.AnnotationType.POLYLINE:return new xt(lt);case s.AnnotationType.CARET:return new At(lt);case s.AnnotationType.INK:return new Et(lt);case s.AnnotationType.POLYGON:return new wt(lt);case s.AnnotationType.HIGHLIGHT:return new yt(lt);case s.AnnotationType.UNDERLINE:return new Pt(lt);case s.AnnotationType.SQUIGGLY:return new It(lt);case s.AnnotationType.STRIKEOUT:return new vt(lt);case s.AnnotationType.STAMP:return new Wt(lt);case s.AnnotationType.FILEATTACHMENT:return new jt(lt);default:return new it(lt)}}}class it{constructor(lt){let{isRenderable:mt=!1,ignoreBorder:St=!1,createQuadrilaterals:Ct=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=mt,this.data=lt.data,this.layer=lt.layer,this.page=lt.page,this.viewport=lt.viewport,this.linkService=lt.linkService,this.downloadManager=lt.downloadManager,this.imageResourcesPath=lt.imageResourcesPath,this.renderForms=lt.renderForms,this.svgFactory=lt.svgFactory,this.annotationStorage=lt.annotationStorage,this.enableScripting=lt.enableScripting,this.hasJSActions=lt.hasJSActions,this._fieldObjects=lt.fieldObjects,this._mouseState=lt.mouseState,mt&&(this.container=this._createContainer(St)),Ct&&(this.quadrilaterals=this._createQuadrilaterals(St))}_createContainer(){let lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const mt=this.data,St=this.page,Ct=this.viewport,Dt=document.createElement("section"),{width:Lt,height:$t}=nt(mt.rect),[Xt,Zt,Jt,Qt]=Ct.viewBox,en=Jt-Xt,un=Qt-Zt;Dt.setAttribute("data-annotation-id",mt.id);const gn=s.Util.normalizeRect([mt.rect[0],St.view[3]-mt.rect[1]+St.view[1],mt.rect[2],St.view[3]-mt.rect[3]+St.view[1]]);if(!lt&&mt.borderStyle.width>0){Dt.style.borderWidth=`${mt.borderStyle.width}px`;const vn=mt.borderStyle.horizontalCornerRadius,An=mt.borderStyle.verticalCornerRadius;if(vn>0||An>0){const dn=`calc(${vn}px * var(--scale-factor)) / calc(${An}px * var(--scale-factor))`;Dt.style.borderRadius=dn}else if(this instanceof g){const dn=`calc(${Lt}px * var(--scale-factor)) / calc(${$t}px * var(--scale-factor))`;Dt.style.borderRadius=dn}switch(mt.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:Dt.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:Dt.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:Dt.style.borderBottomStyle="solid";break}const qt=mt.borderColor||null;qt?Dt.style.borderColor=s.Util.makeHexColor(qt[0]|0,qt[1]|0,qt[2]|0):Dt.style.borderWidth=0}Dt.style.left=`${100*(gn[0]-Xt)/en}%`,Dt.style.top=`${100*(gn[1]-Zt)/un}%`;const{rotation:yn}=mt;return mt.hasOwnCanvas||yn===0?(Dt.style.width=`${100*Lt/en}%`,Dt.style.height=`${100*$t/un}%`):this.setRotation(yn,Dt),Dt}setRotation(lt){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;const[St,Ct,Dt,Lt]=this.viewport.viewBox,$t=Dt-St,Xt=Lt-Ct,{width:Zt,height:Jt}=nt(this.data.rect);let Qt,en;lt%180===0?(Qt=100*Zt/$t,en=100*Jt/Xt):(Qt=100*Jt/$t,en=100*Zt/Xt),mt.style.width=`${Qt}%`,mt.style.height=`${en}%`,mt.setAttribute("data-main-rotation",(360-lt)%360)}get _commonActions(){const lt=(mt,St,Ct)=>{const Dt=Ct.detail[mt];Ct.target.style[St]=f.ColorConverters[`${Dt[0]}_HTML`](Dt.slice(1))};return(0,s.shadow)(this,"_commonActions",{display:mt=>{const St=mt.detail.display%2===1;this.container.style.visibility=St?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:St,print:mt.detail.display===0||mt.detail.display===3})},print:mt=>{this.annotationStorage.setValue(this.data.id,{print:mt.detail.print})},hidden:mt=>{this.container.style.visibility=mt.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:mt.detail.hidden})},focus:mt=>{setTimeout(()=>mt.target.focus({preventScroll:!1}),0)},userName:mt=>{mt.target.title=mt.detail.userName},readonly:mt=>{mt.detail.readonly?mt.target.setAttribute("readonly",""):mt.target.removeAttribute("readonly")},required:mt=>{this._setRequired(mt.target,mt.detail.required)},bgColor:mt=>{lt("bgColor","backgroundColor",mt)},fillColor:mt=>{lt("fillColor","backgroundColor",mt)},fgColor:mt=>{lt("fgColor","color",mt)},textColor:mt=>{lt("textColor","color",mt)},borderColor:mt=>{lt("borderColor","borderColor",mt)},strokeColor:mt=>{lt("strokeColor","borderColor",mt)},rotation:mt=>{const St=mt.detail.rotation;this.setRotation(St),this.annotationStorage.setValue(this.data.id,{rotation:St})}})}_dispatchEventFromSandbox(lt,mt){const St=this._commonActions;for(const Ct of Object.keys(mt.detail)){const Dt=lt[Ct]||St[Ct];Dt&&Dt(mt)}}_setDefaultPropertiesFromJS(lt){if(!this.enableScripting)return;const mt=this.annotationStorage.getRawValue(this.data.id);if(!mt)return;const St=this._commonActions;for(const[Ct,Dt]of Object.entries(mt)){const Lt=St[Ct];if(Lt){const $t={detail:{[Ct]:Dt},target:lt};Lt($t),delete mt[Ct]}}}_createQuadrilaterals(){let lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;const mt=[],St=this.data.rect;for(const Ct of this.data.quadPoints)this.data.rect=[Ct[2].x,Ct[2].y,Ct[1].x,Ct[1].y],mt.push(this._createContainer(lt));return this.data.rect=St,mt}_createPopup(lt,mt){let St=this.container;this.quadrilaterals&&(lt=lt||this.quadrilaterals,St=this.quadrilaterals[0]),lt||(lt=document.createElement("div"),lt.className="popupTriggerArea",St.append(lt));const Dt=new dt({container:St,trigger:lt,color:mt.color,titleObj:mt.titleObj,modificationDate:mt.modificationDate,contentsObj:mt.contentsObj,richText:mt.richText,hideWrapper:!0}).render();Dt.style.left="100%",St.append(Dt)}_renderQuadrilaterals(lt){for(const mt of this.quadrilaterals)mt.className=lt;return this.quadrilaterals}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(lt){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const St=[];if(this._fieldObjects){const Ct=this._fieldObjects[lt];if(Ct)for(const{page:Dt,id:Lt,exportValues:$t}of Ct){if(Dt===-1||Lt===mt)continue;const Xt=typeof $t=="string"?$t:null,Zt=document.querySelector(`[data-element-id="${Lt}"]`);if(Zt&&!et.has(Zt)){(0,s.warn)(`_getElementsByName - element not allowed: ${Lt}`);continue}St.push({id:Lt,exportValue:Xt,domElement:Zt})}return St}for(const Ct of document.getElementsByName(lt)){const{id:Dt,exportValue:Lt}=Ct;Dt!==mt&&(!et.has(Ct)||St.push({id:Dt,exportValue:Lt,domElement:Ct}))}return St}static get platform(){const lt=typeof navigator!="undefined"?navigator.platform:"";return(0,s.shadow)(this,"platform",{isWin:lt.includes("Win"),isMac:lt.includes("Mac")})}}class rt extends it{constructor(lt){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(lt,{isRenderable:!0,ignoreBorder:!!(mt!=null&&mt.ignoreBorder),createQuadrilaterals:!0});this.isTooltipOnly=lt.data.isTooltipOnly}render(){const{data:lt,linkService:mt}=this,St=document.createElement("a");St.setAttribute("data-element-id",lt.id);let Ct=!1;return lt.url?(mt.addLinkAttributes(St,lt.url,lt.newWindow),Ct=!0):lt.action?(this._bindNamedAction(St,lt.action),Ct=!0):lt.dest?(this._bindLink(St,lt.dest),Ct=!0):(lt.actions&&(lt.actions.Action||lt.actions["Mouse Up"]||lt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(St,lt),Ct=!0),lt.resetForm?(this._bindResetFormAction(St,lt.resetForm),Ct=!0):this.isTooltipOnly&&!Ct&&(this._bindLink(St,""),Ct=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Dt,Lt)=>{const $t=Lt===0?St:St.cloneNode();return Dt.append($t),Dt}):(this.container.className="linkAnnotation",Ct&&this.container.append(St),this.container)}_bindLink(lt,mt){lt.href=this.linkService.getDestinationHash(mt),lt.onclick=()=>(mt&&this.linkService.goToDestination(mt),!1),(mt||mt==="")&&(lt.className="internalLink")}_bindNamedAction(lt,mt){lt.href=this.linkService.getAnchorUrl(""),lt.onclick=()=>(this.linkService.executeNamedAction(mt),!1),lt.className="internalLink"}_bindJSAction(lt,mt){lt.href=this.linkService.getAnchorUrl("");const St=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Ct of Object.keys(mt.actions)){const Dt=St.get(Ct);!Dt||(lt[Dt]=()=>{var Lt;return(Lt=this.linkService.eventBus)===null||Lt===void 0||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt.id,name:Ct}}),!1})}lt.onclick||(lt.onclick=()=>!1),lt.className="internalLink"}_bindResetFormAction(lt,mt){const St=lt.onclick;if(St||(lt.href=this.linkService.getAnchorUrl("")),lt.className="internalLink",!this._fieldObjects){(0,s.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),St||(lt.onclick=()=>!1);return}lt.onclick=()=>{St&&St();const{fields:Ct,refs:Dt,include:Lt}=mt,$t=[];if(Ct.length!==0||Dt.length!==0){const Qt=new Set(Dt);for(const en of Ct){const un=this._fieldObjects[en]||[];for(const{id:gn}of un)Qt.add(gn)}for(const en of Object.values(this._fieldObjects))for(const un of en)Qt.has(un.id)===Lt&&$t.push(un)}else for(const Qt of Object.values(this._fieldObjects))$t.push(...Qt);const Xt=this.annotationStorage,Zt=[];for(const Qt of $t){const{id:en}=Qt;switch(Zt.push(en),Qt.type){case"text":{const gn=Qt.defaultValue||"";Xt.setValue(en,{value:gn});break}case"checkbox":case"radiobutton":{const gn=Qt.defaultValue===Qt.exportValues;Xt.setValue(en,{value:gn});break}case"combobox":case"listbox":{const gn=Qt.defaultValue||"";Xt.setValue(en,{value:gn});break}default:continue}const un=document.querySelector(`[data-element-id="${en}"]`);if(un){if(!et.has(un)){(0,s.warn)(`_bindResetFormAction - element not allowed: ${en}`);continue}}else continue;un.dispatchEvent(new Event("resetform"))}if(this.enableScripting){var Jt;(Jt=this.linkService.eventBus)===null||Jt===void 0||Jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Zt,name:"ResetForm"}})}return!1}}}class ut extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt})}render(){this.container.className="textAnnotation";const lt=document.createElement("img");return lt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",lt.alt="[{{type}} Annotation]",lt.dataset.l10nId="text_annotation_type",lt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(lt,this.data),this.container.append(lt),this.container}}class _ extends it{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(lt){const{isWin:mt,isMac:St}=it.platform;return mt&&lt.ctrlKey||St&&lt.metaKey}_setEventListener(lt,mt,St,Ct){mt.includes("mouse")?lt.addEventListener(mt,Dt=>{var Lt;(Lt=this.linkService.eventBus)===null||Lt===void 0||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:St,value:Ct(Dt),shift:Dt.shiftKey,modifier:this._getKeyModifier(Dt)}})}):lt.addEventListener(mt,Dt=>{var Lt;(Lt=this.linkService.eventBus)===null||Lt===void 0||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:St,value:Ct(Dt)}})})}_setEventListeners(lt,mt,St){for(const[Dt,Lt]of mt){var Ct;(Lt==="Action"||(Ct=this.data.actions)!==null&&Ct!==void 0&&Ct[Lt])&&this._setEventListener(lt,Dt,Lt,St)}}_setBackgroundColor(lt){const mt=this.data.backgroundColor||null;lt.style.backgroundColor=mt===null?"transparent":s.Util.makeHexColor(mt[0],mt[1],mt[2])}_setTextStyle(lt){const mt=["left","center","right"],{fontColor:St}=this.data.defaultAppearanceData,Ct=this.data.defaultAppearanceData.fontSize||pt,Dt=lt.style;let Lt;if(this.data.multiLine){const $t=Math.abs(this.data.rect[3]-this.data.rect[1]),Xt=Math.round($t/(s.LINE_FACTOR*Ct))||1,Zt=$t/Xt;Lt=Math.min(Ct,Math.round(Zt/s.LINE_FACTOR))}else{const $t=Math.abs(this.data.rect[3]-this.data.rect[1]);Lt=Math.min(Ct,Math.round($t/s.LINE_FACTOR))}Dt.fontSize=`calc(${Lt}px * var(--scale-factor))`,Dt.color=s.Util.makeHexColor(St[0],St[1],St[2]),this.data.textAlignment!==null&&(Dt.textAlign=mt[this.data.textAlignment])}_setRequired(lt,mt){mt?lt.setAttribute("required",!0):lt.removeAttribute("required"),lt.setAttribute("aria-required",mt)}}class tt extends _{constructor(lt){const mt=lt.renderForms||!lt.data.hasAppearance&&!!lt.data.fieldValue;super(lt,{isRenderable:mt})}setPropertyOnSiblings(lt,mt,St,Ct){const Dt=this.annotationStorage;for(const Lt of this._getElementsByName(lt.name,lt.id))Lt.domElement&&(Lt.domElement[mt]=St),Dt.setValue(Lt.id,{[Ct]:St})}render(){const lt=this.annotationStorage,mt=this.data.id;this.container.className="textWidgetAnnotation";let St=null;if(this.renderForms){const Dt=lt.getValue(mt,{value:this.data.fieldValue});let Lt=Dt.formattedValue||Dt.value||"";const $t=lt.getValue(mt,{charLimit:this.data.maxLen}).charLimit;$t&&Lt.length>$t&&(Lt=Lt.slice(0,$t));const Xt={userValue:Lt,formattedValue:null,valueOnFocus:""};this.data.multiLine?(St=document.createElement("textarea"),St.textContent=Lt,this.data.doNotScroll&&(St.style.overflowY="hidden")):(St=document.createElement("input"),St.type="text",St.setAttribute("value",Lt),this.data.doNotScroll&&(St.style.overflowX="hidden")),et.add(St),St.setAttribute("data-element-id",mt),St.disabled=this.data.readOnly,St.name=this.data.fieldName,St.tabIndex=_e,this._setRequired(St,this.data.required),$t&&(St.maxLength=$t),St.addEventListener("input",Jt=>{lt.setValue(mt,{value:Jt.target.value}),this.setPropertyOnSiblings(St,"value",Jt.target.value,"value")}),St.addEventListener("resetform",Jt=>{var Qt;const en=(Qt=this.data.defaultFieldValue)!==null&&Qt!==void 0?Qt:"";St.value=Xt.userValue=en,Xt.formattedValue=null});let Zt=Jt=>{const{formattedValue:Qt}=Xt;Qt!=null&&(Jt.target.value=Qt),Jt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var Ct;St.addEventListener("focus",Qt=>{Xt.userValue&&(Qt.target.value=Xt.userValue),Xt.valueOnFocus=Qt.target.value}),St.addEventListener("updatefromsandbox",Qt=>{const en={value(un){var gn;Xt.userValue=(gn=un.detail.value)!==null&&gn!==void 0?gn:"",lt.setValue(mt,{value:Xt.userValue.toString()}),un.target.value=Xt.userValue},formattedValue(un){const{formattedValue:gn}=un.detail;Xt.formattedValue=gn,gn!=null&&un.target!==document.activeElement&&(un.target.value=gn),lt.setValue(mt,{formattedValue:gn})},selRange(un){un.target.setSelectionRange(...un.detail.selRange)},charLimit:un=>{var gn;const{charLimit:yn}=un.detail,{target:vn}=un;if(yn===0){vn.removeAttribute("maxLength");return}vn.setAttribute("maxLength",yn);let An=Xt.userValue;!An||An.length<=yn||(An=An.slice(0,yn),vn.value=Xt.userValue=An,lt.setValue(mt,{value:An}),(gn=this.linkService.eventBus)===null||gn===void 0||gn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt,name:"Keystroke",value:An,willCommit:!0,commitKey:1,selStart:vn.selectionStart,selEnd:vn.selectionEnd}}))}};this._dispatchEventFromSandbox(en,Qt)}),St.addEventListener("keydown",Qt=>{var en;let un=-1;if(Qt.key==="Escape"?un=0:Qt.key==="Enter"?un=2:Qt.key==="Tab"&&(un=3),un===-1)return;const{value:gn}=Qt.target;Xt.valueOnFocus!==gn&&(Xt.userValue=gn,(en=this.linkService.eventBus)===null||en===void 0||en.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt,name:"Keystroke",value:gn,willCommit:!0,commitKey:un,selStart:Qt.target.selectionStart,selEnd:Qt.target.selectionEnd}}))});const Jt=Zt;Zt=null,St.addEventListener("blur",Qt=>{const{value:en}=Qt.target;if(Xt.userValue=en,this._mouseState.isDown&&Xt.valueOnFocus!==en){var un;(un=this.linkService.eventBus)===null||un===void 0||un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt,name:"Keystroke",value:en,willCommit:!0,commitKey:1,selStart:Qt.target.selectionStart,selEnd:Qt.target.selectionEnd}})}Jt(Qt)}),(Ct=this.data.actions)!==null&&Ct!==void 0&&Ct.Keystroke&&St.addEventListener("beforeinput",Qt=>{var en;const{data:un,target:gn}=Qt,{value:yn,selectionStart:vn,selectionEnd:An}=gn;let qt=vn,dn=An;switch(Qt.inputType){case"deleteWordBackward":{const Sn=yn.substring(0,vn).match(/\w*[^\w]*$/);Sn&&(qt-=Sn[0].length);break}case"deleteWordForward":{const Sn=yn.substring(vn).match(/^[^\w]*\w*/);Sn&&(dn+=Sn[0].length);break}case"deleteContentBackward":vn===An&&(qt-=1);break;case"deleteContentForward":vn===An&&(dn+=1);break}Qt.preventDefault(),(en=this.linkService.eventBus)===null||en===void 0||en.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt,name:"Keystroke",value:yn,change:un||"",willCommit:!1,selStart:qt,selEnd:dn}})}),this._setEventListeners(St,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Qt=>Qt.target.value)}if(Zt&&St.addEventListener("blur",Zt),this.data.comb){const Qt=(this.data.rect[2]-this.data.rect[0])/$t;St.classList.add("comb"),St.style.letterSpacing=`calc(${Qt}px * var(--scale-factor) - 1ch)`}}else St=document.createElement("div"),St.textContent=this.data.fieldValue,St.style.verticalAlign="middle",St.style.display="table-cell";return this._setTextStyle(St),this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class $ extends _{constructor(lt){super(lt,{isRenderable:lt.renderForms})}render(){const lt=this.annotationStorage,mt=this.data,St=mt.id;let Ct=lt.getValue(St,{value:mt.exportValue===mt.fieldValue}).value;typeof Ct=="string"&&(Ct=Ct!=="Off",lt.setValue(St,{value:Ct})),this.container.className="buttonWidgetAnnotation checkBox";const Dt=document.createElement("input");return et.add(Dt),Dt.setAttribute("data-element-id",St),Dt.disabled=mt.readOnly,this._setRequired(Dt,this.data.required),Dt.type="checkbox",Dt.name=mt.fieldName,Ct&&Dt.setAttribute("checked",!0),Dt.setAttribute("exportValue",mt.exportValue),Dt.tabIndex=_e,Dt.addEventListener("change",Lt=>{const{name:$t,checked:Xt}=Lt.target;for(const Zt of this._getElementsByName($t,St)){const Jt=Xt&&Zt.exportValue===mt.exportValue;Zt.domElement&&(Zt.domElement.checked=Jt),lt.setValue(Zt.id,{value:Jt})}lt.setValue(St,{value:Xt})}),Dt.addEventListener("resetform",Lt=>{const $t=mt.defaultFieldValue||"Off";Lt.target.checked=$t===mt.exportValue}),this.enableScripting&&this.hasJSActions&&(Dt.addEventListener("updatefromsandbox",Lt=>{const $t={value(Xt){Xt.target.checked=Xt.detail.value!=="Off",lt.setValue(St,{value:Xt.target.checked})}};this._dispatchEventFromSandbox($t,Lt)}),this._setEventListeners(Dt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Lt=>Lt.target.checked)),this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class g extends _{constructor(lt){super(lt,{isRenderable:lt.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const lt=this.annotationStorage,mt=this.data,St=mt.id;let Ct=lt.getValue(St,{value:mt.fieldValue===mt.buttonValue}).value;typeof Ct=="string"&&(Ct=Ct!==mt.buttonValue,lt.setValue(St,{value:Ct}));const Dt=document.createElement("input");if(et.add(Dt),Dt.setAttribute("data-element-id",St),Dt.disabled=mt.readOnly,this._setRequired(Dt,this.data.required),Dt.type="radio",Dt.name=mt.fieldName,Ct&&Dt.setAttribute("checked",!0),Dt.tabIndex=_e,Dt.addEventListener("change",Lt=>{const{name:$t,checked:Xt}=Lt.target;for(const Zt of this._getElementsByName($t,St))lt.setValue(Zt.id,{value:!1});lt.setValue(St,{value:Xt})}),Dt.addEventListener("resetform",Lt=>{const $t=mt.defaultFieldValue;Lt.target.checked=$t!=null&&$t===mt.buttonValue}),this.enableScripting&&this.hasJSActions){const Lt=mt.buttonValue;Dt.addEventListener("updatefromsandbox",$t=>{const Xt={value:Zt=>{const Jt=Lt===Zt.detail.value;for(const Qt of this._getElementsByName(Zt.target.name)){const en=Jt&&Qt.id===St;Qt.domElement&&(Qt.domElement.checked=en),lt.setValue(Qt.id,{value:en})}}};this._dispatchEventFromSandbox(Xt,$t)}),this._setEventListeners(Dt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$t=>$t.target.checked)}return this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class k extends rt{constructor(lt){super(lt,{ignoreBorder:lt.data.hasAppearance})}render(){const lt=super.render();lt.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(lt.title=this.data.alternativeText);const mt=lt.lastChild;return this.enableScripting&&this.hasJSActions&&mt&&(this._setDefaultPropertiesFromJS(mt),mt.addEventListener("updatefromsandbox",St=>{this._dispatchEventFromSandbox({},St)})),lt}}class ot extends _{constructor(lt){super(lt,{isRenderable:lt.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const lt=this.annotationStorage,mt=this.data.id,St=lt.getValue(mt,{value:this.data.fieldValue}),Ct=document.createElement("select");et.add(Ct),Ct.setAttribute("data-element-id",mt),Ct.disabled=this.data.readOnly,this._setRequired(Ct,this.data.required),Ct.name=this.data.fieldName,Ct.tabIndex=_e;let Dt=this.data.combo&&this.data.options.length>0;this.data.combo||(Ct.size=this.data.options.length,this.data.multiSelect&&(Ct.multiple=!0)),Ct.addEventListener("resetform",Zt=>{const Jt=this.data.defaultFieldValue;for(const Qt of Ct.options)Qt.selected=Qt.value===Jt});for(const Zt of this.data.options){const Jt=document.createElement("option");Jt.textContent=Zt.displayValue,Jt.value=Zt.exportValue,St.value.includes(Zt.exportValue)&&(Jt.setAttribute("selected",!0),Dt=!1),Ct.append(Jt)}let Lt=null;if(Dt){const Zt=document.createElement("option");Zt.value=" ",Zt.setAttribute("hidden",!0),Zt.setAttribute("selected",!0),Ct.prepend(Zt),Lt=()=>{Zt.remove(),Ct.removeEventListener("input",Lt),Lt=null},Ct.addEventListener("input",Lt)}const $t=(Zt,Jt)=>{const Qt=Jt?"value":"textContent",en=Zt.target.options;return Zt.target.multiple?Array.prototype.filter.call(en,un=>un.selected).map(un=>un[Qt]):en.selectedIndex===-1?null:en[en.selectedIndex][Qt]},Xt=Zt=>{const Jt=Zt.target.options;return Array.prototype.map.call(Jt,Qt=>({displayValue:Qt.textContent,exportValue:Qt.value}))};return this.enableScripting&&this.hasJSActions?(Ct.addEventListener("updatefromsandbox",Zt=>{const Jt={value(Qt){var en;(en=Lt)===null||en===void 0||en();const un=Qt.detail.value,gn=new Set(Array.isArray(un)?un:[un]);for(const yn of Ct.options)yn.selected=gn.has(yn.value);lt.setValue(mt,{value:$t(Qt,!0)})},multipleSelection(Qt){Ct.multiple=!0},remove(Qt){const en=Ct.options,un=Qt.detail.remove;en[un].selected=!1,Ct.remove(un),en.length>0&&Array.prototype.findIndex.call(en,yn=>yn.selected)===-1&&(en[0].selected=!0),lt.setValue(mt,{value:$t(Qt,!0),items:Xt(Qt)})},clear(Qt){for(;Ct.length!==0;)Ct.remove(0);lt.setValue(mt,{value:null,items:[]})},insert(Qt){const{index:en,displayValue:un,exportValue:gn}=Qt.detail.insert,yn=Ct.children[en],vn=document.createElement("option");vn.textContent=un,vn.value=gn,yn?yn.before(vn):Ct.append(vn),lt.setValue(mt,{value:$t(Qt,!0),items:Xt(Qt)})},items(Qt){const{items:en}=Qt.detail;for(;Ct.length!==0;)Ct.remove(0);for(const un of en){const{displayValue:gn,exportValue:yn}=un,vn=document.createElement("option");vn.textContent=gn,vn.value=yn,Ct.append(vn)}Ct.options.length>0&&(Ct.options[0].selected=!0),lt.setValue(mt,{value:$t(Qt,!0),items:Xt(Qt)})},indices(Qt){const en=new Set(Qt.detail.indices);for(const un of Qt.target.options)un.selected=en.has(un.index);lt.setValue(mt,{value:$t(Qt,!0)})},editable(Qt){Qt.target.disabled=!Qt.detail.editable}};this._dispatchEventFromSandbox(Jt,Zt)}),Ct.addEventListener("input",Zt=>{var Jt;const Qt=$t(Zt,!0),en=$t(Zt,!1);lt.setValue(mt,{value:Qt}),(Jt=this.linkService.eventBus)===null||Jt===void 0||Jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt,name:"Keystroke",value:en,changeEx:Qt,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ct,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Zt=>Zt.target.checked)):Ct.addEventListener("input",function(Zt){lt.setValue(mt,{value:$t(Zt,!0)})}),this.data.combo&&this._setTextStyle(Ct),this._setBackgroundColor(Ct),this._setDefaultPropertiesFromJS(Ct),this.container.append(Ct),this.container}}class ct extends it{constructor(lt){var mt,St,Ct;const Dt=!!((mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt})}render(){const lt=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",lt.includes(this.data.parentType))return this.container;const mt=`[data-annotation-id="${this.data.parentId}"]`,St=this.layer.querySelectorAll(mt);if(St.length===0)return this.container;const Ct=new dt({container:this.container,trigger:Array.from(St),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Dt=this.page,Lt=s.Util.normalizeRect([this.data.parentRect[0],Dt.view[3]-this.data.parentRect[1]+Dt.view[1],this.data.parentRect[2],Dt.view[3]-this.data.parentRect[3]+Dt.view[1]]),$t=Lt[0]+this.data.parentRect[2]-this.data.parentRect[0],Xt=Lt[1],[Zt,Jt,Qt,en]=this.viewport.viewBox,un=Qt-Zt,gn=en-Jt;return this.container.style.left=`${100*($t-Zt)/un}%`,this.container.style.top=`${100*(Xt-Jt)/gn}%`,this.container.append(Ct.render()),this.container}}class dt{constructor(lt){this.container=lt.container,this.trigger=lt.trigger,this.color=lt.color,this.titleObj=lt.titleObj,this.modificationDate=lt.modificationDate,this.contentsObj=lt.contentsObj,this.richText=lt.richText,this.hideWrapper=lt.hideWrapper||!1,this.pinned=!1}render(){var lt,mt;const Ct=document.createElement("div");Ct.className="popupWrapper",this.hideElement=this.hideWrapper?Ct:this.container,this.hideElement.hidden=!0;const Dt=document.createElement("div");Dt.className="popup";const Lt=this.color;if(Lt){const Zt=.7*(255-Lt[0])+Lt[0],Jt=.7*(255-Lt[1])+Lt[1],Qt=.7*(255-Lt[2])+Lt[2];Dt.style.backgroundColor=s.Util.makeHexColor(Zt|0,Jt|0,Qt|0)}const $t=document.createElement("h1");$t.dir=this.titleObj.dir,$t.textContent=this.titleObj.str,Dt.append($t);const Xt=o.PDFDateString.toDateObject(this.modificationDate);if(Xt){const Zt=document.createElement("span");Zt.className="popupDate",Zt.textContent="{{date}}, {{time}}",Zt.dataset.l10nId="annotation_date_string",Zt.dataset.l10nArgs=JSON.stringify({date:Xt.toLocaleDateString(),time:Xt.toLocaleTimeString()}),Dt.append(Zt)}if((lt=this.richText)!==null&&lt!==void 0&&lt.str&&(!((mt=this.contentsObj)!==null&&mt!==void 0&&mt.str)||this.contentsObj.str===this.richText.str))d.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Dt}),Dt.lastChild.className="richText popupContent";else{const Zt=this._formatContents(this.contentsObj);Dt.append(Zt)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Zt of this.trigger)Zt.addEventListener("click",this._toggle.bind(this)),Zt.addEventListener("mouseover",this._show.bind(this,!1)),Zt.addEventListener("mouseout",this._hide.bind(this,!1));return Dt.addEventListener("click",this._hide.bind(this,!0)),Ct.append(Dt),Ct}_formatContents(lt){let{str:mt,dir:St}=lt;const Ct=document.createElement("p");Ct.className="popupContent",Ct.dir=St;const Dt=mt.split(/(?:\r\n?|\n)/);for(let Lt=0,$t=Dt.length;Lt<$t;++Lt){const Xt=Dt[Lt];Ct.append(document.createTextNode(Xt)),Lt<$t-1&&Ct.append(document.createElement("br"))}return Ct}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class ft extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0});this.textContent=lt.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const lt=document.createElement("div");lt.className="annotationTextContent",lt.setAttribute("role","comment");for(const mt of this.textContent){const St=document.createElement("span");St.textContent=mt,lt.append(St)}this.container.append(lt)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class bt extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const lt=this.data,{width:mt,height:St}=nt(lt.rect),Ct=this.svgFactory.create(mt,St,!0),Dt=this.svgFactory.createElement("svg:line");return Dt.setAttribute("x1",lt.rect[2]-lt.lineCoordinates[0]),Dt.setAttribute("y1",lt.rect[3]-lt.lineCoordinates[1]),Dt.setAttribute("x2",lt.rect[2]-lt.lineCoordinates[2]),Dt.setAttribute("y2",lt.rect[3]-lt.lineCoordinates[3]),Dt.setAttribute("stroke-width",lt.borderStyle.width||1),Dt.setAttribute("stroke","transparent"),Dt.setAttribute("fill","transparent"),Ct.append(Dt),this.container.append(Ct),this._createPopup(Dt,lt),this.container}}class Mt extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const lt=this.data,{width:mt,height:St}=nt(lt.rect),Ct=this.svgFactory.create(mt,St,!0),Dt=lt.borderStyle.width,Lt=this.svgFactory.createElement("svg:rect");return Lt.setAttribute("x",Dt/2),Lt.setAttribute("y",Dt/2),Lt.setAttribute("width",mt-Dt),Lt.setAttribute("height",St-Dt),Lt.setAttribute("stroke-width",Dt||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),Ct.append(Lt),this.container.append(Ct),this._createPopup(Lt,lt),this.container}}class _t extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const lt=this.data,{width:mt,height:St}=nt(lt.rect),Ct=this.svgFactory.create(mt,St,!0),Dt=lt.borderStyle.width,Lt=this.svgFactory.createElement("svg:ellipse");return Lt.setAttribute("cx",mt/2),Lt.setAttribute("cy",St/2),Lt.setAttribute("rx",mt/2-Dt/2),Lt.setAttribute("ry",St/2-Dt/2),Lt.setAttribute("stroke-width",Dt||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),Ct.append(Lt),this.container.append(Ct),this._createPopup(Lt,lt),this.container}}class xt extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0});this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const lt=this.data,{width:mt,height:St}=nt(lt.rect),Ct=this.svgFactory.create(mt,St,!0);let Dt=[];for(const $t of lt.vertices){const Xt=$t.x-lt.rect[0],Zt=lt.rect[3]-$t.y;Dt.push(Xt+","+Zt)}Dt=Dt.join(" ");const Lt=this.svgFactory.createElement(this.svgElementName);return Lt.setAttribute("points",Dt),Lt.setAttribute("stroke-width",lt.borderStyle.width||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),Ct.append(Lt),this.container.append(Ct),this._createPopup(Lt,lt),this.container}}class wt extends xt{constructor(lt){super(lt);this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class At extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Et extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0});this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const lt=this.data,{width:mt,height:St}=nt(lt.rect),Ct=this.svgFactory.create(mt,St,!0);for(const Dt of lt.inkLists){let Lt=[];for(const Xt of Dt){const Zt=Xt.x-lt.rect[0],Jt=lt.rect[3]-Xt.y;Lt.push(`${Zt},${Jt}`)}Lt=Lt.join(" ");const $t=this.svgFactory.createElement(this.svgElementName);$t.setAttribute("points",Lt),$t.setAttribute("stroke-width",lt.borderStyle.width||1),$t.setAttribute("stroke","transparent"),$t.setAttribute("fill","transparent"),this._createPopup($t,lt),Ct.append($t)}return this.container.append(Ct),this.container}}class yt extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Pt extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class It extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class vt extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Wt extends it{constructor(lt){var mt,St,Ct;const Dt=!!(lt.data.hasPopup||(mt=lt.data.titleObj)!==null&&mt!==void 0&&mt.str||(St=lt.data.contentsObj)!==null&&St!==void 0&&St.str||(Ct=lt.data.richText)!==null&&Ct!==void 0&&Ct.str);super(lt,{isRenderable:Dt,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class jt extends it{constructor(lt){var mt;super(lt,{isRenderable:!0});const{filename:St,content:Ct}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(St),this.content=Ct,(mt=this.linkService.eventBus)===null||mt===void 0||mt.dispatch("fileattachmentannotation",{source:this,filename:St,content:Ct})}render(){var lt,mt;this.container.className="fileAttachmentAnnotation";const St=document.createElement("div");return St.className="popupTriggerArea",St.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((lt=this.data.titleObj)!==null&&lt!==void 0&&lt.str||(mt=this.data.contentsObj)!==null&&mt!==void 0&&mt.str||this.data.richText)&&this._createPopup(St,this.data),this.container.append(St),this.container}_download(){var lt;(lt=this.downloadManager)===null||lt===void 0||lt.openOrDownloadData(this.container,this.content,this.filename)}}class Rt{static render(lt){const{annotations:mt,div:St,viewport:Ct,accessibilityManager:Dt}=lt;j(this,Rt,gt).call(this,St,Ct);let Lt=0;for(const $t of mt){if($t.annotationType!==s.AnnotationType.POPUP){const{width:Zt,height:Jt}=nt($t.rect);if(Zt<=0||Jt<=0)continue}const Xt=at.create({data:$t,layer:St,page:lt.page,viewport:Ct,linkService:lt.linkService,downloadManager:lt.downloadManager,imageResourcesPath:lt.imageResourcesPath||"",renderForms:lt.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:lt.annotationStorage||new c.AnnotationStorage,enableScripting:lt.enableScripting,hasJSActions:lt.hasJSActions,fieldObjects:lt.fieldObjects,mouseState:lt.mouseState||{isDown:!1}});if(Xt.isRenderable){const Zt=Xt.render();if($t.hidden&&(Zt.style.visibility="hidden"),Array.isArray(Zt))for(const Jt of Zt)Jt.style.zIndex=Lt++,j(Rt,Rt,ht).call(Rt,Jt,$t.id,St,Dt);else Zt.style.zIndex=Lt++,Xt instanceof ct?St.prepend(Zt):j(Rt,Rt,ht).call(Rt,Zt,$t.id,St,Dt)}}j(this,Rt,Ot).call(this,St,lt.annotationCanvasMap)}static update(lt){const{annotationCanvasMap:mt,div:St,viewport:Ct}=lt;j(this,Rt,gt).call(this,St,Ct),j(this,Rt,Ot).call(this,St,mt),St.hidden=!1}}i.AnnotationLayer=Rt;function ht(Ft,lt,mt,St){const Ct=Ft.firstChild||Ft;Ct.id=`${o.AnnotationPrefix}${lt}`,mt.append(Ft),St==null||St.moveElementInDOM(mt,Ft,Ct,!1)}function gt(Ft,lt){let{width:mt,height:St,rotation:Ct}=lt;const{style:Dt}=Ft,Lt=Ct%180!==0,$t=Math.floor(mt)+"px",Xt=Math.floor(St)+"px";Dt.width=Lt?Xt:$t,Dt.height=Lt?$t:Xt,Ft.setAttribute("data-main-rotation",Ct)}function Ot(Ft,lt){if(!!lt){for(const[mt,St]of lt){const Ct=Ft.querySelector(`[data-annotation-id="${mt}"]`);if(!Ct)continue;const{firstChild:Dt}=Ct;Dt?Dt.nodeName==="CANVAS"?Dt.replaceWith(St):Dt.before(St):Ct.append(St)}lt.clear()}}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function a(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}class s{static CMYK_G(c){let[f,d,j,b]=c;return["G",1-Math.min(1,.3*f+.59*j+.11*d+b)]}static G_CMYK(c){let[f]=c;return["CMYK",0,0,0,1-f]}static G_RGB(c){let[f]=c;return["RGB",f,f,f]}static G_HTML(c){let[f]=c;const d=a(f);return`#${d}${d}${d}`}static RGB_G(c){let[f,d,j]=c;return["G",.3*f+.59*d+.11*j]}static RGB_HTML(c){let[f,d,j]=c;const b=a(f),_e=a(d),pt=a(j);return`#${b}${_e}${pt}`}static T_HTML(){return"#00000000"}static CMYK_RGB(c){let[f,d,j,b]=c;return["RGB",1-Math.min(1,f+b),1-Math.min(1,j+b),1-Math.min(1,d+b)]}static CMYK_HTML(c){const f=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(f)}static RGB_CMYK(c){let[f,d,j]=c;const b=1-f,_e=1-d,pt=1-j,et=Math.min(b,_e,pt);return["CMYK",b,_e,pt,et]}}i.ColorConverters=s},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var s=a(145);class o{static setupStorage(f,d,j,b,_e){const pt=b.getValue(d,{value:null});switch(j.name){case"textarea":if(pt.value!==null&&(f.textContent=pt.value),_e==="print")break;f.addEventListener("input",et=>{b.setValue(d,{value:et.target.value})});break;case"input":if(j.attributes.type==="radio"||j.attributes.type==="checkbox"){if(pt.value===j.attributes.xfaOn?f.setAttribute("checked",!0):pt.value===j.attributes.xfaOff&&f.removeAttribute("checked"),_e==="print")break;f.addEventListener("change",et=>{b.setValue(d,{value:et.target.checked?et.target.getAttribute("xfaOn"):et.target.getAttribute("xfaOff")})})}else{if(pt.value!==null&&f.setAttribute("value",pt.value),_e==="print")break;f.addEventListener("input",et=>{b.setValue(d,{value:et.target.value})})}break;case"select":if(pt.value!==null)for(const et of j.children)et.attributes.value===pt.value&&(et.attributes.selected=!0);f.addEventListener("input",et=>{const nt=et.target.options,at=nt.selectedIndex===-1?"":nt[nt.selectedIndex].value;b.setValue(d,{value:at})});break}}static setAttributes(f){let{html:d,element:j,storage:b=null,intent:_e,linkService:pt}=f;const{attributes:et}=j,nt=d instanceof HTMLAnchorElement;et.type==="radio"&&(et.name=`${et.name}-${_e}`);for(const[at,it]of Object.entries(et))if(it!=null)switch(at){case"class":it.length&&d.setAttribute(at,it.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",it);break;case"style":Object.assign(d.style,it);break;case"textContent":d.textContent=it;break;default:(!nt||at!=="href"&&at!=="newWindow")&&d.setAttribute(at,it)}nt&&pt.addLinkAttributes(d,et.href,et.newWindow),b&&et.dataId&&this.setupStorage(d,et.dataId,j,b)}static render(f){const d=f.annotationStorage,j=f.linkService,b=f.xfaHtml,_e=f.intent||"display",pt=document.createElement(b.name);b.attributes&&this.setAttributes({html:pt,element:b,intent:_e,linkService:j});const et=[[b,-1,pt]],nt=f.div;if(nt.append(pt),f.viewport){const rt=`matrix(${f.viewport.transform.join(",")})`;nt.style.transform=rt}_e!=="richText"&&nt.setAttribute("class","xfaLayer xfaFont");const at=[];for(;et.length>0;){var it;const[rt,ut,_]=et.at(-1);if(ut+1===rt.children.length){et.pop();continue}const tt=rt.children[++et.at(-1)[1]];if(tt===null)continue;const{name:$}=tt;if($==="#text"){const k=document.createTextNode(tt.value);at.push(k),_.append(k);continue}let g;if(tt!=null&&(it=tt.attributes)!==null&&it!==void 0&&it.xmlns?g=document.createElementNS(tt.attributes.xmlns,$):g=document.createElement($),_.append(g),tt.attributes&&this.setAttributes({html:g,element:tt,storage:d,intent:_e,linkService:j}),tt.children&&tt.children.length>0)et.push([tt,-1,g]);else if(tt.value){const k=document.createTextNode(tt.value);s.XfaText.shouldBuildText($)&&at.push(k),g.append(k)}}for(const rt of nt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))rt.setAttribute("readOnly",!0);return{textDivs:at}}static update(f){const d=`matrix(${f.viewport.transform.join(",")})`;f.div.style.transform=d,f.div.hidden=!1}}i.XfaLayer=o},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=_;var s=a(1),o=a(133);const c=1e5,f=30,d=.8,j=new Map,b=/^\s+$/g;function _e(tt,$){const g=j.get(tt);if(g)return g;$.save(),$.font=`${f}px ${tt}`;const k=$.measureText("");let ot=k.fontBoundingBoxAscent,ct=Math.abs(k.fontBoundingBoxDescent);if(ot){$.restore();const ft=ot/(ot+ct);return j.set(tt,ft),ft}$.strokeStyle="red",$.clearRect(0,0,f,f),$.strokeText("g",0,0);let dt=$.getImageData(0,0,f,f).data;ct=0;for(let ft=dt.length-1-3;ft>=0;ft-=4)if(dt[ft]>0){ct=Math.ceil(ft/4/f);break}$.clearRect(0,0,f,f),$.strokeText("A",0,f),dt=$.getImageData(0,0,f,f).data,ot=0;for(let ft=0,bt=dt.length;ft<bt;ft+=4)if(dt[ft]>0){ot=f-Math.floor(ft/4/f);break}if($.restore(),ot){const ft=ot/(ot+ct);return j.set(tt,ft),ft}return j.set(tt,d),d}function pt(tt,$,g,k){const ot=document.createElement("span"),ct=tt._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};tt._textDivs.push(ot);const dt=s.Util.transform(tt._viewport.transform,$.transform);let ft=Math.atan2(dt[1],dt[0]);const bt=g[$.fontName];bt.vertical&&(ft+=Math.PI/2);const Mt=Math.hypot(dt[2],dt[3]),_t=Mt*_e(bt.fontFamily,k);let xt,wt;ft===0?(xt=dt[4],wt=dt[5]-_t):(xt=dt[4]+_t*Math.sin(ft),wt=dt[5]-_t*Math.cos(ft)),ot.style.left=`${xt}px`,ot.style.top=`${wt}px`,ot.style.fontSize=`${Mt}px`,ot.style.fontFamily=bt.fontFamily,ct.fontSize=Mt,ot.setAttribute("role","presentation"),ot.textContent=$.str,ot.dir=$.dir,tt._fontInspectorEnabled&&(ot.dataset.fontName=$.fontName),ft!==0&&(ct.angle=ft*(180/Math.PI));let At=!1;if($.str.length>1||tt._enhanceTextSelection&&b.test($.str))At=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const Et=Math.abs($.transform[0]),yt=Math.abs($.transform[3]);Et!==yt&&Math.max(Et,yt)/Math.min(Et,yt)>1.5&&(At=!0)}if(At&&(bt.vertical?ct.canvasWidth=$.height*tt._viewport.scale:ct.canvasWidth=$.width*tt._viewport.scale),tt._textDivProperties.set(ot,ct),tt._textContentStream&&tt._layoutText(ot),tt._enhanceTextSelection&&ct.hasText){let Et=1,yt=0;ft!==0&&(Et=Math.cos(ft),yt=Math.sin(ft));const Pt=(bt.vertical?$.height:$.width)*tt._viewport.scale,It=Mt;let vt,Wt;ft!==0?(vt=[Et,yt,-yt,Et,xt,wt],Wt=s.Util.getAxialAlignedBoundingBox([0,0,Pt,It],vt)):Wt=[xt,wt,xt+Pt,wt+It],tt._bounds.push({left:Wt[0],top:Wt[1],right:Wt[2],bottom:Wt[3],div:ot,size:[Pt,It],m:vt})}}function et(tt){if(tt._canceled)return;const $=tt._textDivs,g=tt._capability,k=$.length;if(k>c){tt._renderingDone=!0,g.resolve();return}if(!tt._textContentStream)for(let ot=0;ot<k;ot++)tt._layoutText($[ot]);tt._renderingDone=!0,g.resolve()}function nt(tt,$,g){let k=0;for(let ot=0;ot<g;ot++){const ct=tt[$++];ct>0&&(k=k?Math.min(ct,k):ct)}return k}function at(tt){const $=tt._bounds,g=tt._viewport,k=it(g.width,g.height,$);for(let ot=0;ot<k.length;ot++){const ct=$[ot].div,dt=tt._textDivProperties.get(ct);if(dt.angle===0){dt.paddingLeft=$[ot].left-k[ot].left,dt.paddingTop=$[ot].top-k[ot].top,dt.paddingRight=k[ot].right-$[ot].right,dt.paddingBottom=k[ot].bottom-$[ot].bottom,tt._textDivProperties.set(ct,dt);continue}const ft=k[ot],bt=$[ot],Mt=bt.m,_t=Mt[0],xt=Mt[1],wt=[[0,0],[0,bt.size[1]],[bt.size[0],0],bt.size],At=new Float64Array(64);for(let yt=0,Pt=wt.length;yt<Pt;yt++){const It=s.Util.applyTransform(wt[yt],Mt);At[yt+0]=_t&&(ft.left-It[0])/_t,At[yt+4]=xt&&(ft.top-It[1])/xt,At[yt+8]=_t&&(ft.right-It[0])/_t,At[yt+12]=xt&&(ft.bottom-It[1])/xt,At[yt+16]=xt&&(ft.left-It[0])/-xt,At[yt+20]=_t&&(ft.top-It[1])/_t,At[yt+24]=xt&&(ft.right-It[0])/-xt,At[yt+28]=_t&&(ft.bottom-It[1])/_t,At[yt+32]=_t&&(ft.left-It[0])/-_t,At[yt+36]=xt&&(ft.top-It[1])/-xt,At[yt+40]=_t&&(ft.right-It[0])/-_t,At[yt+44]=xt&&(ft.bottom-It[1])/-xt,At[yt+48]=xt&&(ft.left-It[0])/xt,At[yt+52]=_t&&(ft.top-It[1])/-_t,At[yt+56]=xt&&(ft.right-It[0])/xt,At[yt+60]=_t&&(ft.bottom-It[1])/-_t}const Et=1+Math.min(Math.abs(_t),Math.abs(xt));dt.paddingLeft=nt(At,32,16)/Et,dt.paddingTop=nt(At,48,16)/Et,dt.paddingRight=nt(At,0,16)/Et,dt.paddingBottom=nt(At,16,16)/Et,tt._textDivProperties.set(ct,dt)}}function it(tt,$,g){const k=g.map(function(ct,dt){return{x1:ct.left,y1:ct.top,x2:ct.right,y2:ct.bottom,index:dt,x1New:void 0,x2New:void 0}});rt(tt,k);const ot=new Array(g.length);for(const ct of k){const dt=ct.index;ot[dt]={left:ct.x1New,top:0,right:ct.x2New,bottom:0}}g.map(function(ct,dt){const ft=ot[dt],bt=k[dt];bt.x1=ct.top,bt.y1=tt-ft.right,bt.x2=ct.bottom,bt.y2=tt-ft.left,bt.index=dt,bt.x1New=void 0,bt.x2New=void 0}),rt($,k);for(const ct of k){const dt=ct.index;ot[dt].top=ct.x1New,ot[dt].bottom=ct.x2New}return ot}function rt(tt,$){$.sort(function(ot,ct){return ot.x1-ct.x1||ot.index-ct.index});const k=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const ot of $){let ct=0;for(;ct<k.length&&k[ct].end<=ot.y1;)ct++;let dt=k.length-1;for(;dt>=0&&k[dt].start>=ot.y2;)dt--;let ft,bt,Mt,_t,xt=-1/0;for(Mt=ct;Mt<=dt;Mt++){ft=k[Mt],bt=ft.boundary;let Et;bt.x2>ot.x1?Et=bt.index>ot.index?bt.x1New:ot.x1:bt.x2New===void 0?Et=(bt.x2+ot.x1)/2:Et=bt.x2New,Et>xt&&(xt=Et)}for(ot.x1New=xt,Mt=ct;Mt<=dt;Mt++)ft=k[Mt],bt=ft.boundary,bt.x2New===void 0?bt.x2>ot.x1?bt.index>ot.index&&(bt.x2New=bt.x2):bt.x2New=xt:bt.x2New>xt&&(bt.x2New=Math.max(xt,bt.x2));const wt=[];let At=null;for(Mt=ct;Mt<=dt;Mt++){ft=k[Mt],bt=ft.boundary;const Et=bt.x2>ot.x2?bt:ot;At===Et?wt.at(-1).end=ft.end:(wt.push({start:ft.start,end:ft.end,boundary:Et}),At=Et)}for(k[ct].start<ot.y1&&(wt[0].start=ot.y1,wt.unshift({start:k[ct].start,end:ot.y1,boundary:k[ct].boundary})),ot.y2<k[dt].end&&(wt.at(-1).end=ot.y2,wt.push({start:ot.y2,end:k[dt].end,boundary:k[dt].boundary})),Mt=ct;Mt<=dt;Mt++){if(ft=k[Mt],bt=ft.boundary,bt.x2New!==void 0)continue;let Et=!1;for(_t=ct-1;!Et&&_t>=0&&k[_t].start>=bt.y1;_t--)Et=k[_t].boundary===bt;for(_t=dt+1;!Et&&_t<k.length&&k[_t].end<=bt.y2;_t++)Et=k[_t].boundary===bt;for(_t=0;!Et&&_t<wt.length;_t++)Et=wt[_t].boundary===bt;Et||(bt.x2New=xt)}Array.prototype.splice.apply(k,[ct,dt-ct+1,...wt])}for(const ot of k){const ct=ot.boundary;ct.x2New===void 0&&(ct.x2New=Math.max(tt,ct.x2))}}class ut{constructor($){var g;let{textContent:k,textContentStream:ot,container:ct,viewport:dt,textDivs:ft,textContentItemsStr:bt,enhanceTextSelection:Mt}=$;Mt&&(0,o.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=k,this._textContentStream=ot,this._container=ct,this._document=ct.ownerDocument,this._viewport=dt,this._textDivs=ft||[],this._textContentItemsStr=bt||[],this._enhanceTextSelection=!!Mt,this._fontInspectorEnabled=!!((g=globalThis.FontInspector)!==null&&g!==void 0&&g.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,s.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new s.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems($,g){for(let k=0,ot=$.length;k<ot;k++){if($[k].str===void 0){if($[k].type==="beginMarkedContentProps"||$[k].type==="beginMarkedContent"){const ct=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),$[k].id!==null&&this._container.setAttribute("id",`${$[k].id}`),ct.append(this._container)}else $[k].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push($[k].str),pt(this,$[k],g,this._layoutTextCtx)}}_layoutText($){const g=this._textDivProperties.get($);let k="";if(g.canvasWidth!==0&&g.hasText){const{fontFamily:ot}=$.style,{fontSize:ct}=g;(ct!==this._layoutTextLastFontSize||ot!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${ct*this._devicePixelRatio}px ${ot}`,this._layoutTextLastFontSize=ct,this._layoutTextLastFontFamily=ot);const{width:dt}=this._layoutTextCtx.measureText($.textContent);if(dt>0){const ft=this._devicePixelRatio*g.canvasWidth/dt;this._enhanceTextSelection&&(g.scale=ft),k=`scaleX(${ft})`}}if(g.angle!==0&&(k=`rotate(${g.angle}deg) ${k}`),k.length>0&&(this._enhanceTextSelection&&(g.originalTransform=k),$.style.transform=k),g.hasText&&this._container.append($),g.hasEOL){const ot=document.createElement("br");ot.setAttribute("role","presentation"),this._container.append(ot)}}_render(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const g=(0,s.createPromiseCapability)();let k=Object.create(null);const ot=this._document.createElement("canvas");if(ot.height=ot.width=f,this._layoutTextCtx=ot.getContext("2d",{alpha:!1}),this._textContent){const ct=this._textContent.items,dt=this._textContent.styles;this._processItems(ct,dt),g.resolve()}else if(this._textContentStream){const ct=()=>{this._reader.read().then(dt=>{let{value:ft,done:bt}=dt;if(bt){g.resolve();return}Object.assign(k,ft.styles),this._processItems(ft.items,k),ct()},g.reject)};this._reader=this._textContentStream.getReader(),ct()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');g.promise.then(()=>{k=null,$?this._renderTimer=setTimeout(()=>{et(this),this._renderTimer=null},$):et(this)},this._capability.reject)}expandTextDivs(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(at(this),this._bounds=null);const g=[],k=[];for(let ot=0,ct=this._textDivs.length;ot<ct;ot++){const dt=this._textDivs[ot],ft=this._textDivProperties.get(dt);!ft.hasText||($?(g.length=0,k.length=0,ft.originalTransform&&g.push(ft.originalTransform),ft.paddingTop>0?(k.push(`${ft.paddingTop}px`),g.push(`translateY(${-ft.paddingTop}px)`)):k.push(0),ft.paddingRight>0?k.push(`${ft.paddingRight/ft.scale}px`):k.push(0),ft.paddingBottom>0?k.push(`${ft.paddingBottom}px`):k.push(0),ft.paddingLeft>0?(k.push(`${ft.paddingLeft/ft.scale}px`),g.push(`translateX(${-ft.paddingLeft/ft.scale}px)`)):k.push(0),dt.style.padding=k.join(" "),g.length&&(dt.style.transform=g.join(" "))):(dt.style.padding=null,dt.style.transform=ft.originalTransform))}}}i.TextLayerRenderTask=ut;function _(tt){const $=new ut({textContent:tt.textContent,textContentStream:tt.textContentStream,container:tt.container,viewport:tt.viewport,textDivs:tt.textDivs,textContentItemsStr:tt.textContentItemsStr,enhanceTextSelection:tt.enhanceTextSelection});return $._render(tt.timeout),$}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var s=a(133),o=a(1),c=a(3);let f=class{constructor(){(0,o.unreachable)("Not implemented: SVGGraphics")}};i.SVGGraphics=f;{let it=function(g){let k=[];const ot=[];for(const ct of g){if(ct.fn==="save"){k.push({fnId:92,fn:"group",items:[]}),ot.push(k),k=k.at(-1).items;continue}ct.fn==="restore"?k=ot.pop():k.push(ct)}return k},rt=function(g){if(Number.isInteger(g))return g.toString();const k=g.toFixed(10);let ot=k.length-1;if(k[ot]!=="0")return k;do ot--;while(k[ot]==="0");return k.substring(0,k[ot]==="."?ot:ot+1)},ut=function(g){if(g[4]===0&&g[5]===0){if(g[1]===0&&g[2]===0)return g[0]===1&&g[3]===1?"":`scale(${rt(g[0])} ${rt(g[3])})`;if(g[0]===g[3]&&g[1]===-g[2]){const k=Math.acos(g[0])*180/Math.PI;return`rotate(${rt(k)})`}}else if(g[0]===1&&g[1]===0&&g[2]===0&&g[3]===1)return`translate(${rt(g[4])} ${rt(g[5])})`;return`matrix(${rt(g[0])} ${rt(g[1])} ${rt(g[2])} ${rt(g[3])} ${rt(g[4])} ${rt(g[5])})`};const d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},j="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",_e=["butt","round","square"],pt=["miter","round","bevel"],et=function(g){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob!="undefined"&&!ot)return URL.createObjectURL(new Blob([g],{type:k}));const ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let dt=`data:${k};base64,`;for(let ft=0,bt=g.length;ft<bt;ft+=3){const Mt=g[ft]&255,_t=g[ft+1]&255,xt=g[ft+2]&255,wt=Mt>>2,At=(Mt&3)<<4|_t>>4,Et=ft+1<bt?(_t&15)<<2|xt>>6:64,yt=ft+2<bt?xt&63:64;dt+=ct[wt]+ct[At]+ct[Et]+ct[yt]}return dt},nt=function(){const g=new Uint8Array([137,80,78,71,13,10,26,10]),k=12,ot=new Int32Array(256);for(let xt=0;xt<256;xt++){let wt=xt;for(let At=0;At<8;At++)wt&1?wt=3988292384^wt>>1&2147483647:wt=wt>>1&2147483647;ot[xt]=wt}function ct(xt,wt,At){let Et=-1;for(let yt=wt;yt<At;yt++){const Pt=(Et^xt[yt])&255,It=ot[Pt];Et=Et>>>8^It}return Et^-1}function dt(xt,wt,At,Et){let yt=Et;const Pt=wt.length;At[yt]=Pt>>24&255,At[yt+1]=Pt>>16&255,At[yt+2]=Pt>>8&255,At[yt+3]=Pt&255,yt+=4,At[yt]=xt.charCodeAt(0)&255,At[yt+1]=xt.charCodeAt(1)&255,At[yt+2]=xt.charCodeAt(2)&255,At[yt+3]=xt.charCodeAt(3)&255,yt+=4,At.set(wt,yt),yt+=wt.length;const It=ct(At,Et+4,yt);At[yt]=It>>24&255,At[yt+1]=It>>16&255,At[yt+2]=It>>8&255,At[yt+3]=It&255}function ft(xt,wt,At){let Et=1,yt=0;for(let Pt=wt;Pt<At;++Pt)Et=(Et+(xt[Pt]&255))%65521,yt=(yt+Et)%65521;return yt<<16|Et}function bt(xt){if(!c.isNodeJS)return Mt(xt);try{let wt;parseInt(process.versions.node)>=8?wt=xt:wt=Buffer.from(xt);const At=require("zlib").deflateSync(wt,{level:9});return At instanceof Uint8Array?At:new Uint8Array(At)}catch(wt){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+wt)}return Mt(xt)}function Mt(xt){let wt=xt.length;const At=65535,Et=Math.ceil(wt/At),yt=new Uint8Array(2+wt+Et*5+4);let Pt=0;yt[Pt++]=120,yt[Pt++]=156;let It=0;for(;wt>At;)yt[Pt++]=0,yt[Pt++]=255,yt[Pt++]=255,yt[Pt++]=0,yt[Pt++]=0,yt.set(xt.subarray(It,It+At),Pt),Pt+=At,It+=At,wt-=At;yt[Pt++]=1,yt[Pt++]=wt&255,yt[Pt++]=wt>>8&255,yt[Pt++]=~wt&65535&255,yt[Pt++]=(~wt&65535)>>8&255,yt.set(xt.subarray(It),Pt),Pt+=xt.length-It;const vt=ft(xt,0,xt.length);return yt[Pt++]=vt>>24&255,yt[Pt++]=vt>>16&255,yt[Pt++]=vt>>8&255,yt[Pt++]=vt&255,yt}function _t(xt,wt,At,Et){const yt=xt.width,Pt=xt.height;let It,vt,Wt;const jt=xt.data;switch(wt){case o.ImageKind.GRAYSCALE_1BPP:vt=0,It=1,Wt=yt+7>>3;break;case o.ImageKind.RGB_24BPP:vt=2,It=8,Wt=yt*3;break;case o.ImageKind.RGBA_32BPP:vt=6,It=8,Wt=yt*4;break;default:throw new Error("invalid format")}const Rt=new Uint8Array((1+Wt)*Pt);let ht=0,gt=0;for(let Ct=0;Ct<Pt;++Ct)Rt[ht++]=0,Rt.set(jt.subarray(gt,gt+Wt),ht),gt+=Wt,ht+=Wt;if(wt===o.ImageKind.GRAYSCALE_1BPP&&Et){ht=0;for(let Ct=0;Ct<Pt;Ct++){ht++;for(let Dt=0;Dt<Wt;Dt++)Rt[ht++]^=255}}const Ot=new Uint8Array([yt>>24&255,yt>>16&255,yt>>8&255,yt&255,Pt>>24&255,Pt>>16&255,Pt>>8&255,Pt&255,It,vt,0,0,0]),Ft=bt(Rt),lt=g.length+k*3+Ot.length+Ft.length,mt=new Uint8Array(lt);let St=0;return mt.set(g,St),St+=g.length,dt("IHDR",Ot,mt,St),St+=k+Ot.length,dt("IDATA",Ft,mt,St),St+=k+Ft.length,dt("IEND",new Uint8Array(0),mt,St),et(mt,"image/png",At)}return function(wt,At,Et){const yt=wt.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:wt.kind;return _t(wt,yt,At,Et)}}();class at{constructor(){this.fontSizeScale=1,this.fontWeight=d.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=d.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(k,ot){this.x=k,this.y=ot}}let _=0,tt=0,$=0;i.SVGGraphics=f=class{constructor(g,k){let ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,s.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new s.DOMSVGFactory,this.current=new at,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=g,this.objs=k,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ot,this._operatorIdMapping=[];for(const ct in o.OPS)this._operatorIdMapping[o.OPS[ct]]=ct}save(){this.transformStack.push(this.transformMatrix);const g=this.current;this.extraStack.push(g),this.current=g.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(g){this.save(),this.executeOpTree(g),this.restore()}loadDependencies(g){const k=g.fnArray,ot=g.argsArray;for(let ct=0,dt=k.length;ct<dt;ct++)if(k[ct]===o.OPS.dependency)for(const ft of ot[ct]){const bt=ft.startsWith("g_")?this.commonObjs:this.objs,Mt=new Promise(_t=>{bt.get(ft,_t)});this.current.dependencies.push(Mt)}return Promise.all(this.current.dependencies)}transform(g,k,ot,ct,dt,ft){const bt=[g,k,ot,ct,dt,ft];this.transformMatrix=o.Util.transform(this.transformMatrix,bt),this.tgrp=null}getSVG(g,k){this.viewport=k;const ot=this._initialize(k);return this.loadDependencies(g).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(g)),ot))}convertOpList(g){const k=this._operatorIdMapping,ot=g.argsArray,ct=g.fnArray,dt=[];for(let ft=0,bt=ct.length;ft<bt;ft++){const Mt=ct[ft];dt.push({fnId:Mt,fn:k[Mt],args:ot[ft]})}return it(dt)}executeOpTree(g){for(const k of g){const ot=k.fn,ct=k.fnId,dt=k.args;switch(ct|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(dt);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(dt[0],dt[1]);break;case o.OPS.setFont:this.setFont(dt);break;case o.OPS.showText:this.showText(dt[0]);break;case o.OPS.showSpacedText:this.showText(dt[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(dt[0],dt[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(dt[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(dt[0]);break;case o.OPS.setHScale:this.setHScale(dt[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]);break;case o.OPS.setTextRise:this.setTextRise(dt[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(dt[0]);break;case o.OPS.setLineWidth:this.setLineWidth(dt[0]);break;case o.OPS.setLineJoin:this.setLineJoin(dt[0]);break;case o.OPS.setLineCap:this.setLineCap(dt[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(dt[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(dt[0],dt[1],dt[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(dt[0],dt[1],dt[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(dt);break;case o.OPS.setFillColorN:this.setFillColorN(dt);break;case o.OPS.shadingFill:this.shadingFill(dt[0]);break;case o.OPS.setDash:this.setDash(dt[0],dt[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(dt[0]);break;case o.OPS.setFlatness:this.setFlatness(dt[0]);break;case o.OPS.setGState:this.setGState(dt[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(dt[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(dt[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(dt[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(dt[0],dt[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]);break;case o.OPS.constructPath:this.constructPath(dt[0],dt[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(k.items);break;default:(0,o.warn)(`Unimplemented operator ${ot}`);break}}}setWordSpacing(g){this.current.wordSpacing=g}setCharSpacing(g){this.current.charSpacing=g}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(g,k,ot,ct,dt,ft){const bt=this.current;bt.textMatrix=bt.lineMatrix=[g,k,ot,ct,dt,ft],bt.textMatrixScale=Math.hypot(g,k),bt.x=bt.lineX=0,bt.y=bt.lineY=0,bt.xcoords=[],bt.ycoords=[],bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.tspan.setAttributeNS(null,"font-family",bt.fontFamily),bt.tspan.setAttributeNS(null,"font-size",`${rt(bt.fontSize)}px`),bt.tspan.setAttributeNS(null,"y",rt(-bt.y)),bt.txtElement=this.svgFactory.createElement("svg:text"),bt.txtElement.append(bt.tspan)}beginText(){const g=this.current;g.x=g.lineX=0,g.y=g.lineY=0,g.textMatrix=o.IDENTITY_MATRIX,g.lineMatrix=o.IDENTITY_MATRIX,g.textMatrixScale=1,g.tspan=this.svgFactory.createElement("svg:tspan"),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtgrp=this.svgFactory.createElement("svg:g"),g.xcoords=[],g.ycoords=[]}moveText(g,k){const ot=this.current;ot.x=ot.lineX+=g,ot.y=ot.lineY+=k,ot.xcoords=[],ot.ycoords=[],ot.tspan=this.svgFactory.createElement("svg:tspan"),ot.tspan.setAttributeNS(null,"font-family",ot.fontFamily),ot.tspan.setAttributeNS(null,"font-size",`${rt(ot.fontSize)}px`),ot.tspan.setAttributeNS(null,"y",rt(-ot.y))}showText(g){const k=this.current,ot=k.font,ct=k.fontSize;if(ct===0)return;const dt=k.fontSizeScale,ft=k.charSpacing,bt=k.wordSpacing,Mt=k.fontDirection,_t=k.textHScale*Mt,xt=ot.vertical,wt=xt?1:-1,At=ot.defaultVMetrics,Et=ct*k.fontMatrix[0];let yt=0;for(const vt of g){if(vt===null){yt+=Mt*bt;continue}else if(typeof vt=="number"){yt+=wt*vt*ct/1e3;continue}const Wt=(vt.isSpace?bt:0)+ft,jt=vt.fontChar;let Rt,ht,gt=vt.width;if(xt){let Ft;const lt=vt.vmetric||At;Ft=vt.vmetric?lt[1]:gt*.5,Ft=-Ft*Et;const mt=lt[2]*Et;gt=lt?-lt[0]:gt,Rt=Ft/dt,ht=(yt+mt)/dt}else Rt=yt/dt,ht=0;(vt.isInFont||ot.missingFile)&&(k.xcoords.push(k.x+Rt),xt&&k.ycoords.push(-k.y+ht),k.tspan.textContent+=jt);let Ot;xt?Ot=gt*Et-Wt*Mt:Ot=gt*Et+Wt*Mt,yt+=Ot}k.tspan.setAttributeNS(null,"x",k.xcoords.map(rt).join(" ")),xt?k.tspan.setAttributeNS(null,"y",k.ycoords.map(rt).join(" ")):k.tspan.setAttributeNS(null,"y",rt(-k.y)),xt?k.y-=yt:k.x+=yt*_t,k.tspan.setAttributeNS(null,"font-family",k.fontFamily),k.tspan.setAttributeNS(null,"font-size",`${rt(k.fontSize)}px`),k.fontStyle!==d.fontStyle&&k.tspan.setAttributeNS(null,"font-style",k.fontStyle),k.fontWeight!==d.fontWeight&&k.tspan.setAttributeNS(null,"font-weight",k.fontWeight);const Pt=k.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(Pt===o.TextRenderingMode.FILL||Pt===o.TextRenderingMode.FILL_STROKE?(k.fillColor!==d.fillColor&&k.tspan.setAttributeNS(null,"fill",k.fillColor),k.fillAlpha<1&&k.tspan.setAttributeNS(null,"fill-opacity",k.fillAlpha)):k.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?k.tspan.setAttributeNS(null,"fill","transparent"):k.tspan.setAttributeNS(null,"fill","none"),Pt===o.TextRenderingMode.STROKE||Pt===o.TextRenderingMode.FILL_STROKE){const vt=1/(k.textMatrixScale||1);this._setStrokeAttributes(k.tspan,vt)}let It=k.textMatrix;k.textRise!==0&&(It=It.slice(),It[5]+=k.textRise),k.txtElement.setAttributeNS(null,"transform",`${ut(It)} scale(${rt(_t)}, -1)`),k.txtElement.setAttributeNS(j,"xml:space","preserve"),k.txtElement.append(k.tspan),k.txtgrp.append(k.txtElement),this._ensureTransformGroup().append(k.txtElement)}setLeadingMoveText(g,k){this.setLeading(-k),this.moveText(g,k)}addFontStyle(g){if(!g.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const k=et(g.data,g.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${g.loadedName}"; src: url(${k}); }
`}setFont(g){const k=this.current,ot=this.commonObjs.get(g[0]);let ct=g[1];k.font=ot,this.embedFonts&&!ot.missingFile&&!this.embeddedFonts[ot.loadedName]&&(this.addFontStyle(ot),this.embeddedFonts[ot.loadedName]=ot),k.fontMatrix=ot.fontMatrix||o.FONT_IDENTITY_MATRIX;let dt="normal";ot.black?dt="900":ot.bold&&(dt="bold");const ft=ot.italic?"italic":"normal";ct<0?(ct=-ct,k.fontDirection=-1):k.fontDirection=1,k.fontSize=ct,k.fontFamily=ot.loadedName,k.fontWeight=dt,k.fontStyle=ft,k.tspan=this.svgFactory.createElement("svg:tspan"),k.tspan.setAttributeNS(null,"y",rt(-k.y)),k.xcoords=[],k.ycoords=[]}endText(){var g;const k=this.current;k.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&(g=k.txtElement)!==null&&g!==void 0&&g.hasChildNodes()&&(k.element=k.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(g){g>0&&(this.current.lineWidth=g)}setLineCap(g){this.current.lineCap=_e[g]}setLineJoin(g){this.current.lineJoin=pt[g]}setMiterLimit(g){this.current.miterLimit=g}setStrokeAlpha(g){this.current.strokeAlpha=g}setStrokeRGBColor(g,k,ot){this.current.strokeColor=o.Util.makeHexColor(g,k,ot)}setFillAlpha(g){this.current.fillAlpha=g}setFillRGBColor(g,k,ot){this.current.fillColor=o.Util.makeHexColor(g,k,ot),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(g){this.current.strokeColor=this._makeColorN_Pattern(g)}setFillColorN(g){this.current.fillColor=this._makeColorN_Pattern(g)}shadingFill(g){const k=this.viewport.width,ot=this.viewport.height,ct=o.Util.inverseTransform(this.transformMatrix),dt=o.Util.applyTransform([0,0],ct),ft=o.Util.applyTransform([0,ot],ct),bt=o.Util.applyTransform([k,0],ct),Mt=o.Util.applyTransform([k,ot],ct),_t=Math.min(dt[0],ft[0],bt[0],Mt[0]),xt=Math.min(dt[1],ft[1],bt[1],Mt[1]),wt=Math.max(dt[0],ft[0],bt[0],Mt[0]),At=Math.max(dt[1],ft[1],bt[1],Mt[1]),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x",_t),Et.setAttributeNS(null,"y",xt),Et.setAttributeNS(null,"width",wt-_t),Et.setAttributeNS(null,"height",At-xt),Et.setAttributeNS(null,"fill",this._makeShadingPattern(g)),this.current.fillAlpha<1&&Et.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Et)}_makeColorN_Pattern(g){return g[0]==="TilingPattern"?this._makeTilingPattern(g):this._makeShadingPattern(g)}_makeTilingPattern(g){const k=g[1],ot=g[2],ct=g[3]||o.IDENTITY_MATRIX,[dt,ft,bt,Mt]=g[4],_t=g[5],xt=g[6],wt=g[7],At=`shading${$++}`,[Et,yt,Pt,It]=o.Util.normalizeRect([...o.Util.applyTransform([dt,ft],ct),...o.Util.applyTransform([bt,Mt],ct)]),[vt,Wt]=o.Util.singularValueDecompose2dScale(ct),jt=_t*vt,Rt=xt*Wt,ht=this.svgFactory.createElement("svg:pattern");ht.setAttributeNS(null,"id",At),ht.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ht.setAttributeNS(null,"width",jt),ht.setAttributeNS(null,"height",Rt),ht.setAttributeNS(null,"x",`${Et}`),ht.setAttributeNS(null,"y",`${yt}`);const gt=this.svg,Ot=this.transformMatrix,Ft=this.current.fillColor,lt=this.current.strokeColor,mt=this.svgFactory.create(Pt-Et,It-yt);if(this.svg=mt,this.transformMatrix=ct,wt===2){const St=o.Util.makeHexColor(...k);this.current.fillColor=St,this.current.strokeColor=St}return this.executeOpTree(this.convertOpList(ot)),this.svg=gt,this.transformMatrix=Ot,this.current.fillColor=Ft,this.current.strokeColor=lt,ht.append(mt.childNodes[0]),this.defs.append(ht),`url(#${At})`}_makeShadingPattern(g){switch(typeof g=="string"&&(g=this.objs.get(g)),g[0]){case"RadialAxial":const k=`shading${$++}`,ot=g[3];let ct;switch(g[1]){case"axial":const dt=g[4],ft=g[5];ct=this.svgFactory.createElement("svg:linearGradient"),ct.setAttributeNS(null,"id",k),ct.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ct.setAttributeNS(null,"x1",dt[0]),ct.setAttributeNS(null,"y1",dt[1]),ct.setAttributeNS(null,"x2",ft[0]),ct.setAttributeNS(null,"y2",ft[1]);break;case"radial":const bt=g[4],Mt=g[5],_t=g[6],xt=g[7];ct=this.svgFactory.createElement("svg:radialGradient"),ct.setAttributeNS(null,"id",k),ct.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ct.setAttributeNS(null,"cx",Mt[0]),ct.setAttributeNS(null,"cy",Mt[1]),ct.setAttributeNS(null,"r",xt),ct.setAttributeNS(null,"fx",bt[0]),ct.setAttributeNS(null,"fy",bt[1]),ct.setAttributeNS(null,"fr",_t);break;default:throw new Error(`Unknown RadialAxial type: ${g[1]}`)}for(const dt of ot){const ft=this.svgFactory.createElement("svg:stop");ft.setAttributeNS(null,"offset",dt[0]),ft.setAttributeNS(null,"stop-color",dt[1]),ct.append(ft)}return this.defs.append(ct),`url(#${k})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${g[0]}`)}}setDash(g,k){this.current.dashArray=g,this.current.dashPhase=k}constructPath(g,k){const ot=this.current;let ct=ot.x,dt=ot.y,ft=[],bt=0;for(const Mt of g)switch(Mt|0){case o.OPS.rectangle:ct=k[bt++],dt=k[bt++];const _t=k[bt++],xt=k[bt++],wt=ct+_t,At=dt+xt;ft.push("M",rt(ct),rt(dt),"L",rt(wt),rt(dt),"L",rt(wt),rt(At),"L",rt(ct),rt(At),"Z");break;case o.OPS.moveTo:ct=k[bt++],dt=k[bt++],ft.push("M",rt(ct),rt(dt));break;case o.OPS.lineTo:ct=k[bt++],dt=k[bt++],ft.push("L",rt(ct),rt(dt));break;case o.OPS.curveTo:ct=k[bt+4],dt=k[bt+5],ft.push("C",rt(k[bt]),rt(k[bt+1]),rt(k[bt+2]),rt(k[bt+3]),rt(ct),rt(dt)),bt+=6;break;case o.OPS.curveTo2:ft.push("C",rt(ct),rt(dt),rt(k[bt]),rt(k[bt+1]),rt(k[bt+2]),rt(k[bt+3])),ct=k[bt+2],dt=k[bt+3],bt+=4;break;case o.OPS.curveTo3:ct=k[bt+2],dt=k[bt+3],ft.push("C",rt(k[bt]),rt(k[bt+1]),rt(ct),rt(dt),rt(ct),rt(dt)),bt+=4;break;case o.OPS.closePath:ft.push("Z");break}ft=ft.join(" "),ot.path&&g.length>0&&g[0]!==o.OPS.rectangle&&g[0]!==o.OPS.moveTo?ft=ot.path.getAttributeNS(null,"d")+ft:(ot.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ot.path)),ot.path.setAttributeNS(null,"d",ft),ot.path.setAttributeNS(null,"fill","none"),ot.element=ot.path,ot.setCurrentPoint(ct,dt)}endPath(){const g=this.current;if(g.path=null,!this.pendingClip)return;if(!g.element){this.pendingClip=null;return}const k=`clippath${_++}`,ot=this.svgFactory.createElement("svg:clipPath");ot.setAttributeNS(null,"id",k),ot.setAttributeNS(null,"transform",ut(this.transformMatrix));const ct=g.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ct.setAttributeNS(null,"clip-rule","evenodd"):ct.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ot.append(ct),this.defs.append(ot),g.activeClipUrl){g.clipGroup=null;for(const dt of this.extraStack)dt.clipGroup=null;ot.setAttributeNS(null,"clip-path",g.activeClipUrl)}g.activeClipUrl=`url(#${k})`,this.tgrp=null}clip(g){this.pendingClip=g}closePath(){const g=this.current;if(g.path){const k=`${g.path.getAttributeNS(null,"d")}Z`;g.path.setAttributeNS(null,"d",k)}}setLeading(g){this.current.leading=-g}setTextRise(g){this.current.textRise=g}setTextRenderingMode(g){this.current.textRenderingMode=g}setHScale(g){this.current.textHScale=g/100}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(const[k,ot]of g)switch(k){case"LW":this.setLineWidth(ot);break;case"LC":this.setLineCap(ot);break;case"LJ":this.setLineJoin(ot);break;case"ML":this.setMiterLimit(ot);break;case"D":this.setDash(ot[0],ot[1]);break;case"RI":this.setRenderingIntent(ot);break;case"FL":this.setFlatness(ot);break;case"Font":this.setFont(ot);break;case"CA":this.setStrokeAlpha(ot);break;case"ca":this.setFillAlpha(ot);break;default:(0,o.warn)(`Unimplemented graphic state operator ${k}`);break}}fill(){const g=this.current;g.element&&(g.element.setAttributeNS(null,"fill",g.fillColor),g.element.setAttributeNS(null,"fill-opacity",g.fillAlpha),this.endPath())}stroke(){const g=this.current;g.element&&(this._setStrokeAttributes(g.element),g.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(g){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const ot=this.current;let ct=ot.dashArray;k!==1&&ct.length>0&&(ct=ct.map(function(dt){return k*dt})),g.setAttributeNS(null,"stroke",ot.strokeColor),g.setAttributeNS(null,"stroke-opacity",ot.strokeAlpha),g.setAttributeNS(null,"stroke-miterlimit",rt(ot.miterLimit)),g.setAttributeNS(null,"stroke-linecap",ot.lineCap),g.setAttributeNS(null,"stroke-linejoin",ot.lineJoin),g.setAttributeNS(null,"stroke-width",rt(k*ot.lineWidth)+"px"),g.setAttributeNS(null,"stroke-dasharray",ct.map(rt).join(" ")),g.setAttributeNS(null,"stroke-dashoffset",rt(k*ot.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width","1px"),g.setAttributeNS(null,"height","1px"),g.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(g)}paintImageXObject(g){const k=g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g);if(!k){(0,o.warn)(`Dependent image with object ID ${g} is not ready yet`);return}this.paintInlineImageXObject(k)}paintInlineImageXObject(g,k){const ot=g.width,ct=g.height,dt=nt(g,this.forceDataSchema,!!k),ft=this.svgFactory.createElement("svg:rect");ft.setAttributeNS(null,"x","0"),ft.setAttributeNS(null,"y","0"),ft.setAttributeNS(null,"width",rt(ot)),ft.setAttributeNS(null,"height",rt(ct)),this.current.element=ft,this.clip("nonzero");const bt=this.svgFactory.createElement("svg:image");bt.setAttributeNS(b,"xlink:href",dt),bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y",rt(-ct)),bt.setAttributeNS(null,"width",rt(ot)+"px"),bt.setAttributeNS(null,"height",rt(ct)+"px"),bt.setAttributeNS(null,"transform",`scale(${rt(1/ot)} ${rt(-1/ct)})`),k?k.append(bt):this._ensureTransformGroup().append(bt)}paintImageMaskXObject(g){const k=this.current,ot=g.width,ct=g.height,dt=k.fillColor;k.maskId=`mask${tt++}`;const ft=this.svgFactory.createElement("svg:mask");ft.setAttributeNS(null,"id",k.maskId);const bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y","0"),bt.setAttributeNS(null,"width",rt(ot)),bt.setAttributeNS(null,"height",rt(ct)),bt.setAttributeNS(null,"fill",dt),bt.setAttributeNS(null,"mask",`url(#${k.maskId})`),this.defs.append(ft),this._ensureTransformGroup().append(bt),this.paintInlineImageXObject(g,ft)}paintFormXObjectBegin(g,k){if(Array.isArray(g)&&g.length===6&&this.transform(g[0],g[1],g[2],g[3],g[4],g[5]),k){const ot=k[2]-k[0],ct=k[3]-k[1],dt=this.svgFactory.createElement("svg:rect");dt.setAttributeNS(null,"x",k[0]),dt.setAttributeNS(null,"y",k[1]),dt.setAttributeNS(null,"width",rt(ot)),dt.setAttributeNS(null,"height",rt(ct)),this.current.element=dt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(g){const k=this.svgFactory.create(g.width,g.height),ot=this.svgFactory.createElement("svg:defs");k.append(ot),this.defs=ot;const ct=this.svgFactory.createElement("svg:g");return ct.setAttributeNS(null,"transform",ut(g.transform)),k.append(ct),this.svg=ct,k}_ensureClipGroup(){if(!this.current.clipGroup){const g=this.svgFactory.createElement("svg:g");g.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(g),this.current.clipGroup=g}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ut(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var s=a(1),o=a(158);const c=require$$6,f=require$$6,d=require$$6,j=require$$6,b=/^file:\/\/\/[a-zA-Z]:\//;function _e(tt){const $=j.parse(tt);return $.protocol==="file:"||$.host?$:/^[a-z]:[/\\]/i.test(tt)?j.parse(`file:///${tt}`):($.host||($.protocol="file:"),$)}class pt{constructor($){this.source=$,this.url=_e($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $,g;return($=(g=this._fullRequestReader)===null||g===void 0?void 0:g._loaded)!==null&&$!==void 0?$:0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ut(this):new it(this),this._fullRequestReader}getRangeReader($,g){if(g<=this._progressiveDataLength)return null;const k=this.isFsUrl?new _(this,$,g):new rt(this,$,g);return this._rangeRequestReaders.push(k),k}cancelAllRequests($){this._fullRequestReader&&this._fullRequestReader.cancel($);for(const g of this._rangeRequestReaders.slice(0))g.cancel($)}}i.PDFNodeStream=pt;class et{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=$.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._headersCapability=(0,s.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=(0,s.createPromiseCapability)(),this.read()):(this._loaded+=$.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class nt{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)();const g=$.source;this._isStreamingSupported=!g.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=(0,s.createPromiseCapability)(),this.read()):(this._loaded+=$.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function at(tt,$){return{protocol:tt.protocol,auth:tt.auth,host:tt.hostname,port:tt.port,path:tt.path,method:"GET",headers:$}}class it extends et{constructor($){super($);const g=k=>{if(k.statusCode===404){const ft=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ft,this._headersCapability.reject(ft);return}this._headersCapability.resolve(),this._setReadableStream(k);const ot=ft=>this._readableStream.headers[ft.toLowerCase()],{allowRangeRequests:ct,suggestedLength:dt}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:ot,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ct,this._contentLength=dt||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(ot)};this._request=null,this._url.protocol==="http:"?this._request=f.request(at(this._url,$.httpHeaders),g):this._request=d.request(at(this._url,$.httpHeaders),g),this._request.on("error",k=>{this._storedError=k,this._headersCapability.reject(k)}),this._request.end()}}class rt extends nt{constructor($,g,k){super($);this._httpHeaders={};for(const ct in $.httpHeaders){const dt=$.httpHeaders[ct];typeof dt!="undefined"&&(this._httpHeaders[ct]=dt)}this._httpHeaders.Range=`bytes=${g}-${k-1}`;const ot=ct=>{if(ct.statusCode===404){const dt=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=dt;return}this._setReadableStream(ct)};this._request=null,this._url.protocol==="http:"?this._request=f.request(at(this._url,this._httpHeaders),ot):this._request=d.request(at(this._url,this._httpHeaders),ot),this._request.on("error",ct=>{this._storedError=ct}),this._request.end()}}class ut extends et{constructor($){super($);let g=decodeURIComponent(this._url.path);b.test(this._url.href)&&(g=g.replace(/^\//,"")),c.lstat(g,(k,ot)=>{if(k){k.code==="ENOENT"&&(k=new s.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=k,this._headersCapability.reject(k);return}this._contentLength=ot.size,this._setReadableStream(c.createReadStream(g)),this._headersCapability.resolve()})}}class _ extends nt{constructor($,g,k){super($);let ot=decodeURIComponent(this._url.path);b.test(this._url.href)&&(ot=ot.replace(/^\//,"")),this._setReadableStream(c.createReadStream(ot,{start:g,end:k-1}))}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=j,i.extractFilenameFromHeader=d,i.validateRangeRequestCapabilities=f,i.validateResponseStatus=b;var s=a(1),o=a(159),c=a(133);function f(_e){let{getResponseHeader:pt,isHttp:et,rangeChunkSize:nt,disableRange:at}=_e;const it={allowRangeRequests:!1,suggestedLength:void 0},rt=parseInt(pt("Content-Length"),10);return!Number.isInteger(rt)||(it.suggestedLength=rt,rt<=2*nt)||at||!et||pt("Accept-Ranges")!=="bytes"||(pt("Content-Encoding")||"identity")!=="identity"||(it.allowRangeRequests=!0),it}function d(_e){const pt=_e("Content-Disposition");if(pt){let et=(0,o.getFilenameFromContentDispositionHeader)(pt);if(et.includes("%"))try{et=decodeURIComponent(et)}catch{}if((0,c.isPdfFile)(et))return et}return null}function j(_e,pt){return _e===404||_e===0&&pt.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+pt+'".'):new s.UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${pt}".`,_e)}function b(_e){return _e===200||_e===206}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=o;var s=a(1);function o(c){let f=!0,d=j("filename\\*","i").exec(c);if(d){d=d[1];let it=et(d);return it=unescape(it),it=nt(it),it=at(it),_e(it)}if(d=pt(c),d){const it=at(d);return _e(it)}if(d=j("filename","i").exec(c),d){d=d[1];let it=et(d);return it=at(it),_e(it)}function j(it,rt){return new RegExp("(?:^|;)\\s*"+it+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',rt)}function b(it,rt){if(it){if(!/^[\x00-\xFF]+$/.test(rt))return rt;try{const ut=new TextDecoder(it,{fatal:!0}),_=(0,s.stringToBytes)(rt);rt=ut.decode(_),f=!1}catch{}}return rt}function _e(it){return f&&/[\x80-\xff]/.test(it)&&(it=b("utf-8",it),f&&(it=b("iso-8859-1",it))),it}function pt(it){const rt=[];let ut;const _=j("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ut=_.exec(it))!==null;){let[,$,g,k]=ut;if($=parseInt($,10),$ in rt){if($===0)break;continue}rt[$]=[g,k]}const tt=[];for(let $=0;$<rt.length&&$ in rt;++$){let[g,k]=rt[$];k=et(k),g&&(k=unescape(k),$===0&&(k=nt(k))),tt.push(k)}return tt.join("")}function et(it){if(it.startsWith('"')){const rt=it.slice(1).split('\\"');for(let ut=0;ut<rt.length;++ut){const _=rt[ut].indexOf('"');_!==-1&&(rt[ut]=rt[ut].slice(0,_),rt.length=ut+1),rt[ut]=rt[ut].replace(/\\(.)/g,"$1")}it=rt.join('"')}return it}function nt(it){const rt=it.indexOf("'");if(rt===-1)return it;const ut=it.slice(0,rt),tt=it.slice(rt+1).replace(/^[^']*'/,"");return b(ut,tt)}function at(it){return!it.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(it)?it:it.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(rt,ut,_,tt){if(_==="q"||_==="Q")return tt=tt.replace(/_/g," "),tt=tt.replace(/=([0-9a-fA-F]{2})/g,function($,g){return String.fromCharCode(parseInt(g,16))}),b(ut,tt);try{tt=atob(tt)}catch{}return b(ut,tt)})}return""}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var s=a(1),o=a(158);const c=200,f=206;function d(et){const nt=et.response;return typeof nt!="string"?nt:(0,s.stringToBytes)(nt).buffer}class j{constructor(nt){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=nt,this.isHttp=/^https?:/i.test(nt),this.httpHeaders=this.isHttp&&at.httpHeaders||Object.create(null),this.withCredentials=at.withCredentials||!1,this.getXhr=at.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(nt,at,it){const rt={begin:nt,end:at};for(const ut in it)rt[ut]=it[ut];return this.request(rt)}requestFull(nt){return this.request(nt)}request(nt){const at=this.getXhr(),it=this.currXhrId++,rt=this.pendingRequests[it]={xhr:at};at.open("GET",this.url),at.withCredentials=this.withCredentials;for(const ut in this.httpHeaders){const _=this.httpHeaders[ut];typeof _!="undefined"&&at.setRequestHeader(ut,_)}return this.isHttp&&"begin"in nt&&"end"in nt?(at.setRequestHeader("Range",`bytes=${nt.begin}-${nt.end-1}`),rt.expectedStatus=f):rt.expectedStatus=c,at.responseType="arraybuffer",nt.onError&&(at.onerror=function(ut){nt.onError(at.status)}),at.onreadystatechange=this.onStateChange.bind(this,it),at.onprogress=this.onProgress.bind(this,it),rt.onHeadersReceived=nt.onHeadersReceived,rt.onDone=nt.onDone,rt.onError=nt.onError,rt.onProgress=nt.onProgress,at.send(null),it}onProgress(nt,at){var it;const rt=this.pendingRequests[nt];!rt||(it=rt.onProgress)===null||it===void 0||it.call(rt,at)}onStateChange(nt,at){const it=this.pendingRequests[nt];if(!it)return;const rt=it.xhr;if(rt.readyState>=2&&it.onHeadersReceived&&(it.onHeadersReceived(),delete it.onHeadersReceived),rt.readyState!==4||!(nt in this.pendingRequests))return;if(delete this.pendingRequests[nt],rt.status===0&&this.isHttp){var ut;(ut=it.onError)===null||ut===void 0||ut.call(it,rt.status);return}const _=rt.status||c;if(!(_===c&&it.expectedStatus===f)&&_!==it.expectedStatus){var $;($=it.onError)===null||$===void 0||$.call(it,rt.status);return}const g=d(rt);if(_===f){const ot=rt.getResponseHeader("Content-Range"),ct=/bytes (\d+)-(\d+)\/(\d+)/.exec(ot);it.onDone({begin:parseInt(ct[1],10),chunk:g})}else if(g)it.onDone({begin:0,chunk:g});else{var k;(k=it.onError)===null||k===void 0||k.call(it,rt.status)}}getRequestXhr(nt){return this.pendingRequests[nt].xhr}isPendingRequest(nt){return nt in this.pendingRequests}abortRequest(nt){const at=this.pendingRequests[nt].xhr;delete this.pendingRequests[nt],at.abort()}}class b{constructor(nt){this._source=nt,this._manager=new j(nt.url,{httpHeaders:nt.httpHeaders,withCredentials:nt.withCredentials}),this._rangeChunkSize=nt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(nt){const at=this._rangeRequestReaders.indexOf(nt);at>=0&&this._rangeRequestReaders.splice(at,1)}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _e(this._manager,this._source),this._fullRequestReader}getRangeReader(nt,at){const it=new pt(this._manager,nt,at);return it.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(it),it}cancelAllRequests(nt){var at;(at=this._fullRequestReader)===null||at===void 0||at.cancel(nt);for(const it of this._rangeRequestReaders.slice(0))it.cancel(nt)}}i.PDFNetworkStream=b;class _e{constructor(nt,at){this._manager=nt;const it={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=at.url,this._fullRequestId=nt.requestFull(it),this._headersReceivedCapability=(0,s.createPromiseCapability)(),this._disableRange=at.disableRange||!1,this._contentLength=at.length,this._rangeChunkSize=at.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const nt=this._fullRequestId,at=this._manager.getRequestXhr(nt),it=_=>at.getResponseHeader(_),{allowRangeRequests:rt,suggestedLength:ut}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});rt&&(this._isRangeSupported=!0),this._contentLength=ut||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(it),this._isRangeSupported&&this._manager.abortRequest(nt),this._headersReceivedCapability.resolve()}_onDone(nt){if(nt&&(this._requests.length>0?this._requests.shift().resolve({value:nt.chunk,done:!1}):this._cachedChunks.push(nt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(nt){this._storedError=(0,o.createResponseStatusError)(nt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const at of this._requests)at.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(nt){var at;(at=this.onProgress)===null||at===void 0||at.call(this,{loaded:nt.loaded,total:nt.lengthComputable?nt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const nt=(0,s.createPromiseCapability)();return this._requests.push(nt),nt.promise}cancel(nt){this._done=!0,this._headersReceivedCapability.reject(nt);for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class pt{constructor(nt,at,it){this._manager=nt;const rt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=nt.url,this._requestId=nt.requestRange(at,it,rt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var nt;(nt=this.onClosed)===null||nt===void 0||nt.call(this,this)}_onDone(nt){const at=nt.chunk;this._requests.length>0?this._requests.shift().resolve({value:at,done:!1}):this._queuedChunk=at,this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(nt){this._storedError=(0,o.createResponseStatusError)(nt,this._url);for(const at of this._requests)at.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(nt){if(!this.isStreamingSupported){var at;(at=this.onProgress)===null||at===void 0||at.call(this,{loaded:nt.loaded})}}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const at=this._queuedChunk;return this._queuedChunk=null,{value:at,done:!1}}if(this._done)return{value:void 0,done:!0};const nt=(0,s.createPromiseCapability)();return this._requests.push(nt),nt.promise}cancel(nt){this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var s=a(1),o=a(158);function c(_e,pt,et){return{method:"GET",headers:_e,signal:et.signal,mode:"cors",credentials:pt?"include":"same-origin",redirect:"follow"}}function f(_e){const pt=new Headers;for(const et in _e){const nt=_e[et];typeof nt!="undefined"&&pt.append(et,nt)}return pt}class d{constructor(pt){this.source=pt,this.isHttp=/^https?:/i.test(pt.url),this.httpHeaders=this.isHttp&&pt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var pt,et;return(pt=(et=this._fullRequestReader)===null||et===void 0?void 0:et._loaded)!==null&&pt!==void 0?pt:0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new j(this),this._fullRequestReader}getRangeReader(pt,et){if(et<=this._progressiveDataLength)return null;const nt=new b(this,pt,et);return this._rangeRequestReaders.push(nt),nt}cancelAllRequests(pt){this._fullRequestReader&&this._fullRequestReader.cancel(pt);for(const et of this._rangeRequestReaders.slice(0))et.cancel(pt)}}i.PDFFetchStream=d;class j{constructor(pt){this._stream=pt,this._reader=null,this._loaded=0,this._filename=null;const et=pt.source;this._withCredentials=et.withCredentials||!1,this._contentLength=et.length,this._headersCapability=(0,s.createPromiseCapability)(),this._disableRange=et.disableRange||!1,this._rangeChunkSize=et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!et.disableStream,this._isRangeSupported=!et.disableRange,this._headers=f(this._stream.httpHeaders);const nt=et.url;fetch(nt,c(this._headers,this._withCredentials,this._abortController)).then(at=>{if(!(0,o.validateResponseStatus)(at.status))throw(0,o.createResponseStatusError)(at.status,nt);this._reader=at.body.getReader(),this._headersCapability.resolve();const it=_=>at.headers.get(_),{allowRangeRequests:rt,suggestedLength:ut}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=rt,this._contentLength=ut||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(it),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:pt,done:et}=await this._reader.read();return et?{value:pt,done:et}:(this._loaded+=pt.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(pt).buffer,done:!1})}cancel(pt){this._reader&&this._reader.cancel(pt),this._abortController.abort()}}class b{constructor(pt,et,nt){this._stream=pt,this._reader=null,this._loaded=0;const at=pt.source;this._withCredentials=at.withCredentials||!1,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!at.disableStream,this._abortController=new AbortController,this._headers=f(this._stream.httpHeaders),this._headers.append("Range",`bytes=${et}-${nt-1}`);const it=at.url;fetch(it,c(this._headers,this._withCredentials,this._abortController)).then(rt=>{if(!(0,o.validateResponseStatus)(rt.status))throw(0,o.createResponseStatusError)(rt.status,it);this._readCapability.resolve(),this._reader=rt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:pt,done:et}=await this._reader.read();return et?{value:pt,done:et}:(this._loaded+=pt.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(pt).buffer,done:!1})}cancel(pt){this._reader&&this._reader.cancel(pt),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](a,a.exports,__w_pdfjs_require__),a.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return o.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return c.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return f.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return d.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return a.LoopbackPort}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return s.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return s.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return s.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return _e.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return i.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return pt.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return i.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return s.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return s.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return s.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return s.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return s.loadScript}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return b.renderTextLayer}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return a.version}});var i=__w_pdfjs_require__(1),a=__w_pdfjs_require__(129),s=__w_pdfjs_require__(133),o=__w_pdfjs_require__(147),c=__w_pdfjs_require__(132),f=__w_pdfjs_require__(152),d=__w_pdfjs_require__(140),j=__w_pdfjs_require__(3),b=__w_pdfjs_require__(155),_e=__w_pdfjs_require__(156),pt=__w_pdfjs_require__(154);if(j.isNodeJS){const{PDFNodeStream:et}=__w_pdfjs_require__(157);(0,a.setPDFNetworkStreamFactory)(nt=>new et(nt))}else{const{PDFNetworkStream:et}=__w_pdfjs_require__(160),{PDFFetchStream:nt}=__w_pdfjs_require__(161);(0,a.setPDFNetworkStreamFactory)(at=>(0,s.isValidFetchUrl)(at.url)?new nt(at):new et(at))}})(),__webpack_exports__})())})(pdf);(function(e,i){(function(s,o){e.exports=o()})(globalThis,()=>(()=>{var a=[,(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DefaultXfaLayerFactory=d.DefaultTextLayerFactory=d.DefaultStructTreeLayerFactory=d.DefaultAnnotationLayerFactory=d.DefaultAnnotationEditorLayerFactory=void 0;var b=j(2),_e=j(5),pt=j(4),et=j(6),nt=j(8),at=j(9),it=j(10);class rt{createAnnotationLayerBuilder(k){let{pageDiv:ot,pdfPage:ct,annotationStorage:dt=null,imageResourcesPath:ft="",renderForms:bt=!0,l10n:Mt=pt.NullL10n,enableScripting:_t=!1,hasJSActionsPromise:xt=null,mouseState:wt=null,fieldObjectsPromise:At=null,annotationCanvasMap:Et=null,accessibilityManager:yt=null}=k;return new _e.AnnotationLayerBuilder({pageDiv:ot,pdfPage:ct,imageResourcesPath:ft,renderForms:bt,linkService:new et.SimpleLinkService,l10n:Mt,annotationStorage:dt,enableScripting:_t,hasJSActionsPromise:xt,fieldObjectsPromise:At,mouseState:wt,annotationCanvasMap:Et,accessibilityManager:yt})}}d.DefaultAnnotationLayerFactory=rt;class ut{createAnnotationEditorLayerBuilder(k){let{uiManager:ot=null,pageDiv:ct,pdfPage:dt,accessibilityManager:ft=null,l10n:bt,annotationStorage:Mt=null}=k;return new b.AnnotationEditorLayerBuilder({uiManager:ot,pageDiv:ct,pdfPage:dt,accessibilityManager:ft,l10n:bt,annotationStorage:Mt})}}d.DefaultAnnotationEditorLayerFactory=ut;class _{createStructTreeLayerBuilder(k){let{pdfPage:ot}=k;return new nt.StructTreeLayerBuilder({pdfPage:ot})}}d.DefaultStructTreeLayerFactory=_;class tt{createTextLayerBuilder(k){let{textLayerDiv:ot,pageIndex:ct,viewport:dt,enhanceTextSelection:ft=!1,eventBus:bt,highlighter:Mt,accessibilityManager:_t=null}=k;return new at.TextLayerBuilder({textLayerDiv:ot,pageIndex:ct,viewport:dt,enhanceTextSelection:ft,eventBus:bt,highlighter:Mt,accessibilityManager:_t})}}d.DefaultTextLayerFactory=tt;class ${createXfaLayerBuilder(k){let{pageDiv:ot,pdfPage:ct,annotationStorage:dt=null}=k;return new it.XfaLayerBuilder({pageDiv:ot,pdfPage:ct,annotationStorage:dt,linkService:new et.SimpleLinkService})}}d.DefaultXfaLayerFactory=$},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditorLayerBuilder=void 0;var b=j(3),_e=j(4);function pt($,g,k){et($,g),g.set($,k)}function et($,g){if(g.has($))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nt($,g){var k=rt($,g,"get");return at($,k)}function at($,g){return g.get?g.get.call($):g.value}function it($,g,k){var ot=rt($,g,"set");return ut($,ot,k),k}function rt($,g,k){if(!g.has($))throw new TypeError("attempted to "+k+" private field on non-instance");return g.get($)}function ut($,g,k){if(g.set)g.set.call($,k);else{if(!g.writable)throw new TypeError("attempted to set read only private field");g.value=k}}var _=new WeakMap;class tt{constructor(g){pt(this,_,{writable:!0,value:void 0}),this.pageDiv=g.pageDiv,this.pdfPage=g.pdfPage,this.annotationStorage=g.annotationStorage||null,this.accessibilityManager=g.accessibilityManager,this.l10n=g.l10n||_e.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,it(this,_,g.uiManager)}async render(g){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(k!=="display"||this._cancelled)return;const ot=g.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:ot}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new b.AnnotationEditorLayer({uiManager:nt(this,_),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:ot});const ct={viewport:ot,div:this.div,annotations:null,intent:k};this.annotationEditorLayer.render(ct)}cancel(){this._cancelled=!0,this.destroy()}hide(){!this.div||(this.div.hidden=!0)}show(){!this.div||(this.div.hidden=!1)}destroy(){!this.div||(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}d.AnnotationEditorLayerBuilder=tt},f=>{let d;typeof window!="undefined"&&window["pdfjs-dist/build/pdf"]?d=window["pdfjs-dist/build/pdf"]:d=pdf.exports,f.exports=d},(f,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NullL10n=void 0,d.fixupLangCode=pt,d.getL10nFallback=b;const j={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function b(at,it){switch(at){case"find_match_count":at=`find_match_count[${it.total===1?"one":"other"}]`;break;case"find_match_count_limit":at=`find_match_count_limit[${it.limit===1?"one":"other"}]`;break}return j[at]||""}const _e={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function pt(at){return _e[at==null?void 0:at.toLowerCase()]||at}function et(at,it){return it?at.replace(/\{\{\s*(\w+)\s*\}\}/g,(rt,ut)=>ut in it?it[ut]:"{{"+ut+"}}"):at}const nt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(at){let it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b(at,it);return et(rt,it)},async translate(at){}};d.NullL10n=nt},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationLayerBuilder=void 0;var b=j(3),_e=j(4);class pt{constructor(nt){let{pageDiv:at,pdfPage:it,linkService:rt,downloadManager:ut,annotationStorage:_=null,imageResourcesPath:tt="",renderForms:$=!0,l10n:g=_e.NullL10n,enableScripting:k=!1,hasJSActionsPromise:ot=null,fieldObjectsPromise:ct=null,mouseState:dt=null,annotationCanvasMap:ft=null,accessibilityManager:bt=null}=nt;this.pageDiv=at,this.pdfPage=it,this.linkService=rt,this.downloadManager=ut,this.imageResourcesPath=tt,this.renderForms=$,this.l10n=g,this.annotationStorage=_,this.enableScripting=k,this._hasJSActionsPromise=ot,this._fieldObjectsPromise=ct,this._mouseState=dt,this._annotationCanvasMap=ft,this._accessibilityManager=bt,this.div=null,this._cancelled=!1}async render(nt){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";const[it,rt=!1,ut=null]=await Promise.all([this.pdfPage.getAnnotations({intent:at}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||it.length===0)return;const _={viewport:nt.clone({dontFlip:!0}),div:this.div,annotations:it,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:rt,fieldObjects:ut,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?b.AnnotationLayer.update(_):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),_.div=this.div,b.AnnotationLayer.render(_),this.l10n.translate(this.div))}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}d.AnnotationLayerBuilder=pt},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SimpleLinkService=d.PDFLinkService=d.LinkTarget=void 0;var b=j(7);function _e(Mt,_t){et(Mt,_t),_t.add(Mt)}function pt(Mt,_t,xt){et(Mt,_t),_t.set(Mt,xt)}function et(Mt,_t){if(_t.has(Mt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nt(Mt,_t,xt){return at(Mt,_t),xt}function at(Mt,_t){if(Mt!==_t)throw new TypeError("Private static access of wrong provenance")}function it(Mt,_t,xt){if(!_t.has(Mt))throw new TypeError("attempted to get private field on non-instance");return xt}function rt(Mt,_t){var xt=ut(Mt,_t,"get");return _(Mt,xt)}function ut(Mt,_t,xt){if(!_t.has(Mt))throw new TypeError("attempted to "+xt+" private field on non-instance");return _t.get(Mt)}function _(Mt,_t){return _t.get?_t.get.call(Mt):_t.value}const tt="noopener noreferrer nofollow",$={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};d.LinkTarget=$;function g(Mt){let{url:_t,target:xt,rel:wt,enabled:At=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!_t||typeof _t!="string")throw new Error('A valid "url" parameter must provided.');const Et=(0,b.removeNullCharacters)(_t);At?Mt.href=Mt.title=Et:(Mt.href="",Mt.title=`Disabled: ${Et}`,Mt.onclick=()=>!1);let yt="";switch(xt){case $.NONE:break;case $.SELF:yt="_self";break;case $.BLANK:yt="_blank";break;case $.PARENT:yt="_parent";break;case $.TOP:yt="_top";break}Mt.target=yt,Mt.rel=typeof wt=="string"?wt:tt}var k=new WeakMap,ot=new WeakSet;class ct{constructor(){let{eventBus:_t,externalLinkTarget:xt=null,externalLinkRel:wt=null,ignoreDestinationZoom:At=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_e(this,ot),pt(this,k,{writable:!0,value:new Map}),this.eventBus=_t,this.externalLinkTarget=xt,this.externalLinkRel=wt,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=At,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(_t){let xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.baseUrl=xt,this.pdfDocument=_t,rt(this,k).clear()}setViewer(_t){this.pdfViewer=_t}setHistory(_t){this.pdfHistory=_t}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(_t){this.pdfViewer.currentPageNumber=_t}get rotation(){return this.pdfViewer.pagesRotation}set rotation(_t){this.pdfViewer.pagesRotation=_t}async goToDestination(_t){if(!this.pdfDocument)return;let xt,wt;if(typeof _t=="string"?(xt=_t,wt=await this.pdfDocument.getDestination(_t)):(xt=null,wt=await _t),!Array.isArray(wt)){console.error(`PDFLinkService.goToDestination: "${wt}" is not a valid destination array, for dest="${_t}".`);return}it(this,ot,dt).call(this,_t,xt,wt)}goToPage(_t){if(!this.pdfDocument)return;const xt=typeof _t=="string"&&this.pdfViewer.pageLabelToPageNumber(_t)||_t|0;if(!(Number.isInteger(xt)&&xt>0&&xt<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${_t}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(xt)),this.pdfViewer.scrollPageIntoView({pageNumber:xt})}addLinkAttributes(_t,xt){let wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;g(_t,{url:xt,target:wt?$.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(_t){if(typeof _t=="string"){if(_t.length>0)return this.getAnchorUrl("#"+escape(_t))}else if(Array.isArray(_t)){const xt=JSON.stringify(_t);if(xt.length>0)return this.getAnchorUrl("#"+escape(xt))}return this.getAnchorUrl("")}getAnchorUrl(_t){return(this.baseUrl||"")+_t}setHash(_t){if(!this.pdfDocument)return;let xt,wt;if(_t.includes("=")){const At=(0,b.parseQueryString)(_t);if(At.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:At.get("search").replace(/"/g,""),phraseSearch:At.get("phrase")==="true"}),At.has("page")&&(xt=At.get("page")|0||1),At.has("zoom")){const Et=At.get("zoom").split(","),yt=Et[0],Pt=parseFloat(yt);yt.includes("Fit")?yt==="Fit"||yt==="FitB"?wt=[null,{name:yt}]:yt==="FitH"||yt==="FitBH"||yt==="FitV"||yt==="FitBV"?wt=[null,{name:yt},Et.length>1?Et[1]|0:null]:yt==="FitR"?Et.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):wt=[null,{name:yt},Et[1]|0,Et[2]|0,Et[3]|0,Et[4]|0]:console.error(`PDFLinkService.setHash: "${yt}" is not a valid zoom value.`):wt=[null,{name:"XYZ"},Et.length>1?Et[1]|0:null,Et.length>2?Et[2]|0:null,Pt?Pt/100:yt]}wt?this.pdfViewer.scrollPageIntoView({pageNumber:xt||this.page,destArray:wt,allowNegativeOffset:!0}):xt&&(this.page=xt),At.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:At.get("pagemode")}),At.has("nameddest")&&this.goToDestination(At.get("nameddest"))}else{wt=unescape(_t);try{wt=JSON.parse(wt),Array.isArray(wt)||(wt=wt.toString())}catch{}if(typeof wt=="string"||nt(ct,ct,ft).call(ct,wt)){this.goToDestination(wt);return}console.error(`PDFLinkService.setHash: "${unescape(_t)}" is not a valid destination.`)}}executeNamedAction(_t){var xt,wt;switch(_t){case"GoBack":(xt=this.pdfHistory)===null||xt===void 0||xt.back();break;case"GoForward":(wt=this.pdfHistory)===null||wt===void 0||wt.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:_t})}cachePageRef(_t,xt){if(!xt)return;const wt=xt.gen===0?`${xt.num}R`:`${xt.num}R${xt.gen}`;rt(this,k).set(wt,_t)}_cachedPageNumber(_t){if(!_t)return null;const xt=_t.gen===0?`${_t.num}R`:`${_t.num}R${_t.gen}`;return rt(this,k).get(xt)||null}isPageVisible(_t){return this.pdfViewer.isPageVisible(_t)}isPageCached(_t){return this.pdfViewer.isPageCached(_t)}}d.PDFLinkService=ct;function dt(Mt){let _t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,xt=arguments.length>2?arguments[2]:void 0;const wt=xt[0];let At;if(typeof wt=="object"&&wt!==null){if(At=this._cachedPageNumber(wt),!At){this.pdfDocument.getPageIndex(wt).then(Et=>{this.cachePageRef(Et+1,wt),it(this,ot,dt).call(this,Mt,_t,xt)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${wt}" is not a valid page reference, for dest="${Mt}".`)});return}}else if(Number.isInteger(wt))At=wt+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${wt}" is not a valid destination reference, for dest="${Mt}".`);return}if(!At||At<1||At>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${At}" is not a valid page number, for dest="${Mt}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:_t,explicitDest:xt,pageNumber:At})),this.pdfViewer.scrollPageIntoView({pageNumber:At,destArray:xt,ignoreDestinationZoom:this._ignoreDestinationZoom})}function ft(Mt){if(!Array.isArray(Mt))return!1;const _t=Mt.length;if(_t<2)return!1;const xt=Mt[0];if(!(typeof xt=="object"&&Number.isInteger(xt.num)&&Number.isInteger(xt.gen))&&!(Number.isInteger(xt)&&xt>=0))return!1;const wt=Mt[1];if(!(typeof wt=="object"&&typeof wt.name=="string"))return!1;let At=!0;switch(wt.name){case"XYZ":if(_t!==5)return!1;break;case"Fit":case"FitB":return _t===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(_t!==3)return!1;break;case"FitR":if(_t!==6)return!1;At=!1;break;default:return!1}for(let Et=2;Et<_t;Et++){const yt=Mt[Et];if(!(typeof yt=="number"||At&&yt===null))return!1}return!0}class bt{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(_t){}get rotation(){return 0}set rotation(_t){}async goToDestination(_t){}goToPage(_t){}addLinkAttributes(_t,xt){g(_t,{url:xt,enabled:this.externalLinkEnabled})}getDestinationHash(_t){return"#"}getAnchorUrl(_t){return"#"}setHash(_t){}executeNamedAction(_t){}cachePageRef(_t,xt){}isPageVisible(_t){return!0}isPageCached(_t){return!0}}d.SimpleLinkService=bt},(f,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.animationStarted=d.VERTICAL_PADDING=d.UNKNOWN_SCALE=d.TextLayerMode=d.SpreadMode=d.SidebarView=d.ScrollMode=d.SCROLLBAR_PADDING=d.RenderingStates=d.RendererType=d.ProgressBar=d.PresentationModeState=d.OutputScale=d.MIN_SCALE=d.MAX_SCALE=d.MAX_AUTO_SCALE=d.DEFAULT_SCALE_VALUE=d.DEFAULT_SCALE_DELTA=d.DEFAULT_SCALE=d.AutoPrintRegExp=void 0,d.apiPageLayoutToViewerModes=vn,d.apiPageModeToSidebarView=An,d.approximateFraction=Rt,d.backtrackBeforeAllVisibleElements=Ot,d.binarySearchFirstItem=jt,d.docStyle=void 0,d.getActiveOrFocusedElement=yn,d.getPageSizeInches=gt,d.getVisibleElements=Ft,d.isPortraitOrientation=$t,d.isValidRotation=Ct,d.isValidScrollMode=Dt,d.isValidSpreadMode=Lt,d.noContextMenuHandler=lt,d.normalizeWheelEventDelta=St,d.normalizeWheelEventDirection=mt,d.parseQueryString=Pt,d.removeNullCharacters=Wt,d.roundToDivide=ht,d.scrollIntoView=Et,d.watchScroll=yt;function j(qt,dn,Sn){b(qt,dn),dn.set(qt,Sn)}function b(qt,dn){if(dn.has(qt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _e(qt,dn){var Sn=nt(qt,dn,"get");return pt(qt,Sn)}function pt(qt,dn){return dn.get?dn.get.call(qt):dn.value}function et(qt,dn,Sn){var mn=nt(qt,dn,"set");return at(qt,mn,Sn),Sn}function nt(qt,dn,Sn){if(!dn.has(qt))throw new TypeError("attempted to "+Sn+" private field on non-instance");return dn.get(qt)}function at(qt,dn,Sn){if(dn.set)dn.set.call(qt,Sn);else{if(!dn.writable)throw new TypeError("attempted to set read only private field");dn.value=Sn}}const it="auto";d.DEFAULT_SCALE_VALUE=it;const rt=1;d.DEFAULT_SCALE=rt;const ut=1.1;d.DEFAULT_SCALE_DELTA=ut;const _=.1;d.MIN_SCALE=_;const tt=10;d.MAX_SCALE=tt;const $=0;d.UNKNOWN_SCALE=$;const g=1.25;d.MAX_AUTO_SCALE=g;const k=40;d.SCROLLBAR_PADDING=k;const ot=5;d.VERTICAL_PADDING=ot;const ct={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};d.RenderingStates=ct;const dt={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};d.PresentationModeState=dt;const ft={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};d.SidebarView=ft;const bt={CANVAS:"canvas",SVG:"svg"};d.RendererType=bt;const Mt={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};d.TextLayerMode=Mt;const _t={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};d.ScrollMode=_t;const xt={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};d.SpreadMode=xt;const wt=/\bprint\s*\(/;d.AutoPrintRegExp=wt;class At{constructor(){const dn=window.devicePixelRatio||1;this.sx=dn,this.sy=dn}get scaled(){return this.sx!==1||this.sy!==1}}d.OutputScale=At;function Et(qt,dn){let Sn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,mn=qt.offsetParent;if(!mn){console.error("offsetParent is not set -- cannot scroll");return}let hn=qt.offsetTop+qt.clientTop,Nt=qt.offsetLeft+qt.clientLeft;for(;mn.clientHeight===mn.scrollHeight&&mn.clientWidth===mn.scrollWidth||Sn&&(mn.classList.contains("markedContent")||getComputedStyle(mn).overflow==="hidden");)if(hn+=mn.offsetTop,Nt+=mn.offsetLeft,mn=mn.offsetParent,!mn)return;dn&&(dn.top!==void 0&&(hn+=dn.top),dn.left!==void 0&&(Nt+=dn.left,mn.scrollLeft=Nt)),mn.scrollTop=hn}function yt(qt,dn){const Sn=function(Nt){hn||(hn=window.requestAnimationFrame(function(){hn=null;const Vt=qt.scrollLeft,on=mn.lastX;Vt!==on&&(mn.right=Vt>on),mn.lastX=Vt;const Kt=qt.scrollTop,an=mn.lastY;Kt!==an&&(mn.down=Kt>an),mn.lastY=Kt,dn(mn)}))},mn={right:!0,down:!0,lastX:qt.scrollLeft,lastY:qt.scrollTop,_eventHandler:Sn};let hn=null;return qt.addEventListener("scroll",Sn,!0),mn}function Pt(qt){const dn=new Map;for(const[Sn,mn]of new URLSearchParams(qt))dn.set(Sn.toLowerCase(),mn);return dn}const It=/\x00/g,vt=/[\x01-\x1F]/g;function Wt(qt){let dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof qt!="string"?(console.error("The argument must be a string."),qt):(dn&&(qt=qt.replace(vt," ")),qt.replace(It,""))}function jt(qt,dn){let mn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,hn=qt.length-1;if(hn<0||!dn(qt[hn]))return qt.length;if(dn(qt[mn]))return mn;for(;mn<hn;){const Nt=mn+hn>>1,kt=qt[Nt];dn(kt)?hn=Nt:mn=Nt+1}return mn}function Rt(qt){if(Math.floor(qt)===qt)return[qt,1];const dn=1/qt,Sn=8;if(dn>Sn)return[1,Sn];if(Math.floor(dn)===dn)return[1,dn];const mn=qt>1?dn:qt;let hn=0,Nt=1,kt=1,Vt=1;for(;;){const Kt=hn+kt,an=Nt+Vt;if(an>Sn)break;mn<=Kt/an?(kt=Kt,Vt=an):(hn=Kt,Nt=an)}let on;return mn-hn/Nt<kt/Vt-mn?on=mn===qt?[hn,Nt]:[Nt,hn]:on=mn===qt?[kt,Vt]:[Vt,kt],on}function ht(qt,dn){const Sn=qt%dn;return Sn===0?qt:Math.round(qt-Sn+dn)}function gt(qt){let{view:dn,userUnit:Sn,rotate:mn}=qt;const[hn,Nt,kt,Vt]=dn,on=mn%180!==0,Kt=(kt-hn)/72*Sn,an=(Vt-Nt)/72*Sn;return{width:on?an:Kt,height:on?Kt:an}}function Ot(qt,dn,Sn){if(qt<2)return qt;let mn=dn[qt].div,hn=mn.offsetTop+mn.clientTop;hn>=Sn&&(mn=dn[qt-1].div,hn=mn.offsetTop+mn.clientTop);for(let Nt=qt-2;Nt>=0&&(mn=dn[Nt].div,!(mn.offsetTop+mn.clientTop+mn.clientHeight<=hn));--Nt)qt=Nt;return qt}function Ft(qt){let{scrollEl:dn,views:Sn,sortByVisibility:mn=!1,horizontal:hn=!1,rtl:Nt=!1}=qt;const kt=dn.scrollTop,Vt=kt+dn.clientHeight,on=dn.scrollLeft,Kt=on+dn.clientWidth;function an(zt){const tn=zt.div;return tn.offsetTop+tn.clientTop+tn.clientHeight>kt}function pn(zt){const tn=zt.div,cn=tn.offsetLeft+tn.clientLeft,_n=cn+tn.clientWidth;return Nt?cn<Kt:_n>on}const Yt=[],Bt=new Set,Ht=Sn.length;let ln=jt(Sn,hn?pn:an);ln>0&&ln<Ht&&!hn&&(ln=Ot(ln,Sn,kt));let nn=hn?Kt:-1;for(let zt=ln;zt<Ht;zt++){const tn=Sn[zt],cn=tn.div,_n=cn.offsetLeft+cn.clientLeft,Pn=cn.offsetTop+cn.clientTop,Cn=cn.clientWidth,En=cn.clientHeight,wn=_n+Cn,xn=Pn+En;if(nn===-1)xn>=Vt&&(nn=xn);else if((hn?_n:Pn)>nn)break;if(xn<=kt||Pn>=Vt||wn<=on||_n>=Kt)continue;const Nn=Math.max(0,kt-Pn)+Math.max(0,xn-Vt),kn=Math.max(0,on-_n)+Math.max(0,wn-Kt),Mn=(En-Nn)/En,Dn=(Cn-kn)/Cn,Ln=Mn*Dn*100|0;Yt.push({id:tn.id,x:_n,y:Pn,view:tn,percent:Ln,widthPercent:Dn*100|0}),Bt.add(tn.id)}const sn=Yt[0],Gt=Yt.at(-1);return mn&&Yt.sort(function(zt,tn){const cn=zt.percent-tn.percent;return Math.abs(cn)>.001?-cn:zt.id-tn.id}),{first:sn,last:Gt,views:Yt,ids:Bt}}function lt(qt){qt.preventDefault()}function mt(qt){let dn=Math.hypot(qt.deltaX,qt.deltaY);const Sn=Math.atan2(qt.deltaY,qt.deltaX);return-.25*Math.PI<Sn&&Sn<.75*Math.PI&&(dn=-dn),dn}function St(qt){let dn=mt(qt);const Sn=0,mn=1,hn=30,Nt=30;return qt.deltaMode===Sn?dn/=hn*Nt:qt.deltaMode===mn&&(dn/=Nt),dn}function Ct(qt){return Number.isInteger(qt)&&qt%90===0}function Dt(qt){return Number.isInteger(qt)&&Object.values(_t).includes(qt)&&qt!==_t.UNKNOWN}function Lt(qt){return Number.isInteger(qt)&&Object.values(xt).includes(qt)&&qt!==xt.UNKNOWN}function $t(qt){return qt.width<=qt.height}const Xt=new Promise(function(qt){window.requestAnimationFrame(qt)});d.animationStarted=Xt;const Zt=document.documentElement.style;d.docStyle=Zt;function Jt(qt,dn,Sn){return Math.min(Math.max(qt,dn),Sn)}var Qt=new WeakMap,en=new WeakMap,un=new WeakMap;class gn{constructor(dn){if(j(this,Qt,{writable:!0,value:null}),j(this,en,{writable:!0,value:0}),j(this,un,{writable:!0,value:!0}),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const Sn=document.getElementById(dn);et(this,Qt,Sn.classList)}get percent(){return _e(this,en)}set percent(dn){if(et(this,en,Jt(dn,0,100)),isNaN(dn)){_e(this,Qt).add("indeterminate");return}_e(this,Qt).remove("indeterminate"),Zt.setProperty("--progressBar-percent",`${_e(this,en)}%`)}setWidth(dn){if(!dn)return;const mn=dn.parentNode.offsetWidth-dn.offsetWidth;mn>0&&Zt.setProperty("--progressBar-end-offset",`${mn}px`)}hide(){!_e(this,un)||(et(this,un,!1),_e(this,Qt).add("hidden"))}show(){_e(this,un)||(et(this,un,!0),_e(this,Qt).remove("hidden"))}}d.ProgressBar=gn;function yn(){let qt=document,dn=qt.activeElement||qt.querySelector(":focus");for(;(Sn=dn)!==null&&Sn!==void 0&&Sn.shadowRoot;){var Sn;qt=dn.shadowRoot,dn=qt.activeElement||qt.querySelector(":focus")}return dn}function vn(qt){let dn=_t.VERTICAL,Sn=xt.NONE;switch(qt){case"SinglePage":dn=_t.PAGE;break;case"OneColumn":break;case"TwoPageLeft":dn=_t.PAGE;case"TwoColumnLeft":Sn=xt.ODD;break;case"TwoPageRight":dn=_t.PAGE;case"TwoColumnRight":Sn=xt.EVEN;break}return{scrollMode:dn,spreadMode:Sn}}function An(qt){switch(qt){case"UseNone":return ft.NONE;case"UseThumbs":return ft.THUMBS;case"UseOutlines":return ft.OUTLINE;case"UseAttachments":return ft.ATTACHMENTS;case"UseOC":return ft.LAYERS}return ft.NONE}},(f,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StructTreeLayerBuilder=void 0;const j={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},b=/^H(\d+)$/;class _e{constructor(et){let{pdfPage:nt}=et;this.pdfPage=nt}render(et){return this._walk(et)}_setAttributes(et,nt){et.alt!==void 0&&nt.setAttribute("aria-label",et.alt),et.id!==void 0&&nt.setAttribute("aria-owns",et.id),et.lang!==void 0&&nt.setAttribute("lang",et.lang)}_walk(et){if(!et)return null;const nt=document.createElement("span");if("role"in et){const{role:at}=et,it=at.match(b);it?(nt.setAttribute("role","heading"),nt.setAttribute("aria-level",it[1])):j[at]&&nt.setAttribute("role",j[at])}if(this._setAttributes(et,nt),et.children)if(et.children.length===1&&"id"in et.children[0])this._setAttributes(et.children[0],nt);else for(const at of et.children)nt.append(this._walk(at));return nt}}d.StructTreeLayerBuilder=_e},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextLayerBuilder=void 0;var b=j(3);const _e=300;class pt{constructor(nt){let{textLayerDiv:at,eventBus:it,pageIndex:rt,viewport:ut,highlighter:_=null,enhanceTextSelection:tt=!1,accessibilityManager:$=null}=nt;this.textLayerDiv=at,this.eventBus=it,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=rt+1,this.viewport=ut,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=_,this.enhanceTextSelection=tt,this.accessibilityManager=$,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const nt=document.createElement("div");nt.className="endOfContent",this.textLayerDiv.append(nt)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(){var nt,at;let it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,(nt=this.highlighter)===null||nt===void 0||nt.setTextMapping(this.textDivs,this.textContentItemsStr),(at=this.accessibilityManager)===null||at===void 0||at.setTextMapping(this.textDivs);const rt=document.createDocumentFragment();this.textLayerRenderTask=(0,b.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:rt,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:it,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var ut,_;this.textLayerDiv.append(rt),this._finishRendering(),(ut=this.highlighter)===null||ut===void 0||ut.enable(),(_=this.accessibilityManager)===null||_===void 0||_.enable()},function(ut){})}cancel(){var nt,at;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(nt=this.highlighter)===null||nt===void 0||nt.disable(),(at=this.accessibilityManager)===null||at===void 0||at.disable()}setTextContentStream(nt){this.cancel(),this.textContentStream=nt}setTextContent(nt){this.cancel(),this.textContent=nt}_bindMouse(){const nt=this.textLayerDiv;let at=null;nt.addEventListener("mousedown",it=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(!0),at&&(clearTimeout(at),at=null);return}const rt=nt.querySelector(".endOfContent");if(!rt)return;let ut=it.target!==nt;if(ut=ut&&window.getComputedStyle(rt).getPropertyValue("-moz-user-select")!=="none",ut){const _=nt.getBoundingClientRect(),tt=Math.max(0,(it.pageY-_.top)/_.height);rt.style.top=(tt*100).toFixed(2)+"%"}rt.classList.add("active")}),nt.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){at=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),at=null},_e);return}const it=nt.querySelector(".endOfContent");!it||(it.style.top="",it.classList.remove("active"))})}}d.TextLayerBuilder=pt},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaLayerBuilder=void 0;var b=j(3);class _e{constructor(et){let{pageDiv:nt,pdfPage:at,annotationStorage:it=null,linkService:rt,xfaHtml:ut=null}=et;this.pageDiv=nt,this.pdfPage=at,this.annotationStorage=it,this.linkService=rt,this.xfaHtml=ut,this.div=null,this._cancelled=!1}render(et){let nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(nt==="print"){const at={viewport:et.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:nt},it=document.createElement("div");this.pageDiv.append(it),at.div=it;const rt=b.XfaLayer.render(at);return Promise.resolve(rt)}return this.pdfPage.getXfa().then(at=>{if(this._cancelled||!at)return{textDivs:[]};const it={viewport:et.clone({dontFlip:!0}),div:this.div,xfaHtml:at,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:nt};return this.div?b.XfaLayer.update(it):(this.div=document.createElement("div"),this.pageDiv.append(this.div),it.div=this.div,b.XfaLayer.render(it))}).catch(at=>{console.error(at)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}d.XfaLayerBuilder=_e},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFViewer=d.PDFSinglePageViewer=void 0;var b=j(7),_e=j(12);class pt extends _e.BaseViewer{}d.PDFViewer=pt;class et extends _e.BaseViewer{_resetView(){super._resetView(),this._scrollMode=b.ScrollMode.PAGE,this._spreadMode=b.SpreadMode.NONE}set scrollMode(at){}_updateScrollMode(){}set spreadMode(at){}_updateSpreadMode(){}}d.PDFSinglePageViewer=et},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PagesCountLimit=d.PDFPageViewBuffer=d.BaseViewer=void 0;var b=j(3),_e=j(7),pt=j(2),et=j(5),nt=j(4),at=j(13),it=j(16),rt=j(6),ut=j(8),_=j(17),tt=j(9),$=j(10);let g;function k(Nt,kt){ct(Nt,kt),kt.add(Nt)}function ot(Nt,kt,Vt){ct(Nt,kt),kt.set(Nt,Vt)}function ct(Nt,kt){if(kt.has(Nt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dt(Nt,kt,Vt){if(!kt.has(Nt))throw new TypeError("attempted to get private field on non-instance");return Vt}function ft(Nt,kt){var Vt=_t(Nt,kt,"get");return bt(Nt,Vt)}function bt(Nt,kt){return kt.get?kt.get.call(Nt):kt.value}function Mt(Nt,kt,Vt){var on=_t(Nt,kt,"set");return xt(Nt,on,Vt),Vt}function _t(Nt,kt,Vt){if(!kt.has(Nt))throw new TypeError("attempted to "+Vt+" private field on non-instance");return kt.get(Nt)}function xt(Nt,kt,Vt){if(kt.set)kt.set.call(Nt,Vt);else{if(!kt.writable)throw new TypeError("attempted to set read only private field");kt.value=Vt}}const wt=10,At="enablePermissions",Et={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};d.PagesCountLimit=Et;function yt(Nt){return Object.values(b.AnnotationEditorType).includes(Nt)&&Nt!==b.AnnotationEditorType.DISABLE}var Pt=new WeakMap,It=new WeakMap,vt=new WeakSet;g=Symbol.iterator;class Wt{constructor(kt){k(this,vt),ot(this,Pt,{writable:!0,value:new Set}),ot(this,It,{writable:!0,value:0}),Mt(this,It,kt)}push(kt){const Vt=ft(this,Pt);Vt.has(kt)&&Vt.delete(kt),Vt.add(kt),Vt.size>ft(this,It)&&dt(this,vt,jt).call(this)}resize(kt){let Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Mt(this,It,kt);const on=ft(this,Pt);if(Vt){const Kt=on.size;let an=1;for(const pn of on)if(Vt.has(pn.id)&&(on.delete(pn),on.add(pn)),++an>Kt)break}for(;on.size>ft(this,It);)dt(this,vt,jt).call(this)}has(kt){return ft(this,Pt).has(kt)}[g](){return ft(this,Pt).keys()}}d.PDFPageViewBuffer=Wt;function jt(){const Nt=ft(this,Pt).keys().next().value;Nt==null||Nt.destroy(),ft(this,Pt).delete(Nt)}var Rt=new WeakMap,ht=new WeakMap,gt=new WeakMap,Ot=new WeakMap,Ft=new WeakMap,lt=new WeakMap,mt=new WeakMap,St=new WeakMap,Ct=new WeakSet,Dt=new WeakSet,Lt=new WeakSet,$t=new WeakSet,Xt=new WeakSet,Zt=new WeakSet,Jt=new WeakSet,Qt=new WeakSet,en=new WeakSet;class un{constructor(kt){var Vt,on,Kt,an,pn;if(k(this,en),k(this,Qt),k(this,Jt),k(this,Zt),k(this,Xt),k(this,$t),k(this,Lt),k(this,Dt),k(this,Ct),ot(this,Rt,{writable:!0,value:null}),ot(this,ht,{writable:!0,value:b.AnnotationEditorType.DISABLE}),ot(this,gt,{writable:!0,value:null}),ot(this,Ot,{writable:!0,value:b.AnnotationMode.ENABLE_FORMS}),ot(this,Ft,{writable:!0,value:!1}),ot(this,lt,{writable:!0,value:0}),ot(this,mt,{writable:!0,value:null}),ot(this,St,{writable:!0,value:null}),this.constructor===un)throw new Error("Cannot initialize BaseViewer.");const Yt="2.16.105";if(b.version!==Yt)throw new Error(`The API version "${b.version}" does not match the Viewer version "${Yt}".`);if(this.container=kt.container,this.viewer=kt.viewer||kt.container.firstElementChild,!(((Vt=this.container)===null||Vt===void 0?void 0:Vt.tagName.toUpperCase())==="DIV"&&((on=this.viewer)===null||on===void 0?void 0:on.tagName.toUpperCase())==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=kt.eventBus,this.linkService=kt.linkService||new rt.SimpleLinkService,this.downloadManager=kt.downloadManager||null,this.findController=kt.findController||null,this._scriptingManager=kt.scriptingManager||null,this.removePageBorders=kt.removePageBorders||!1,this.textLayerMode=(Kt=kt.textLayerMode)!==null&&Kt!==void 0?Kt:_e.TextLayerMode.ENABLE,Mt(this,Ot,(an=kt.annotationMode)!==null&&an!==void 0?an:b.AnnotationMode.ENABLE_FORMS),Mt(this,ht,(pn=kt.annotationEditorMode)!==null&&pn!==void 0?pn:b.AnnotationEditorType.DISABLE),this.imageResourcesPath=kt.imageResourcesPath||"",this.enablePrintAutoRotate=kt.enablePrintAutoRotate||!1,this.renderer=kt.renderer||_e.RendererType.CANVAS,this.useOnlyCssZoom=kt.useOnlyCssZoom||!1,this.maxCanvasPixels=kt.maxCanvasPixels,this.l10n=kt.l10n||nt.NullL10n,Mt(this,Ft,kt.enablePermissions||!1),this.pageColors=kt.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!kt.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new it.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=kt.renderingQueue,this.scroll=(0,_e.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=_e.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(kt){return this._pages[kt]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(kt){return kt==null?void 0:kt.pdfPage}):!1}get renderForms(){return ft(this,Ot)===b.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(kt){if(!Number.isInteger(kt))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(kt,!0)||console.error(`currentPageNumber: "${kt}" is not a valid page.`)}_setCurrentPageNumber(kt){var Vt,on;let Kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this._currentPageNumber===kt)return Kt&&dt(this,Zt,dn).call(this),!0;if(!(0<kt&&kt<=this.pagesCount))return!1;const an=this._currentPageNumber;return this._currentPageNumber=kt,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:kt,pageLabel:(Vt=(on=this._pageLabels)===null||on===void 0?void 0:on[kt-1])!==null&&Vt!==void 0?Vt:null,previous:an}),Kt&&dt(this,Zt,dn).call(this),!0}get currentPageLabel(){var kt,Vt;return(kt=(Vt=this._pageLabels)===null||Vt===void 0?void 0:Vt[this._currentPageNumber-1])!==null&&kt!==void 0?kt:null}set currentPageLabel(kt){if(!this.pdfDocument)return;let Vt=kt|0;if(this._pageLabels){const on=this._pageLabels.indexOf(kt);on>=0&&(Vt=on+1)}this._setCurrentPageNumber(Vt,!0)||console.error(`currentPageLabel: "${kt}" is not a valid page.`)}get currentScale(){return this._currentScale!==_e.UNKNOWN_SCALE?this._currentScale:_e.DEFAULT_SCALE}set currentScale(kt){if(isNaN(kt))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(kt,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(kt){!this.pdfDocument||this._setScale(kt,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(kt){if(!(0,_e.isValidRotation)(kt))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(kt%=360,kt<0&&(kt+=360),this._pagesRotation===kt))return;this._pagesRotation=kt;const Vt=this._currentPageNumber,on={rotation:kt};for(const Kt of this._pages)Kt.update(on);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:kt,pageNumber:Vt}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(kt){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),ft(this,gt)&&(ft(this,gt).destroy(),Mt(this,gt,null))),this.pdfDocument=kt,!kt)return;const Vt=kt.isPureXfa,on=kt.numPages,Kt=kt.getPage(1),an=kt.getOptionalContentConfig(),pn=ft(this,Ft)?kt.getPermissions():Promise.resolve();if(on>Et.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Yt=this._scrollMode=_e.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Yt})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:on})},()=>{}),this._onBeforeDraw=Yt=>{const Bt=this._pages[Yt.pageNumber-1];!Bt||ft(this,Rt).push(Bt)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Yt=>{Yt.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Yt.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,ft(this,St)&&(document.removeEventListener("visibilitychange",ft(this,St)),Mt(this,St,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Kt,pn]).then(Yt=>{let[Bt,Ht]=Yt;if(kt!==this.pdfDocument)return;this._firstPageCapability.resolve(Bt),this._optionalContentConfigPromise=an;const{annotationEditorMode:ln,annotationMode:nn,textLayerMode:sn}=dt(this,Ct,gn).call(this,Ht);if(ln!==b.AnnotationEditorType.DISABLE){const wn=ln;Vt?console.warn("Warning: XFA-editing is not implemented."):yt(wn)?(Mt(this,gt,new b.AnnotationEditorUIManager(this.container,this.eventBus)),wn!==b.AnnotationEditorType.NONE&&ft(this,gt).updateMode(wn)):console.error(`Invalid AnnotationEditor mode: ${wn}`)}const Gt=this._scrollMode===_e.ScrollMode.PAGE?null:this.viewer,zt=this.currentScale,tn=Bt.getViewport({scale:zt*b.PixelsPerInch.PDF_TO_CSS_UNITS}),cn=sn!==_e.TextLayerMode.DISABLE&&!Vt?this:null,_n=nn!==b.AnnotationMode.DISABLE?this:null,Pn=Vt?this:null,Cn=ft(this,gt)?this:null;for(let wn=1;wn<=on;++wn){const xn=new at.PDFPageView({container:Gt,eventBus:this.eventBus,id:wn,scale:zt,defaultViewport:tn.clone(),optionalContentConfigPromise:an,renderingQueue:this.renderingQueue,textLayerFactory:cn,textLayerMode:sn,annotationLayerFactory:_n,annotationMode:nn,xfaLayerFactory:Pn,annotationEditorLayerFactory:Cn,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(xn)}const En=this._pages[0];En&&(En.setPdfPage(Bt),this.linkService.cachePageRef(1,Bt.ref)),this._scrollMode===_e.ScrollMode.PAGE?dt(this,Lt,vn).call(this):this._spreadMode!==_e.SpreadMode.NONE&&this._updateSpreadMode(),dt(this,Dt,yn).call(this).then(async()=>{if(this.findController&&this.findController.setDocument(kt),this._scriptingManager&&this._scriptingManager.setDocument(kt),ft(this,gt)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:ft(this,ht)}),kt.loadingParams.disableAutoFetch||on>Et.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let wn=on-1;if(wn<=0){this._pagesCapability.resolve();return}for(let xn=2;xn<=on;++xn){const Nn=kt.getPage(xn).then(kn=>{const Mn=this._pages[xn-1];Mn.pdfPage||Mn.setPdfPage(kn),this.linkService.cachePageRef(xn,kn.ref),--wn===0&&this._pagesCapability.resolve()},kn=>{console.error(`Unable to get page ${xn} to initialize viewer`,kn),--wn===0&&this._pagesCapability.resolve()});xn%Et.PAUSE_EAGER_PAGE_INIT===0&&await Nn}}),this.eventBus.dispatch("pagesinit",{source:this}),kt.getMetadata().then(wn=>{let{info:xn}=wn;kt===this.pdfDocument&&xn.Language&&(this.viewer.lang=xn.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Yt=>{console.error("Unable to initialize viewer",Yt),this._pagesCapability.reject(Yt)})}setPageLabels(kt){if(!!this.pdfDocument){kt?Array.isArray(kt)&&this.pdfDocument.numPages===kt.length?this._pageLabels=kt:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Kt=0,an=this._pages.length;Kt<an;Kt++){var Vt,on;this._pages[Kt].setPageLabel((Vt=(on=this._pageLabels)===null||on===void 0?void 0:on[Kt])!==null&&Vt!==void 0?Vt:null)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=_e.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Mt(this,Rt,new Wt(wt)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,b.createPromiseCapability)(),this._onePageRenderedCapability=(0,b.createPromiseCapability)(),this._pagesCapability=(0,b.createPromiseCapability)(),this._scrollMode=_e.ScrollMode.VERTICAL,this._previousScrollMode=_e.ScrollMode.UNKNOWN,this._spreadMode=_e.SpreadMode.NONE,Mt(this,mt,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),ft(this,St)&&(document.removeEventListener("visibilitychange",ft(this,St)),Mt(this,St,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(At)}_scrollUpdate(){this.pagesCount!==0&&this.update()}_setScaleUpdatePages(kt,Vt){let on=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Kt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this._currentScaleValue=Vt.toString(),dt(this,Xt,qt).call(this,kt)){Kt&&this.eventBus.dispatch("scalechanging",{source:this,scale:kt,presetValue:Vt});return}_e.docStyle.setProperty("--scale-factor",kt*b.PixelsPerInch.PDF_TO_CSS_UNITS);const an={scale:kt};for(const pn of this._pages)pn.update(an);if(this._currentScale=kt,!on){let pn=this._currentPageNumber,Yt;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(pn=this._location.pageNumber,Yt=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:pn,destArray:Yt,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:kt,presetValue:Kt?Vt:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==_e.SpreadMode.NONE&&this._scrollMode!==_e.ScrollMode.HORIZONTAL?2:1}_setScale(kt){let Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,on=parseFloat(kt);if(on>0)this._setScaleUpdatePages(on,kt,Vt,!1);else{const Kt=this._pages[this._currentPageNumber-1];if(!Kt)return;let an=_e.SCROLLBAR_PADDING,pn=_e.VERTICAL_PADDING;this.isInPresentationMode?an=pn=4:this.removePageBorders?an=pn=0:this._scrollMode===_e.ScrollMode.HORIZONTAL&&([an,pn]=[pn,an]);const Yt=(this.container.clientWidth-an)/Kt.width*Kt.scale/this._pageWidthScaleFactor,Bt=(this.container.clientHeight-pn)/Kt.height*Kt.scale;switch(kt){case"page-actual":on=1;break;case"page-width":on=Yt;break;case"page-height":on=Bt;break;case"page-fit":on=Math.min(Yt,Bt);break;case"auto":const Ht=(0,_e.isPortraitOrientation)(Kt)?Yt:Math.min(Bt,Yt);on=Math.min(_e.MAX_AUTO_SCALE,Ht);break;default:console.error(`_setScale: "${kt}" is an unknown zoom value.`);return}this._setScaleUpdatePages(on,kt,Vt,!0)}}pageLabelToPageNumber(kt){if(!this._pageLabels)return null;const Vt=this._pageLabels.indexOf(kt);return Vt<0?null:Vt+1}scrollPageIntoView(kt){let{pageNumber:Vt,destArray:on=null,allowNegativeOffset:Kt=!1,ignoreDestinationZoom:an=!1}=kt;if(!this.pdfDocument)return;const pn=Number.isInteger(Vt)&&this._pages[Vt-1];if(!pn){console.error(`scrollPageIntoView: "${Vt}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!on){this._setCurrentPageNumber(Vt,!0);return}let Yt=0,Bt=0,Ht=0,ln=0,nn,sn;const Gt=pn.rotation%180!==0,zt=(Gt?pn.height:pn.width)/pn.scale/b.PixelsPerInch.PDF_TO_CSS_UNITS,tn=(Gt?pn.width:pn.height)/pn.scale/b.PixelsPerInch.PDF_TO_CSS_UNITS;let cn=0;switch(on[1].name){case"XYZ":Yt=on[2],Bt=on[3],cn=on[4],Yt=Yt!==null?Yt:0,Bt=Bt!==null?Bt:tn;break;case"Fit":case"FitB":cn="page-fit";break;case"FitH":case"FitBH":Bt=on[2],cn="page-width",Bt===null&&this._location?(Yt=this._location.left,Bt=this._location.top):(typeof Bt!="number"||Bt<0)&&(Bt=tn);break;case"FitV":case"FitBV":Yt=on[2],Ht=zt,ln=tn,cn="page-height";break;case"FitR":Yt=on[2],Bt=on[3],Ht=on[4]-Yt,ln=on[5]-Bt;const En=this.removePageBorders?0:_e.SCROLLBAR_PADDING,wn=this.removePageBorders?0:_e.VERTICAL_PADDING;nn=(this.container.clientWidth-En)/Ht/b.PixelsPerInch.PDF_TO_CSS_UNITS,sn=(this.container.clientHeight-wn)/ln/b.PixelsPerInch.PDF_TO_CSS_UNITS,cn=Math.min(Math.abs(nn),Math.abs(sn));break;default:console.error(`scrollPageIntoView: "${on[1].name}" is not a valid destination type.`);return}if(an||(cn&&cn!==this._currentScale?this.currentScaleValue=cn:this._currentScale===_e.UNKNOWN_SCALE&&(this.currentScaleValue=_e.DEFAULT_SCALE_VALUE)),cn==="page-fit"&&!on[4]){dt(this,$t,An).call(this,pn);return}const _n=[pn.viewport.convertToViewportPoint(Yt,Bt),pn.viewport.convertToViewportPoint(Yt+Ht,Bt+ln)];let Pn=Math.min(_n[0][0],_n[1][0]),Cn=Math.min(_n[0][1],_n[1][1]);Kt||(Pn=Math.max(Pn,0),Cn=Math.max(Cn,0)),dt(this,$t,An).call(this,pn,{left:Pn,top:Cn})}_updateLocation(kt){const Vt=this._currentScale,on=this._currentScaleValue,Kt=parseFloat(on)===Vt?Math.round(Vt*1e4)/100:on,an=kt.id,pn=this._pages[an-1],Yt=this.container,Bt=pn.getPagePoint(Yt.scrollLeft-kt.x,Yt.scrollTop-kt.y),Ht=Math.round(Bt[0]),ln=Math.round(Bt[1]);let nn=`#page=${an}`;this.isInPresentationMode||(nn+=`&zoom=${Kt},${Ht},${ln}`),this._location={pageNumber:an,scale:Kt,top:ln,left:Ht,rotation:this._pagesRotation,pdfOpenParams:nn}}update(){const kt=this._getVisiblePages(),Vt=kt.views,on=Vt.length;if(on===0)return;const Kt=Math.max(wt,2*on+1);ft(this,Rt).resize(Kt,kt.ids),this.renderingQueue.renderHighestPriority(kt);const an=this._spreadMode===_e.SpreadMode.NONE&&(this._scrollMode===_e.ScrollMode.PAGE||this._scrollMode===_e.ScrollMode.VERTICAL),pn=this._currentPageNumber;let Yt=!1;for(const Bt of Vt){if(Bt.percent<100)break;if(Bt.id===pn&&an){Yt=!0;break}}this._setCurrentPageNumber(Yt?pn:Vt[0].id),this._updateLocation(kt.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(kt){return this.container.contains(kt)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===_e.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===_e.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const kt=this._scrollMode===_e.ScrollMode.PAGE?ft(this,mt).pages:this._pages,Vt=this._scrollMode===_e.ScrollMode.HORIZONTAL,on=Vt&&this._isContainerRtl;return(0,_e.getVisibleElements)({scrollEl:this.container,views:kt,sortByVisibility:!0,horizontal:Vt,rtl:on})}isPageVisible(kt){return this.pdfDocument?Number.isInteger(kt)&&kt>0&&kt<=this.pagesCount?this._getVisiblePages().ids.has(kt):(console.error(`isPageVisible: "${kt}" is not a valid page.`),!1):!1}isPageCached(kt){if(!this.pdfDocument)return!1;if(!(Number.isInteger(kt)&&kt>0&&kt<=this.pagesCount))return console.error(`isPageCached: "${kt}" is not a valid page.`),!1;const Vt=this._pages[kt-1];return ft(this,Rt).has(Vt)}cleanup(){for(const kt of this._pages)kt.renderingState!==_e.RenderingStates.FINISHED&&kt.reset()}_cancelRendering(){for(const kt of this._pages)kt.cancelRendering()}forceRendering(kt){const Vt=kt||this._getVisiblePages(),on=dt(this,Qt,mn).call(this,Vt),Kt=this._spreadMode!==_e.SpreadMode.NONE&&this._scrollMode!==_e.ScrollMode.HORIZONTAL,an=this.renderingQueue.getHighestPriority(Vt,this._pages,on,Kt);return dt(this,en,hn).call(this,Vt.ids),an?(dt(this,Jt,Sn).call(this,an).then(()=>{this.renderingQueue.renderView(an)}),!0):!1}createTextLayerBuilder(kt){let{textLayerDiv:Vt,pageIndex:on,viewport:Kt,enhanceTextSelection:an=!1,eventBus:pn,highlighter:Yt,accessibilityManager:Bt=null}=kt;return new tt.TextLayerBuilder({textLayerDiv:Vt,eventBus:pn,pageIndex:on,viewport:Kt,enhanceTextSelection:this.isInPresentationMode?!1:an,highlighter:Yt,accessibilityManager:Bt})}createTextHighlighter(kt){let{pageIndex:Vt,eventBus:on}=kt;return new _.TextHighlighter({eventBus:on,pageIndex:Vt,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(kt){var Vt,on,Kt,an;let{pageDiv:pn,pdfPage:Yt,annotationStorage:Bt=(Vt=this.pdfDocument)===null||Vt===void 0?void 0:Vt.annotationStorage,imageResourcesPath:Ht="",renderForms:ln=!0,l10n:nn=nt.NullL10n,enableScripting:sn=this.enableScripting,hasJSActionsPromise:Gt=(on=this.pdfDocument)===null||on===void 0?void 0:on.hasJSActions(),mouseState:zt=(Kt=this._scriptingManager)===null||Kt===void 0?void 0:Kt.mouseState,fieldObjectsPromise:tn=(an=this.pdfDocument)===null||an===void 0?void 0:an.getFieldObjects(),annotationCanvasMap:cn=null,accessibilityManager:_n=null}=kt;return new et.AnnotationLayerBuilder({pageDiv:pn,pdfPage:Yt,annotationStorage:Bt,imageResourcesPath:Ht,renderForms:ln,linkService:this.linkService,downloadManager:this.downloadManager,l10n:nn,enableScripting:sn,hasJSActionsPromise:Gt,mouseState:zt,fieldObjectsPromise:tn,annotationCanvasMap:cn,accessibilityManager:_n})}createAnnotationEditorLayerBuilder(kt){var Vt;let{uiManager:on=ft(this,gt),pageDiv:Kt,pdfPage:an,accessibilityManager:pn=null,l10n:Yt,annotationStorage:Bt=(Vt=this.pdfDocument)===null||Vt===void 0?void 0:Vt.annotationStorage}=kt;return new pt.AnnotationEditorLayerBuilder({uiManager:on,pageDiv:Kt,pdfPage:an,annotationStorage:Bt,accessibilityManager:pn,l10n:Yt})}createXfaLayerBuilder(kt){var Vt;let{pageDiv:on,pdfPage:Kt,annotationStorage:an=(Vt=this.pdfDocument)===null||Vt===void 0?void 0:Vt.annotationStorage}=kt;return new $.XfaLayerBuilder({pageDiv:on,pdfPage:Kt,annotationStorage:an,linkService:this.linkService})}createStructTreeLayerBuilder(kt){let{pdfPage:Vt}=kt;return new ut.StructTreeLayerBuilder({pdfPage:Vt})}get hasEqualPageSizes(){const kt=this._pages[0];for(let Vt=1,on=this._pages.length;Vt<on;++Vt){const Kt=this._pages[Vt];if(Kt.width!==kt.width||Kt.height!==kt.height)return!1}return!0}getPagesOverview(){return this._pages.map(kt=>{const Vt=kt.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,_e.isPortraitOrientation)(Vt)?{width:Vt.width,height:Vt.height,rotation:Vt.rotation}:{width:Vt.height,height:Vt.width,rotation:(Vt.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(kt){if(!(kt instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${kt}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=kt;const Vt={optionalContentConfigPromise:kt};for(const on of this._pages)on.update(Vt);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:kt})}get scrollMode(){return this._scrollMode}set scrollMode(kt){if(this._scrollMode!==kt){if(!(0,_e.isValidScrollMode)(kt))throw new Error(`Invalid scroll mode: ${kt}`);this.pagesCount>Et.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=kt,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:kt}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const Vt=this._scrollMode,on=this.viewer;on.classList.toggle("scrollHorizontal",Vt===_e.ScrollMode.HORIZONTAL),on.classList.toggle("scrollWrapped",Vt===_e.ScrollMode.WRAPPED),!(!this.pdfDocument||!kt)&&(Vt===_e.ScrollMode.PAGE?dt(this,Lt,vn).call(this):this._previousScrollMode===_e.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(kt,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(kt){if(this._spreadMode!==kt){if(!(0,_e.isValidSpreadMode)(kt))throw new Error(`Invalid spread mode: ${kt}`);this._spreadMode=kt,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:kt}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.pdfDocument)return;const Vt=this.viewer,on=this._pages;if(this._scrollMode===_e.ScrollMode.PAGE)dt(this,Lt,vn).call(this);else if(Vt.textContent="",this._spreadMode===_e.SpreadMode.NONE)for(const Kt of this._pages)Vt.append(Kt.div);else{const Kt=this._spreadMode-1;let an=null;for(let pn=0,Yt=on.length;pn<Yt;++pn)an===null?(an=document.createElement("div"),an.className="spread",Vt.append(an)):pn%2===Kt&&(an=an.cloneNode(!1),Vt.append(an)),an.append(on[pn].div)}!kt||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(kt,!0),this.update())}_getPageAdvance(kt){let Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(this._scrollMode){case _e.ScrollMode.WRAPPED:{const{views:on}=this._getVisiblePages(),Kt=new Map;for(const{id:an,y:pn,percent:Yt,widthPercent:Bt}of on){if(Yt===0||Bt<100)continue;let Ht=Kt.get(pn);Ht||Kt.set(pn,Ht||(Ht=[])),Ht.push(an)}for(const an of Kt.values()){const pn=an.indexOf(kt);if(pn===-1)continue;const Yt=an.length;if(Yt===1)break;if(Vt)for(let Bt=pn-1,Ht=0;Bt>=Ht;Bt--){const ln=an[Bt],nn=an[Bt+1]-1;if(ln<nn)return kt-nn}else for(let Bt=pn+1,Ht=Yt;Bt<Ht;Bt++){const ln=an[Bt],nn=an[Bt-1]+1;if(ln>nn)return nn-kt}if(Vt){const Bt=an[0];if(Bt<kt)return kt-Bt+1}else{const Bt=an[Yt-1];if(Bt>kt)return Bt-kt+1}break}break}case _e.ScrollMode.HORIZONTAL:break;case _e.ScrollMode.PAGE:case _e.ScrollMode.VERTICAL:{if(this._spreadMode===_e.SpreadMode.NONE)break;const on=this._spreadMode-1;if(Vt&&kt%2!==on)break;if(!Vt&&kt%2===on)break;const{views:Kt}=this._getVisiblePages(),an=Vt?kt-1:kt+1;for(const{id:pn,percent:Yt,widthPercent:Bt}of Kt)if(pn===an){if(Yt>0&&Bt===100)return 2;break}break}}return 1}nextPage(){const kt=this._currentPageNumber,Vt=this.pagesCount;if(kt>=Vt)return!1;const on=this._getPageAdvance(kt,!1)||1;return this.currentPageNumber=Math.min(kt+on,Vt),!0}previousPage(){const kt=this._currentPageNumber;if(kt<=1)return!1;const Vt=this._getPageAdvance(kt,!0)||1;return this.currentPageNumber=Math.max(kt-Vt,1),!0}increaseScale(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Vt=this._currentScale;do Vt=(Vt*_e.DEFAULT_SCALE_DELTA).toFixed(2),Vt=Math.ceil(Vt*10)/10,Vt=Math.min(_e.MAX_SCALE,Vt);while(--kt>0&&Vt<_e.MAX_SCALE);this.currentScaleValue=Vt}decreaseScale(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Vt=this._currentScale;do Vt=(Vt/_e.DEFAULT_SCALE_DELTA).toFixed(2),Vt=Math.floor(Vt*10)/10,Vt=Math.max(_e.MIN_SCALE,Vt);while(--kt>0&&Vt>_e.MIN_SCALE);this.currentScaleValue=Vt}updateContainerHeightCss(){const kt=this.container.clientHeight;kt!==ft(this,lt)&&(Mt(this,lt,kt),_e.docStyle.setProperty("--viewer-container-height",`${kt}px`))}get annotationEditorMode(){return ft(this,gt)?ft(this,ht):b.AnnotationEditorType.DISABLE}set annotationEditorMode(kt){if(!ft(this,gt))throw new Error("The AnnotationEditor is not enabled.");if(ft(this,ht)!==kt){if(!yt(kt))throw new Error(`Invalid AnnotationEditor mode: ${kt}`);!this.pdfDocument||(Mt(this,ht,kt),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:kt}),ft(this,gt).updateMode(kt))}}set annotationEditorParams(kt){let{type:Vt,value:on}=kt;if(!ft(this,gt))throw new Error("The AnnotationEditor is not enabled.");ft(this,gt).updateParams(Vt,on)}refresh(){if(!this.pdfDocument)return;const kt={};for(const Vt of this._pages)Vt.update(kt);this.update()}}d.BaseViewer=un;function gn(Nt){const kt={annotationEditorMode:ft(this,ht),annotationMode:ft(this,Ot),textLayerMode:this.textLayerMode};return Nt&&(Nt.includes(b.PermissionFlag.COPY)||this.viewer.classList.add(At),Nt.includes(b.PermissionFlag.MODIFY_CONTENTS)||(kt.annotationEditorMode=b.AnnotationEditorType.DISABLE),!Nt.includes(b.PermissionFlag.MODIFY_ANNOTATIONS)&&!Nt.includes(b.PermissionFlag.FILL_INTERACTIVE_FORMS)&&ft(this,Ot)===b.AnnotationMode.ENABLE_FORMS&&(kt.annotationMode=b.AnnotationMode.ENABLE)),kt}function yn(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const Nt=new Promise(kt=>{Mt(this,St,()=>{document.visibilityState==="hidden"&&(kt(),document.removeEventListener("visibilitychange",ft(this,St)),Mt(this,St,null))}),document.addEventListener("visibilitychange",ft(this,St))});return Promise.race([this._onePageRenderedCapability.promise,Nt])}function vn(){if(this._scrollMode!==_e.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const Nt=this._currentPageNumber,kt=ft(this,mt),Vt=this.viewer;if(Vt.textContent="",kt.pages.length=0,this._spreadMode===_e.SpreadMode.NONE&&!this.isInPresentationMode){const on=this._pages[Nt-1];Vt.append(on.div),kt.pages.push(on)}else{const on=new Set,Kt=this._spreadMode-1;Kt===-1?on.add(Nt-1):Nt%2!==Kt?(on.add(Nt-1),on.add(Nt)):(on.add(Nt-2),on.add(Nt-1));const an=document.createElement("div");if(an.className="spread",this.isInPresentationMode){const pn=document.createElement("div");pn.className="dummyPage",an.append(pn)}for(const pn of on){const Yt=this._pages[pn];!Yt||(an.append(Yt.div),kt.pages.push(Yt))}Vt.append(an)}kt.scrollDown=Nt>=kt.previousPageNumber,kt.previousPageNumber=Nt}function An(Nt){let kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const{div:Vt,id:on}=Nt;if(this._scrollMode===_e.ScrollMode.PAGE&&(this._setCurrentPageNumber(on),dt(this,Lt,vn).call(this),this.update()),!kt&&!this.isInPresentationMode){const Kt=Vt.offsetLeft+Vt.clientLeft,an=Kt+Vt.clientWidth,{scrollLeft:pn,clientWidth:Yt}=this.container;(this._scrollMode===_e.ScrollMode.HORIZONTAL||Kt<pn||an>pn+Yt)&&(kt={left:0,top:0})}(0,_e.scrollIntoView)(Vt,kt)}function qt(Nt){return Nt===this._currentScale||Math.abs(Nt-this._currentScale)<1e-15}function dn(){const Nt=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),dt(this,$t,An).call(this,Nt)}async function Sn(Nt){if(Nt.pdfPage)return Nt.pdfPage;try{var kt,Vt;const on=await this.pdfDocument.getPage(Nt.id);return Nt.pdfPage||Nt.setPdfPage(on),(kt=(Vt=this.linkService)._cachedPageNumber)!==null&&kt!==void 0&&kt.call(Vt,on.ref)||this.linkService.cachePageRef(Nt.id,on.ref),on}catch(on){return console.error("Unable to get page for page view",on),null}}function mn(Nt){var kt,Vt;if(((kt=Nt.first)===null||kt===void 0?void 0:kt.id)===1)return!0;if(((Vt=Nt.last)===null||Vt===void 0?void 0:Vt.id)===this.pagesCount)return!1;switch(this._scrollMode){case _e.ScrollMode.PAGE:return ft(this,mt).scrollDown;case _e.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function hn(Nt){for(const kt of Nt){const Vt=this._pages[kt-1];Vt==null||Vt.toggleLoadingIconSpinner(!0)}for(const kt of ft(this,Rt))Nt.has(kt.id)||kt.toggleLoadingIconSpinner(!1)}},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFPageView=void 0;var b=j(3),_e=j(7),pt=j(14),et=j(4),nt=j(15);function at(dt,ft,bt){it(dt,ft),ft.set(dt,bt)}function it(dt,ft){if(ft.has(dt))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rt(dt,ft){var bt=tt(dt,ft,"get");return ut(dt,bt)}function ut(dt,ft){return ft.get?ft.get.call(dt):ft.value}function _(dt,ft,bt){var Mt=tt(dt,ft,"set");return $(dt,Mt,bt),bt}function tt(dt,ft,bt){if(!ft.has(dt))throw new TypeError("attempted to "+bt+" private field on non-instance");return ft.get(dt)}function $(dt,ft,bt){if(ft.set)ft.set.call(dt,bt);else{if(!ft.writable)throw new TypeError("attempted to set read only private field");ft.value=bt}}const g=pt.compatibilityParams.maxCanvasPixels||16777216;var k=new WeakMap,ot=new WeakMap;class ct{constructor(ft){var bt,Mt,_t,xt;at(this,k,{writable:!0,value:b.AnnotationMode.ENABLE_FORMS}),at(this,ot,{writable:!0,value:{initialOptionalContent:!0,regularAnnotations:!0}});const wt=ft.container,At=ft.defaultViewport;this.id=ft.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=ft.scale||_e.DEFAULT_SCALE,this.viewport=At,this.pdfPageRotate=At.rotation,this._optionalContentConfigPromise=ft.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=(bt=ft.textLayerMode)!==null&&bt!==void 0?bt:_e.TextLayerMode.ENABLE,_(this,k,(Mt=ft.annotationMode)!==null&&Mt!==void 0?Mt:b.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=ft.imageResourcesPath||"",this.useOnlyCssZoom=ft.useOnlyCssZoom||!1,this.maxCanvasPixels=ft.maxCanvasPixels||g,this.pageColors=ft.pageColors||null,this.eventBus=ft.eventBus,this.renderingQueue=ft.renderingQueue,this.textLayerFactory=ft.textLayerFactory,this.annotationLayerFactory=ft.annotationLayerFactory,this.annotationEditorLayerFactory=ft.annotationEditorLayerFactory,this.xfaLayerFactory=ft.xfaLayerFactory,this.textHighlighter=(_t=ft.textHighlighterFactory)===null||_t===void 0?void 0:_t.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=ft.structTreeLayerFactory,this.renderer=ft.renderer||_e.RendererType.CANVAS,this.l10n=ft.l10n||et.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=_e.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!((xt=this.renderingQueue)!==null&&xt!==void 0&&xt.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const Et=document.createElement("div");if(Et.className="page",Et.style.width=Math.floor(this.viewport.width)+"px",Et.style.height=Math.floor(this.viewport.height)+"px",Et.setAttribute("data-page-number",this.id),Et.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(yt=>{Et.setAttribute("aria-label",yt)}),this.div=Et,wt==null||wt.append(Et),this._isStandalone){const{optionalContentConfigPromise:yt}=ft;yt&&yt.then(Pt=>{yt===this._optionalContentConfigPromise&&(rt(this,ot).initialOptionalContent=Pt.hasInitialVisibility)})}}setPdfPage(ft){this.pdfPage=ft,this.pdfPageRotate=ft.rotate;const bt=(this.rotation+this.pdfPageRotate)%360;this.viewport=ft.getViewport({scale:this.scale*b.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:bt}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}async _renderAnnotationLayer(){let ft=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(bt){console.error(`_renderAnnotationLayer: "${bt}".`),ft=bt}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:ft})}}async _renderAnnotationEditorLayer(){let ft=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(bt){console.error(`_renderAnnotationEditorLayer: "${bt}".`),ft=bt}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:ft})}}async _renderXfaLayer(){let ft=null;try{const bt=await this.xfaLayer.render(this.viewport,"display");this.textHighlighter&&this._buildXfaTextContentItems(bt.textDivs)}catch(bt){console.error(`_renderXfaLayer: "${bt}".`),ft=bt}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:ft})}}async _buildXfaTextContentItems(ft){const bt=await this.pdfPage.getTextContent(),Mt=[];for(const _t of bt.items)Mt.push(_t.str);this.textHighlighter.setTextMapping(ft,Mt),this.textHighlighter.enable()}_resetZoomLayer(){let ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.zoomLayer)return;const bt=this.zoomLayer.firstChild;this.paintedViewportMap.delete(bt),bt.width=0,bt.height=0,ft&&this.zoomLayer.remove(),this.zoomLayer=null}reset(){var ft,bt,Mt;let{keepZoomLayer:_t=!1,keepAnnotationLayer:xt=!1,keepAnnotationEditorLayer:wt=!1,keepXfaLayer:At=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:xt,keepAnnotationEditorLayer:wt,keepXfaLayer:At}),this.renderingState=_e.RenderingStates.INITIAL;const Et=this.div;Et.style.width=Math.floor(this.viewport.width)+"px",Et.style.height=Math.floor(this.viewport.height)+"px";const yt=Et.childNodes,Pt=_t&&this.zoomLayer||null,It=xt&&((ft=this.annotationLayer)===null||ft===void 0?void 0:ft.div)||null,vt=wt&&((bt=this.annotationEditorLayer)===null||bt===void 0?void 0:bt.div)||null,Wt=At&&((Mt=this.xfaLayer)===null||Mt===void 0?void 0:Mt.div)||null;for(let Rt=yt.length-1;Rt>=0;Rt--){const ht=yt[Rt];switch(ht){case Pt:case It:case vt:case Wt:continue}ht.remove()}if(Et.removeAttribute("data-loaded"),It&&this.annotationLayer.hide(),vt)this.annotationEditorLayer.hide();else{var jt;(jt=this.annotationEditorLayer)===null||jt===void 0||jt.destroy()}Wt&&this.xfaLayer.hide(),Pt||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(Rt=>{var ht;(ht=this.loadingIconDiv)===null||ht===void 0||ht.setAttribute("aria-label",Rt)}),Et.append(this.loadingIconDiv)}update(ft){let{scale:bt=0,rotation:Mt=null,optionalContentConfigPromise:_t=null}=ft;this.scale=bt||this.scale,typeof Mt=="number"&&(this.rotation=Mt),_t instanceof Promise&&(this._optionalContentConfigPromise=_t,_t.then(At=>{_t===this._optionalContentConfigPromise&&(rt(this,ot).initialOptionalContent=At.hasInitialVisibility)}));const xt=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*b.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:xt}),this._isStandalone&&_e.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let wt=!1;if(this.canvas&&this.maxCanvasPixels>0){const At=this.outputScale;(Math.floor(this.viewport.width)*At.sx|0)*(Math.floor(this.viewport.height)*At.sy|0)>this.maxCanvasPixels&&(wt=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&wt){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering(){let{keepAnnotationLayer:ft=!1,keepAnnotationEditorLayer:bt=!1,keepXfaLayer:Mt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!ft||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!bt||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!Mt||!this.xfaLayer.div)){var _t;this.xfaLayer.cancel(),this.xfaLayer=null,(_t=this.textHighlighter)===null||_t===void 0||_t.disable()}this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform(ft){let{target:bt,redrawAnnotationLayer:Mt=!1,redrawAnnotationEditorLayer:_t=!1,redrawXfaLayer:xt=!1}=ft;const wt=this.viewport.width,At=this.viewport.height,Et=this.div;bt.style.width=bt.parentNode.style.width=Et.style.width=Math.floor(wt)+"px",bt.style.height=bt.parentNode.style.height=Et.style.height=Math.floor(At)+"px";const yt=this.viewport.rotation-this.paintedViewportMap.get(bt).rotation,Pt=Math.abs(yt);let It=1,vt=1;if((Pt===90||Pt===270)&&(It=At/wt,vt=wt/At),bt.style.transform=`rotate(${yt}deg) scale(${It}, ${vt})`,this.textLayer){const Wt=this.textLayer.viewport,jt=this.viewport.rotation-Wt.rotation,Rt=Math.abs(jt);let ht=wt/Wt.width;(Rt===90||Rt===270)&&(ht=wt/Wt.height);const gt=this.textLayer.textLayerDiv;let Ot,Ft;switch(Rt){case 0:Ot=Ft=0;break;case 90:Ot=0,Ft="-"+gt.style.height;break;case 180:Ot="-"+gt.style.width,Ft="-"+gt.style.height;break;case 270:Ot="-"+gt.style.width,Ft=0;break;default:console.error("Bad rotation value.");break}gt.style.transform=`rotate(${Rt}deg) scale(${ht}) translate(${Ot}, ${Ft})`,gt.style.transformOrigin="0% 0%"}Mt&&this.annotationLayer&&this._renderAnnotationLayer(),_t&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),xt&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(ft,bt){return this.viewport.convertToPdfPoint(ft,bt)}toggleLoadingIconSpinner(){var ft;let bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;(ft=this.loadingIconDiv)===null||ft===void 0||ft.classList.toggle("notVisible",!bt)}draw(){var ft,bt,Mt,_t=this;this.renderingState!==_e.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:xt,pdfPage:wt}=this;if(!wt)return this.renderingState=_e.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=_e.RenderingStates.RUNNING;const At=document.createElement("div");At.style.width=xt.style.width,At.style.height=xt.style.height,At.classList.add("canvasWrapper");const Et=((ft=this.annotationLayer)===null||ft===void 0?void 0:ft.div)||((bt=this.annotationEditorLayer)===null||bt===void 0?void 0:bt.div);Et?Et.before(At):xt.append(At);let yt=null;if(this.textLayerMode!==_e.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new nt.TextAccessibilityManager);const jt=document.createElement("div");jt.className="textLayer",jt.style.width=At.style.width,jt.style.height=At.style.height,Et?Et.before(jt):xt.append(jt),yt=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:jt,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===_e.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=yt,rt(this,k)!==b.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:xt,pdfPage:wt,imageResourcesPath:this.imageResourcesPath,renderForms:rt(this,k)===b.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),(Mt=this.xfaLayer)!==null&&Mt!==void 0&&Mt.div&&xt.append(this.xfaLayer.div);let Pt=null;this.renderingQueue&&(Pt=jt=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=_e.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=_e.RenderingStates.RUNNING,jt()};return}jt()});const It=async function(){let jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(vt===_t.paintTask&&(_t.paintTask=null),jt instanceof b.RenderingCancelledException){_t._renderError=null;return}if(_t._renderError=jt,_t.renderingState=_e.RenderingStates.FINISHED,_t.loadingIconDiv&&(_t.loadingIconDiv.remove(),delete _t.loadingIconDiv),_t._resetZoomLayer(!0),rt(_t,ot).regularAnnotations=!vt.separateAnnots,_t.eventBus.dispatch("pagerendered",{source:_t,pageNumber:_t.id,cssTransform:!1,timestamp:performance.now(),error:_t._renderError}),jt)throw jt},vt=this.renderer===_e.RendererType.SVG?this.paintOnSvg(At):this.paintOnCanvas(At);vt.onRenderContinue=Pt,this.paintTask=vt;const Wt=vt.promise.then(()=>It(null).then(()=>{if(yt){const jt=wt.streamTextContent({includeMarkedContent:!0});yt.setTextContentStream(jt),yt.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:xt,pdfPage:wt,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())})}),function(jt){return It(jt)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:xt,pdfPage:wt})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=jt=>{jt.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,!!this.canvas&&this.pdfPage.getStructTree().then(Rt=>{if(!Rt||!this.canvas)return;const ht=this.structTreeLayer.render(Rt);ht.classList.add("structTree"),this.canvas.append(ht)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:wt})),xt.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Wt}paintOnCanvas(ft){const bt=(0,b.createPromiseCapability)(),Mt={promise:bt.promise,onRenderContinue(Rt){Rt()},cancel(){jt.cancel()},get separateAnnots(){return jt.separateAnnots}},_t=this.viewport,xt=document.createElement("canvas");xt.setAttribute("role","presentation"),xt.hidden=!0;let wt=!0;const At=function(){wt&&(xt.hidden=!1,wt=!1)};ft.append(xt),this.canvas=xt;const Et=xt.getContext("2d",{alpha:!1}),yt=this.outputScale=new _e.OutputScale;if(this.useOnlyCssZoom){const Rt=_t.clone({scale:b.PixelsPerInch.PDF_TO_CSS_UNITS});yt.sx*=Rt.width/_t.width,yt.sy*=Rt.height/_t.height}if(this.maxCanvasPixels>0){const Rt=_t.width*_t.height,ht=Math.sqrt(this.maxCanvasPixels/Rt);yt.sx>ht||yt.sy>ht?(yt.sx=ht,yt.sy=ht,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const Pt=(0,_e.approximateFraction)(yt.sx),It=(0,_e.approximateFraction)(yt.sy);xt.width=(0,_e.roundToDivide)(_t.width*yt.sx,Pt[0]),xt.height=(0,_e.roundToDivide)(_t.height*yt.sy,It[0]),xt.style.width=(0,_e.roundToDivide)(_t.width,Pt[1])+"px",xt.style.height=(0,_e.roundToDivide)(_t.height,It[1])+"px",this.paintedViewportMap.set(xt,_t);const vt=yt.scaled?[yt.sx,0,0,yt.sy,0,0]:null,Wt={canvasContext:Et,transform:vt,viewport:this.viewport,annotationMode:rt(this,k),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},jt=this.pdfPage.render(Wt);return jt.onContinue=function(Rt){At(),Mt.onRenderContinue?Mt.onRenderContinue(Rt):Rt()},jt.promise.then(function(){At(),bt.resolve()},function(Rt){At(),bt.reject(Rt)}),Mt}paintOnSvg(ft){let bt=!1;const Mt=()=>{if(bt)throw new b.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},_t=this.pdfPage,xt=this.viewport.clone({scale:b.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:_t.getOperatorList({annotationMode:rt(this,k)}).then(At=>(Mt(),new b.SVGGraphics(_t.commonObjs,_t.objs).getSVG(At,xt).then(yt=>{Mt(),this.svg=yt,this.paintedViewportMap.set(yt,xt),yt.style.width=ft.style.width,yt.style.height=ft.style.height,this.renderingState=_e.RenderingStates.FINISHED,ft.append(yt)}))),onRenderContinue(At){At()},cancel(){bt=!0},get separateAnnots(){return!1}}}setPageLabel(ft){this.pageLabel=typeof ft=="string"?ft:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:ft,regularAnnotations:bt}=rt(this,ot);return ft&&bt?this.canvas:null}}d.PDFPageView=ct},(f,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.compatibilityParams=d.OptionKind=d.AppOptions=void 0;const j=Object.create(null);d.compatibilityParams=j;{const nt=navigator.userAgent||"",at=navigator.platform||"",it=navigator.maxTouchPoints||1,rt=/Android/.test(nt),ut=/\b(iPad|iPhone|iPod)(?=;)/.test(nt)||at==="MacIntel"&&it>1;(function(){(ut||rt)&&(j.maxCanvasPixels=5242880)})()}const b={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};d.OptionKind=b;const _e={annotationEditorMode:{value:-1,kind:b.VIEWER+b.PREFERENCE},annotationMode:{value:2,kind:b.VIEWER+b.PREFERENCE},cursorToolOnLoad:{value:0,kind:b.VIEWER+b.PREFERENCE},defaultZoomValue:{value:"",kind:b.VIEWER+b.PREFERENCE},disableHistory:{value:!1,kind:b.VIEWER},disablePageLabels:{value:!1,kind:b.VIEWER+b.PREFERENCE},enablePermissions:{value:!1,kind:b.VIEWER+b.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:b.VIEWER+b.PREFERENCE},enableScripting:{value:!0,kind:b.VIEWER+b.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:b.VIEWER},externalLinkTarget:{value:0,kind:b.VIEWER+b.PREFERENCE},historyUpdateUrl:{value:!1,kind:b.VIEWER+b.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:b.VIEWER+b.PREFERENCE},imageResourcesPath:{value:"./images/",kind:b.VIEWER},maxCanvasPixels:{value:16777216,kind:b.VIEWER},forcePageColors:{value:!1,kind:b.VIEWER+b.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:b.VIEWER+b.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:b.VIEWER+b.PREFERENCE},pdfBugEnabled:{value:!1,kind:b.VIEWER+b.PREFERENCE},printResolution:{value:150,kind:b.VIEWER},sidebarViewOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},scrollModeOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},spreadModeOnLoad:{value:-1,kind:b.VIEWER+b.PREFERENCE},textLayerMode:{value:1,kind:b.VIEWER+b.PREFERENCE},useOnlyCssZoom:{value:!1,kind:b.VIEWER+b.PREFERENCE},viewerCssTheme:{value:0,kind:b.VIEWER+b.PREFERENCE},viewOnLoad:{value:0,kind:b.VIEWER+b.PREFERENCE},cMapPacked:{value:!0,kind:b.API},cMapUrl:{value:"../web/cmaps/",kind:b.API},disableAutoFetch:{value:!1,kind:b.API+b.PREFERENCE},disableFontFace:{value:!1,kind:b.API+b.PREFERENCE},disableRange:{value:!1,kind:b.API+b.PREFERENCE},disableStream:{value:!1,kind:b.API+b.PREFERENCE},docBaseUrl:{value:"",kind:b.API},enableXfa:{value:!0,kind:b.API+b.PREFERENCE},fontExtraProperties:{value:!1,kind:b.API},isEvalSupported:{value:!0,kind:b.API},maxImageSize:{value:-1,kind:b.API},pdfBug:{value:!1,kind:b.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:b.API},verbosity:{value:1,kind:b.API},workerPort:{value:null,kind:b.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:b.WORKER}};_e.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:b.VIEWER},_e.disablePreferences={value:!1,kind:b.VIEWER},_e.locale={value:navigator.language||"en-US",kind:b.VIEWER},_e.renderer={value:"canvas",kind:b.VIEWER+b.PREFERENCE},_e.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:b.VIEWER};const pt=Object.create(null);class et{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(at){const it=pt[at];if(it!==void 0)return it;const rt=_e[at];if(rt!==void 0){var ut;return(ut=j[at])!==null&&ut!==void 0?ut:rt.value}}static getAll(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const it=Object.create(null);for(const ut in _e){var rt;const _=_e[ut];if(at){if((at&_.kind)===0)continue;if(at===b.PREFERENCE){const $=_.value,g=typeof $;if(g==="boolean"||g==="string"||g==="number"&&Number.isInteger($)){it[ut]=$;continue}throw new Error(`Invalid type for preference: ${ut}`)}}const tt=pt[ut];it[ut]=tt!==void 0?tt:(rt=j[ut])!==null&&rt!==void 0?rt:_.value}return it}static set(at,it){pt[at]=it}static setAll(at){for(const it in at)pt[it]=at[it]}static remove(at){delete pt[at]}static _hasUserOptions(){return Object.keys(pt).length>0}}d.AppOptions=et},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextAccessibilityManager=void 0;var b=j(7);function _e(_t,xt){et(_t,xt),xt.add(_t)}function pt(_t,xt,wt){et(_t,xt),xt.set(_t,wt)}function et(_t,xt){if(xt.has(_t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nt(_t,xt,wt){if(!xt.has(_t))throw new TypeError("attempted to get private field on non-instance");return wt}function at(_t,xt,wt){return it(_t,xt),wt}function it(_t,xt){if(_t!==xt)throw new TypeError("Private static access of wrong provenance")}function rt(_t,xt){var wt=tt(_t,xt,"get");return ut(_t,wt)}function ut(_t,xt){return xt.get?xt.get.call(_t):xt.value}function _(_t,xt,wt){var At=tt(_t,xt,"set");return $(_t,At,wt),wt}function tt(_t,xt,wt){if(!xt.has(_t))throw new TypeError("attempted to "+wt+" private field on non-instance");return xt.get(_t)}function $(_t,xt,wt){if(xt.set)xt.set.call(_t,wt);else{if(!xt.writable)throw new TypeError("attempted to set read only private field");xt.value=wt}}var g=new WeakMap,k=new WeakMap,ot=new WeakMap,ct=new WeakMap,dt=new WeakSet;class ft{constructor(){_e(this,dt),pt(this,g,{writable:!0,value:!1}),pt(this,k,{writable:!0,value:null}),pt(this,ot,{writable:!0,value:new Map}),pt(this,ct,{writable:!0,value:new Map})}setTextMapping(xt){_(this,k,xt)}enable(){if(rt(this,g))throw new Error("TextAccessibilityManager is already enabled.");if(!rt(this,k))throw new Error("Text divs and strings have not been set.");if(_(this,g,!0),_(this,k,rt(this,k).slice()),rt(this,k).sort(at(ft,ft,bt)),rt(this,ot).size>0){const xt=rt(this,k);for(const[wt,At]of rt(this,ot)){if(!document.getElementById(wt)){rt(this,ot).delete(wt);continue}nt(this,dt,Mt).call(this,wt,xt[At])}}for(const[xt,wt]of rt(this,ct))this.addPointerInTextLayer(xt,wt);rt(this,ct).clear()}disable(){!rt(this,g)||(rt(this,ct).clear(),_(this,k,null),_(this,g,!1))}removePointerInTextLayer(xt){var wt;if(!rt(this,g)){rt(this,ct).delete(xt);return}const At=rt(this,k);if(!At||At.length===0)return;const{id:Et}=xt,yt=rt(this,ot).get(Et);if(yt===void 0)return;const Pt=At[yt];rt(this,ot).delete(Et);let It=Pt.getAttribute("aria-owns");(wt=It)!==null&&wt!==void 0&&wt.includes(Et)&&(It=It.split(" ").filter(vt=>vt!==Et).join(" "),It?Pt.setAttribute("aria-owns",It):(Pt.removeAttribute("aria-owns"),Pt.setAttribute("role","presentation")))}addPointerInTextLayer(xt,wt){const{id:At}=xt;if(!At)return;if(!rt(this,g)){rt(this,ct).set(xt,wt);return}wt&&this.removePointerInTextLayer(xt);const Et=rt(this,k);if(!Et||Et.length===0)return;const yt=(0,b.binarySearchFirstItem)(Et,It=>at(ft,ft,bt).call(ft,xt,It)<0),Pt=Math.max(0,yt-1);nt(this,dt,Mt).call(this,At,Et[Pt]),rt(this,ot).set(At,Pt)}moveElementInDOM(xt,wt,At,Et){if(this.addPointerInTextLayer(At,Et),!xt.hasChildNodes()){xt.append(wt);return}const yt=Array.from(xt.childNodes).filter(vt=>vt!==wt);if(yt.length===0)return;const Pt=At||wt,It=(0,b.binarySearchFirstItem)(yt,vt=>at(ft,ft,bt).call(ft,Pt,vt)<0);It===0?yt[0].before(wt):yt[It-1].after(wt)}}d.TextAccessibilityManager=ft;function bt(_t,xt){const wt=_t.getBoundingClientRect(),At=xt.getBoundingClientRect();if(wt.width===0&&wt.height===0)return 1;if(At.width===0&&At.height===0)return-1;const Et=wt.y,yt=wt.y+wt.height,Pt=wt.y+wt.height/2,It=At.y,vt=At.y+At.height,Wt=At.y+At.height/2;if(Pt<=It&&Wt>=yt)return-1;if(Wt<=Et&&Pt>=vt)return 1;const jt=wt.x+wt.width/2,Rt=At.x+At.width/2;return jt-Rt}function Mt(_t,xt){const wt=xt.getAttribute("aria-owns");wt!=null&&wt.includes(_t)||xt.setAttribute("aria-owns",wt?`${wt} ${_t}`:_t),xt.removeAttribute("role")}},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFRenderingQueue=void 0;var b=j(3),_e=j(7);const pt=3e4;class et{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(at){this.pdfViewer=at}setThumbnailViewer(at){this.pdfThumbnailViewer=at}isHighestPriority(at){return this.highestPriorityPage===at.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(at){var it;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(at)&&(this.isThumbnailViewEnabled&&(it=this.pdfThumbnailViewer)!==null&&it!==void 0&&it.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),pt)))}getHighestPriority(at,it,rt){let ut=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const _=at.views,tt=_.length;if(tt===0)return null;for(let ct=0;ct<tt;ct++){const dt=_[ct].view;if(!this.isViewFinished(dt))return dt}const $=at.first.id,g=at.last.id;if(g-$+1>tt){const ct=at.ids;for(let dt=1,ft=g-$;dt<ft;dt++){const bt=rt?$+dt:g-dt;if(ct.has(bt))continue;const Mt=it[bt-1];if(!this.isViewFinished(Mt))return Mt}}let k=rt?g:$-2,ot=it[k];return ot&&!this.isViewFinished(ot)||ut&&(k+=rt?1:-1,ot=it[k],ot&&!this.isViewFinished(ot))?ot:null}isViewFinished(at){return at.renderingState===_e.RenderingStates.FINISHED}renderView(at){switch(at.renderingState){case _e.RenderingStates.FINISHED:return!1;case _e.RenderingStates.PAUSED:this.highestPriorityPage=at.renderingId,at.resume();break;case _e.RenderingStates.RUNNING:this.highestPriorityPage=at.renderingId;break;case _e.RenderingStates.INITIAL:this.highestPriorityPage=at.renderingId,at.draw().finally(()=>{this.renderHighestPriority()}).catch(it=>{it instanceof b.RenderingCancelledException||console.error(`renderView: "${it}"`)});break}return!0}}d.PDFRenderingQueue=et},(f,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextHighlighter=void 0;class j{constructor(_e){let{findController:pt,eventBus:et,pageIndex:nt}=_e;this.findController=pt,this.matches=[],this.eventBus=et,this.pageIdx=nt,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(_e,pt){this.textDivs=_e,this.textContentItemsStr=pt}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=_e=>{(_e.pageIndex===this.pageIdx||_e.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(_e,pt){if(!_e)return[];const{textContentItemsStr:et}=this;let nt=0,at=0;const it=et.length-1,rt=[];for(let ut=0,_=_e.length;ut<_;ut++){let tt=_e[ut];for(;nt!==it&&tt>=at+et[nt].length;)at+=et[nt].length,nt++;nt===et.length&&console.error("Could not find a matching mapping");const $={begin:{divIdx:nt,offset:tt-at}};for(tt+=pt[ut];nt!==it&&tt>at+et[nt].length;)at+=et[nt].length,nt++;$.end={divIdx:nt,offset:tt-at},rt.push($)}return rt}_renderMatches(_e){if(_e.length===0)return;const{findController:pt,pageIdx:et}=this,{textContentItemsStr:nt,textDivs:at}=this,it=et===pt.selected.pageIdx,rt=pt.selected.matchIdx,ut=pt.state.highlightAll;let _=null;const tt={divIdx:-1,offset:void 0};function $(ct,dt){const ft=ct.divIdx;return at[ft].textContent="",g(ft,0,ct.offset,dt)}function g(ct,dt,ft,bt){let Mt=at[ct];if(Mt.nodeType===Node.TEXT_NODE){const wt=document.createElement("span");Mt.before(wt),wt.append(Mt),at[ct]=wt,Mt=wt}const _t=nt[ct].substring(dt,ft),xt=document.createTextNode(_t);if(bt){const wt=document.createElement("span");return wt.className=`${bt} appended`,wt.append(xt),Mt.append(wt),bt.includes("selected")?wt.offsetLeft:0}return Mt.append(xt),0}let k=rt,ot=k+1;if(ut)k=0,ot=_e.length;else if(!it)return;for(let ct=k;ct<ot;ct++){const dt=_e[ct],ft=dt.begin,bt=dt.end,Mt=it&&ct===rt,_t=Mt?" selected":"";let xt=0;if(!_||ft.divIdx!==_.divIdx?(_!==null&&g(_.divIdx,_.offset,tt.offset),$(ft)):g(_.divIdx,_.offset,ft.offset),ft.divIdx===bt.divIdx)xt=g(ft.divIdx,ft.offset,bt.offset,"highlight"+_t);else{xt=g(ft.divIdx,ft.offset,tt.offset,"highlight begin"+_t);for(let wt=ft.divIdx+1,At=bt.divIdx;wt<At;wt++)at[wt].className="highlight middle"+_t;$(bt,"highlight end"+_t)}_=bt,Mt&&pt.scrollMatchIntoView({element:at[ft.divIdx],selectedLeft:xt,pageIndex:et,matchIndex:rt})}_&&g(_.divIdx,_.offset,tt.offset)}_updateMatches(){if(!this.enabled)return;const{findController:_e,matches:pt,pageIdx:et}=this,{textContentItemsStr:nt,textDivs:at}=this;let it=-1;for(let _=0,tt=pt.length;_<tt;_++){const $=pt[_],g=Math.max(it,$.begin.divIdx);for(let k=g,ot=$.end.divIdx;k<=ot;k++){const ct=at[k];ct.textContent=nt[k],ct.className=""}it=$.end.divIdx+1}if(!(_e!=null&&_e.highlightMatches))return;const rt=_e.pageMatches[et]||null,ut=_e.pageMatchesLength[et]||null;this.matches=this._convertMatches(rt,ut),this._renderMatches(this.matches)}}d.TextHighlighter=j},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DownloadManager=void 0;var b=j(3);function _e(et,nt){const at=document.createElement("a");if(!at.click)throw new Error('DownloadManager: "a.click()" is not supported.');at.href=et,at.target="_parent","download"in at&&(at.download=nt),(document.body||document.documentElement).append(at),at.click(),at.remove()}class pt{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(nt,at){if(!(0,b.createValidAbsoluteUrl)(nt,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${nt}`);return}_e(nt+"#pdfjs.action=download",at)}downloadData(nt,at,it){const rt=URL.createObjectURL(new Blob([nt],{type:it}));_e(rt,at)}openOrDownloadData(nt,at,it){const rt=(0,b.isPdfFile)(it),ut=rt?"application/pdf":"";if(rt){let _=this._openBlobUrls.get(nt);_||(_=URL.createObjectURL(new Blob([at],{type:ut})),this._openBlobUrls.set(nt,_));let tt;tt="?file="+encodeURIComponent(_+"#"+it);try{return window.open(tt),!0}catch($){console.error(`openOrDownloadData: ${$}`),URL.revokeObjectURL(_),this._openBlobUrls.delete(nt)}}return this.downloadData(at,it,ut),!1}download(nt,at,it){const rt=URL.createObjectURL(nt);_e(rt,it)}}d.DownloadManager=pt},(f,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WaitOnType=d.EventBus=d.AutomationEventBus=void 0,d.waitOnEventOrTimeout=b;const j={EVENT:"event",TIMEOUT:"timeout"};d.WaitOnType=j;function b(et){let{target:nt,name:at,delay:it=0}=et;return new Promise(function(rt,ut){if(typeof nt!="object"||!(at&&typeof at=="string")||!(Number.isInteger(it)&&it>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function _(k){nt instanceof _e?nt._off(at,tt):nt.removeEventListener(at,tt),g&&clearTimeout(g),rt(k)}const tt=_.bind(null,j.EVENT);nt instanceof _e?nt._on(at,tt):nt.addEventListener(at,tt);const $=_.bind(null,j.TIMEOUT),g=setTimeout($,it)})}class _e{constructor(){this._listeners=Object.create(null)}on(nt,at){let it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._on(nt,at,{external:!0,once:it==null?void 0:it.once})}off(nt,at){let it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._off(nt,at,{external:!0,once:it==null?void 0:it.once})}dispatch(nt,at){const it=this._listeners[nt];if(!it||it.length===0)return;let rt;for(const{listener:ut,external:_,once:tt}of it.slice(0)){if(tt&&this._off(nt,ut),_){(rt||(rt=[])).push(ut);continue}ut(at)}if(rt){for(const ut of rt)ut(at);rt=null}}_on(nt,at){var it;let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;((it=this._listeners)[nt]||(it[nt]=[])).push({listener:at,external:(rt==null?void 0:rt.external)===!0,once:(rt==null?void 0:rt.once)===!0})}_off(nt,at){const it=this._listeners[nt];if(!!it){for(let rt=0,ut=it.length;rt<ut;rt++)if(it[rt].listener===at){it.splice(rt,1);return}}}}d.EventBus=_e;class pt extends _e{dispatch(nt,at){throw new Error("Not implemented: AutomationEventBus.dispatch")}}d.AutomationEventBus=pt},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GenericL10n=void 0,j(21);var b=j(4);const _e=document.webL10n;class pt{constructor(nt){this._lang=nt,this._ready=new Promise((at,it)=>{_e.setLanguage((0,b.fixupLangCode)(nt),()=>{at(_e)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(nt){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(0,b.getL10nFallback)(nt,at);return(await this._ready).get(nt,at,it)}async translate(nt){return(await this._ready).translate(nt)}}d.GenericL10n=pt},()=>{document.webL10n=function(f,d,j){var b={},_e="",pt="textContent",et="",nt={},at="loading",it=!0;function rt(){return d.querySelectorAll('link[type="application/l10n"]')}function ut(){var wt=d.querySelector('script[type="application/l10n"]');return wt?JSON.parse(wt.innerHTML):null}function _(wt){return wt?wt.querySelectorAll("*[data-l10n-id]"):[]}function tt(wt){if(!wt)return{};var At=wt.getAttribute("data-l10n-id"),Et=wt.getAttribute("data-l10n-args"),yt={};if(Et)try{yt=JSON.parse(Et)}catch{console.warn("could not parse arguments for #"+At)}return{id:At,args:yt}}function $(wt,At,Et){At=At||function(It){},Et=Et||function(){};var yt=new XMLHttpRequest;yt.open("GET",wt,it),yt.overrideMimeType&&yt.overrideMimeType("text/plain; charset=utf-8"),yt.onreadystatechange=function(){yt.readyState==4&&(yt.status==200||yt.status===0?At(yt.responseText):Et())},yt.onerror=Et,yt.ontimeout=Et;try{yt.send(null)}catch{Et()}}function g(wt,At,Et,yt){var Pt=wt.replace(/[^\/]*$/,"")||"./";function It(Wt){return Wt.lastIndexOf("\\")<0?Wt:Wt.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function vt(Wt,jt){var Rt={},ht=/^\s*|\s*$/,gt=/^\s*#|^\s*$/,Ot=/^\s*\[(.*)\]\s*$/,Ft=/^\s*@import\s+url\((.*)\)\s*$/i,lt=/^([^=\s]*)\s*=\s*(.+)$/;function mt(Ct,Dt,Lt){var $t=Ct.replace(ht,"").split(/[\r\n]+/),Xt="*",Zt=At.split("-",1)[0],Jt=!1,Qt="";function en(){for(;;){if(!$t.length){Lt();return}var un=$t.shift();if(!gt.test(un)){if(Dt){if(Qt=Ot.exec(un),Qt){Xt=Qt[1].toLowerCase(),Jt=Xt!=="*"&&Xt!==At&&Xt!==Zt;continue}else if(Jt)continue;if(Qt=Ft.exec(un),Qt){St(Pt+Qt[1],en);return}}var gn=un.match(lt);gn&&gn.length==3&&(Rt[gn[1]]=It(gn[2]))}}}en()}function St(Ct,Dt){$(Ct,function(Lt){mt(Lt,!1,Dt)},function(){console.warn(Ct+" not found."),Dt()})}mt(Wt,!0,function(){jt(Rt)})}$(wt,function(Wt){_e+=Wt,vt(Wt,function(jt){for(var Rt in jt){var ht,gt,Ot=Rt.lastIndexOf(".");Ot>0?(ht=Rt.substring(0,Ot),gt=Rt.substring(Ot+1)):(ht=Rt,gt=pt),b[ht]||(b[ht]={}),b[ht][gt]=jt[Rt]}Et&&Et()})},yt)}function k(wt,At){wt&&(wt=wt.toLowerCase()),At=At||function(){},ot(),et=wt;var Et=rt(),yt=Et.length;if(yt===0){var Pt=ut();if(Pt&&Pt.locales&&Pt.default_locale){if(console.log("using the embedded JSON directory, early way out"),b=Pt.locales[wt],!b){var It=Pt.default_locale.toLowerCase();for(var vt in Pt.locales)if(vt=vt.toLowerCase(),vt===wt){b=Pt.locales[wt];break}else vt===It&&(b=Pt.locales[It])}At()}else console.log("no resource to load, early way out");at="complete";return}var Wt=null,jt=0;Wt=function(){jt++,jt>=yt&&(At(),at="complete")};function Rt(Ot){var Ft=Ot.href;this.load=function(lt,mt){g(Ft,lt,mt,function(){console.warn(Ft+" not found."),console.warn('"'+lt+'" resource not found'),et="",mt()})}}for(var ht=0;ht<yt;ht++){var gt=new Rt(Et[ht]);gt.load(wt,Wt)}}function ot(){b={},_e="",et=""}function ct(wt){var At={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function Et(vt,Wt){return Wt.indexOf(vt)!==-1}function yt(vt,Wt,jt){return Wt<=vt&&vt<=jt}var Pt={"0":function(vt){return"other"},"1":function(vt){return yt(vt%100,3,10)?"few":vt===0?"zero":yt(vt%100,11,99)?"many":vt==2?"two":vt==1?"one":"other"},"2":function(vt){return vt!==0&&vt%10===0?"many":vt==2?"two":vt==1?"one":"other"},"3":function(vt){return vt==1?"one":"other"},"4":function(vt){return yt(vt,0,1)?"one":"other"},"5":function(vt){return yt(vt,0,2)&&vt!=2?"one":"other"},"6":function(vt){return vt===0?"zero":vt%10==1&&vt%100!=11?"one":"other"},"7":function(vt){return vt==2?"two":vt==1?"one":"other"},"8":function(vt){return yt(vt,3,6)?"few":yt(vt,7,10)?"many":vt==2?"two":vt==1?"one":"other"},"9":function(vt){return vt===0||vt!=1&&yt(vt%100,1,19)?"few":vt==1?"one":"other"},"10":function(vt){return yt(vt%10,2,9)&&!yt(vt%100,11,19)?"few":vt%10==1&&!yt(vt%100,11,19)?"one":"other"},"11":function(vt){return yt(vt%10,2,4)&&!yt(vt%100,12,14)?"few":vt%10===0||yt(vt%10,5,9)||yt(vt%100,11,14)?"many":vt%10==1&&vt%100!=11?"one":"other"},"12":function(vt){return yt(vt,2,4)?"few":vt==1?"one":"other"},"13":function(vt){return yt(vt%10,2,4)&&!yt(vt%100,12,14)?"few":vt!=1&&yt(vt%10,0,1)||yt(vt%10,5,9)||yt(vt%100,12,14)?"many":vt==1?"one":"other"},"14":function(vt){return yt(vt%100,3,4)?"few":vt%100==2?"two":vt%100==1?"one":"other"},"15":function(vt){return vt===0||yt(vt%100,2,10)?"few":yt(vt%100,11,19)?"many":vt==1?"one":"other"},"16":function(vt){return vt%10==1&&vt!=11?"one":"other"},"17":function(vt){return vt==3?"few":vt===0?"zero":vt==6?"many":vt==2?"two":vt==1?"one":"other"},"18":function(vt){return vt===0?"zero":yt(vt,0,2)&&vt!==0&&vt!=2?"one":"other"},"19":function(vt){return yt(vt,2,10)?"few":yt(vt,0,1)?"one":"other"},"20":function(vt){return(yt(vt%10,3,4)||vt%10==9)&&!(yt(vt%100,10,19)||yt(vt%100,70,79)||yt(vt%100,90,99))?"few":vt%1e6===0&&vt!==0?"many":vt%10==2&&!Et(vt%100,[12,72,92])?"two":vt%10==1&&!Et(vt%100,[11,71,91])?"one":"other"},"21":function(vt){return vt===0?"zero":vt==1?"one":"other"},"22":function(vt){return yt(vt,0,1)||yt(vt,11,99)?"one":"other"},"23":function(vt){return yt(vt%10,1,2)||vt%20===0?"one":"other"},"24":function(vt){return yt(vt,3,10)||yt(vt,13,19)?"few":Et(vt,[2,12])?"two":Et(vt,[1,11])?"one":"other"}},It=At[wt.replace(/-.*$/,"")];return It in Pt?Pt[It]:(console.warn("plural form unknown for ["+wt+"]"),function(){return"other"})}nt.plural=function(wt,At,Et,yt){var Pt=parseFloat(At);if(isNaN(Pt)||yt!=pt)return wt;nt._pluralRules||(nt._pluralRules=ct(et));var It="["+nt._pluralRules(Pt)+"]";return Pt===0&&Et+"[zero]"in b?wt=b[Et+"[zero]"][yt]:Pt==1&&Et+"[one]"in b?wt=b[Et+"[one]"][yt]:Pt==2&&Et+"[two]"in b?wt=b[Et+"[two]"][yt]:Et+It in b?wt=b[Et+It][yt]:Et+"[other]"in b&&(wt=b[Et+"[other]"][yt]),wt};function dt(wt,At,Et){var yt=b[wt];if(!yt){if(console.warn("#"+wt+" is undefined."),!Et)return null;yt=Et}var Pt={};for(var It in yt){var vt=yt[It];vt=ft(vt,At,wt,It),vt=bt(vt,At,wt),Pt[It]=vt}return Pt}function ft(wt,At,Et,yt){var Pt=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,It=Pt.exec(wt);if(!It||!It.length)return wt;var vt=It[1],Wt=It[2],jt;if(At&&Wt in At?jt=At[Wt]:Wt in b&&(jt=b[Wt]),vt in nt){var Rt=nt[vt];wt=Rt(wt,jt,Et,yt)}return wt}function bt(wt,At,Et){var yt=/\{\{\s*(.+?)\s*\}\}/g;return wt.replace(yt,function(Pt,It){return At&&It in At?At[It]:It in b?b[It]:(console.log("argument {{"+It+"}} for #"+Et+" is undefined."),Pt)})}function Mt(wt){var At=tt(wt);if(!!At.id){var Et=dt(At.id,At.args);if(!Et){console.warn("#"+At.id+" is undefined.");return}if(Et[pt]){if(_t(wt)===0)wt[pt]=Et[pt];else{for(var yt=wt.childNodes,Pt=!1,It=0,vt=yt.length;It<vt;It++)yt[It].nodeType===3&&/\S/.test(yt[It].nodeValue)&&(Pt?yt[It].nodeValue="":(yt[It].nodeValue=Et[pt],Pt=!0));if(!Pt){var Wt=d.createTextNode(Et[pt]);wt.prepend(Wt)}}delete Et[pt]}for(var jt in Et)wt[jt]=Et[jt]}}function _t(wt){if(wt.children)return wt.children.length;if(typeof wt.childElementCount!="undefined")return wt.childElementCount;for(var At=0,Et=0;Et<wt.childNodes.length;Et++)At+=wt.nodeType===1?1:0;return At}function xt(wt){wt=wt||d.documentElement;for(var At=_(wt),Et=At.length,yt=0;yt<Et;yt++)Mt(At[yt]);Mt(wt)}return{get:function(wt,At,Et){var yt=wt.lastIndexOf("."),Pt=pt;yt>0&&(Pt=wt.substring(yt+1),wt=wt.substring(0,yt));var It;Et&&(It={},It[Pt]=Et);var vt=dt(wt,At,It);return vt&&Pt in vt?vt[Pt]:"{{"+wt+"}}"},getData:function(){return b},getText:function(){return _e},getLanguage:function(){return et},setLanguage:function(wt,At){k(wt,function(){At&&At()})},getDirection:function(){var wt=["ar","he","fa","ps","ur"],At=et.split("-",1)[0];return wt.indexOf(At)>=0?"rtl":"ltr"},translate:xt,getReadyState:function(){return at},ready:function(wt){if(wt)at=="complete"||at=="interactive"?f.setTimeout(function(){wt()}):d.addEventListener&&d.addEventListener("localized",function At(){d.removeEventListener("localized",At),wt()});else return}}}(window,document)},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFFindController=d.FindState=void 0;var b=j(7),_e=j(3),pt=j(23);function et(nn,sn,Gt){at(nn,sn),sn.set(nn,Gt)}function nt(nn,sn){at(nn,sn),sn.add(nn)}function at(nn,sn){if(sn.has(nn))throw new TypeError("Cannot initialize the same private elements twice on an object")}function it(nn,sn){var Gt=rt(nn,sn,"get");return ut(nn,Gt)}function rt(nn,sn,Gt){if(!sn.has(nn))throw new TypeError("attempted to "+Gt+" private field on non-instance");return sn.get(nn)}function ut(nn,sn){return sn.get?sn.get.call(nn):sn.value}function _(nn,sn,Gt){if(!sn.has(nn))throw new TypeError("attempted to get private field on non-instance");return Gt}const tt={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};d.FindState=tt;const $=250,g=-50,k=-400,ot={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},ct=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),dt=[...ct.values()].map(nn=>String.fromCharCode(nn)).join(""),ft=/\p{M}+/gu,bt=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,Mt=/([^\p{M}])\p{M}*$/u,_t=/^\p{M}*([^\p{M}])/u,xt=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,wt=new Map,At="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let Et=null,yt=null;function Pt(nn){const sn=[];let Gt;for(;(Gt=xt.exec(nn))!==null;){let{index:kn}=Gt;for(const Mn of Gt[0]){let Dn=wt.get(Mn);Dn||(Dn=Mn.normalize("NFD").length,wt.set(Mn,Dn)),sn.push([Dn,kn++])}}let zt;if(sn.length===0&&Et)zt=Et;else if(sn.length>0&&yt)zt=yt;else{const Mn=`([${Object.keys(ot).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;sn.length===0?zt=Et=new RegExp(Mn+"|(\\u0000)","gum"):zt=yt=new RegExp(Mn+`|(${At})`,"gum")}const tn=[];for(;(Gt=ft.exec(nn))!==null;)tn.push([Gt[0].length,Gt.index]);let cn=nn.normalize("NFD");const _n=[[0,0]];let Pn=0,Cn=0,En=0,wn=0,xn=0,Nn=!1;return cn=cn.replace(zt,(kn,Mn,Dn,Ln,Vn,zn,Hn)=>{var Zn;if(Hn-=wn,Mn){const Xn=ot[kn],$n=Xn.length;for(let Yn=1;Yn<$n;Yn++)_n.push([Hn-En+Yn,En-Yn]);return En-=$n-1,Xn}if(Dn){var nr;const Xn=Dn.endsWith(`
`),$n=Xn?Dn.length-2:Dn.length;Nn=!0;let Yn=$n;Hn+xn===((nr=tn[Pn])===null||nr===void 0?void 0:nr[1])&&(Yn-=tn[Pn][0],++Pn);for(let qn=1;qn<=Yn;qn++)_n.push([Hn-1-En+qn,En-qn]);return En-=Yn,wn+=Yn,Xn?(Hn+=$n-1,_n.push([Hn-En+1,1+En]),En+=1,wn+=1,xn+=1,Dn.slice(0,$n)):Dn}if(Ln)return _n.push([Hn-En+1,1+En]),En+=1,wn+=1,xn+=1,Ln.charAt(0);if(Vn)return _n.push([Hn-En+1,En-1]),En-=1,wn+=1,xn+=1," ";if(Hn+xn===((Zn=sn[Cn])===null||Zn===void 0?void 0:Zn[1])){const Xn=sn[Cn][0]-1;++Cn;for(let $n=1;$n<=Xn;$n++)_n.push([Hn-(En-$n),En-$n]);En-=Xn,wn+=Xn}return zn}),_n.push([cn.length,En]),[cn,_n,Nn]}function It(nn,sn,Gt){if(!nn)return[sn,Gt];const zt=sn,tn=sn+Gt;let cn=(0,b.binarySearchFirstItem)(nn,Pn=>Pn[0]>=zt);nn[cn][0]>zt&&--cn;let _n=(0,b.binarySearchFirstItem)(nn,Pn=>Pn[0]>=tn,cn);return nn[_n][0]>tn&&--_n,[zt+nn[cn][1],Gt+nn[_n][1]-nn[cn][1]]}var vt=new WeakSet,Wt=new WeakSet,jt=new WeakMap,Rt=new WeakSet,ht=new WeakSet,gt=new WeakSet,Ot=new WeakSet,Ft=new WeakSet,lt=new WeakSet,mt=new WeakSet,St=new WeakSet,Ct=new WeakSet,Dt=new WeakSet,Lt=new WeakSet,$t=new WeakSet,Xt=new WeakSet,Zt=new WeakSet,Jt=new WeakSet,Qt=new WeakSet,en=new WeakSet;class un{constructor(sn){let{linkService:Gt,eventBus:zt}=sn;nt(this,en),nt(this,Qt),nt(this,Jt),nt(this,Zt),nt(this,Xt),nt(this,$t),nt(this,Lt),nt(this,Dt),nt(this,Ct),nt(this,St),nt(this,mt),nt(this,lt),nt(this,Ft),nt(this,Ot),nt(this,gt),nt(this,ht),nt(this,Rt),et(this,jt,{get:vn,set:void 0}),nt(this,Wt),nt(this,vt),this._linkService=Gt,this._eventBus=zt,_(this,Wt,yn).call(this),zt._on("find",_(this,vt,gn).bind(this)),zt._on("findbarclose",_(this,Zt,Yt).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(sn){this._pdfDocument&&_(this,Wt,yn).call(this),!!sn&&(this._pdfDocument=sn,this._firstPageCapability.resolve())}scrollMatchIntoView(sn){let{element:Gt=null,selectedLeft:zt=0,pageIndex:tn=-1,matchIndex:cn=-1}=sn;if(!this._scrollMatches||!Gt)return;if(cn===-1||cn!==this._selected.matchIdx)return;if(tn===-1||tn!==this._selected.pageIdx)return;this._scrollMatches=!1;const _n={top:g,left:zt+k};(0,b.scrollIntoView)(Gt,_n,!0)}}d.PDFFindController=un;function gn(nn){if(!nn)return;const sn=this._pdfDocument,{type:Gt}=nn;(this._state===null||_(this,Rt,An).call(this,nn))&&(this._dirtyMatch=!0),this._state=nn,Gt!=="highlightallchange"&&_(this,en,ln).call(this,tt.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||sn&&this._pdfDocument!==sn)return;_(this,lt,hn).call(this);const zt=!this._highlightMatches,tn=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Gt?this._dirtyMatch?_(this,Ct,Vt).call(this):Gt==="again"?(_(this,Ct,Vt).call(this),zt&&this._state.highlightAll&&_(this,St,kt).call(this)):Gt==="highlightallchange"?(tn?_(this,Ct,Vt).call(this):this._highlightMatches=!0,_(this,St,kt).call(this)):_(this,Ct,Vt).call(this):this._findTimeout=setTimeout(()=>{_(this,Ct,Vt).call(this),this._findTimeout=null},$)})}function yn(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,_e.createPromiseCapability)()}function vn(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=Pt(this._state.query)),this._normalizedQuery}function An(nn){if(nn.query!==this._state.query)return!0;switch(nn.type){case"again":const sn=this._selected.pageIdx+1,Gt=this._linkService;return sn>=1&&sn<=Gt.pagesCount&&sn!==Gt.page&&!Gt.isPageVisible(sn);case"highlightallchange":return!1}return!0}function qt(nn,sn,Gt){let zt=nn.slice(0,sn).match(Mt);if(zt){const tn=nn.charCodeAt(sn),cn=zt[1].charCodeAt(0);if((0,pt.getCharacterType)(tn)===(0,pt.getCharacterType)(cn))return!1}if(zt=nn.slice(sn+Gt).match(_t),zt){const tn=nn.charCodeAt(sn+Gt-1),cn=zt[1].charCodeAt(0);if((0,pt.getCharacterType)(tn)===(0,pt.getCharacterType)(cn))return!1}return!0}function dn(nn,sn,Gt,zt){const tn=[],cn=[],_n=this._pageDiffs[Gt];let Pn;for(;(Pn=nn.exec(zt))!==null;){if(sn&&!_(this,ht,qt).call(this,zt,Pn.index,Pn[0].length))continue;const[Cn,En]=It(_n,Pn.index,Pn[0].length);En&&(tn.push(Cn),cn.push(En))}this._pageMatches[Gt]=tn,this._pageMatchesLength[Gt]=cn}function Sn(nn,sn){const{matchDiacritics:Gt}=this._state;let zt=!1;nn=nn.replace(bt,(cn,_n,Pn,Cn,En,wn)=>_n?`[ ]*\\${_n}[ ]*`:Pn?`[ ]*${Pn}[ ]*`:Cn?"[ ]+":Gt?En||wn:En?ct.has(En.charCodeAt(0))?En:"":sn?(zt=!0,`${wn}\\p{M}*`):wn);const tn="[ ]*";return nn.endsWith(tn)&&(nn=nn.slice(0,nn.length-tn.length)),Gt&&sn&&(zt=!0,nn=`${nn}(?=[${dt}]|[^\\p{M}]|$)`),[zt,nn]}function mn(nn){let sn=it(this,jt);if(sn.length===0)return;const{caseSensitive:Gt,entireWord:zt,phraseSearch:tn}=this._state,cn=this._pageContents[nn],_n=this._hasDiacritics[nn];let Pn=!1;if(tn)[Pn,sn]=_(this,Ot,Sn).call(this,sn,_n);else{const wn=sn.match(/\S+/g);wn&&(sn=wn.sort().reverse().map(xn=>{const[Nn,kn]=_(this,Ot,Sn).call(this,xn,_n);return Pn||(Pn=Nn),`(${kn})`}).join("|"))}const Cn=`g${Pn?"u":""}${Gt?"":"i"}`;sn=new RegExp(sn,Cn),_(this,gt,dn).call(this,sn,zt,nn,cn),this._state.highlightAll&&_(this,mt,Nt).call(this,nn),this._resumePageIdx===nn&&(this._resumePageIdx=null,_(this,Lt,Kt).call(this));const En=this._pageMatches[nn].length;En>0&&(this._matchesCountTotal+=En,_(this,Qt,Ht).call(this))}function hn(){if(this._extractTextPromises.length>0)return;let nn=Promise.resolve();for(let sn=0,Gt=this._linkService.pagesCount;sn<Gt;sn++){const zt=(0,_e.createPromiseCapability)();this._extractTextPromises[sn]=zt.promise,nn=nn.then(()=>this._pdfDocument.getPage(sn+1).then(tn=>tn.getTextContent()).then(tn=>{const cn=[];for(const _n of tn.items)cn.push(_n.str),_n.hasEOL&&cn.push(`
`);[this._pageContents[sn],this._pageDiffs[sn],this._hasDiacritics[sn]]=Pt(cn.join("")),zt.resolve()},tn=>{console.error(`Unable to get text content for page ${sn+1}`,tn),this._pageContents[sn]="",this._pageDiffs[sn]=null,this._hasDiacritics[sn]=!1,zt.resolve()}))}}function Nt(nn){this._scrollMatches&&this._selected.pageIdx===nn&&(this._linkService.page=nn+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:nn})}function kt(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function Vt(){const nn=this._state.findPrevious,sn=this._linkService.page-1,Gt=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=sn,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,_(this,St,kt).call(this);for(let tn=0;tn<Gt;tn++)this._pendingFindMatches.has(tn)||(this._pendingFindMatches.add(tn),this._extractTextPromises[tn].then(()=>{this._pendingFindMatches.delete(tn),_(this,Ft,mn).call(this,tn)}))}if(it(this,jt)===""){_(this,en,ln).call(this,tt.FOUND);return}if(this._resumePageIdx)return;const zt=this._offset;if(this._pagesToSearch=Gt,zt.matchIdx!==null){const tn=this._pageMatches[zt.pageIdx].length;if(!nn&&zt.matchIdx+1<tn||nn&&zt.matchIdx>0){zt.matchIdx=nn?zt.matchIdx-1:zt.matchIdx+1,_(this,Xt,pn).call(this,!0);return}_(this,$t,an).call(this,nn)}_(this,Lt,Kt).call(this)}function on(nn){const sn=this._offset,Gt=nn.length,zt=this._state.findPrevious;return Gt?(sn.matchIdx=zt?Gt-1:0,_(this,Xt,pn).call(this,!0),!0):(_(this,$t,an).call(this,zt),sn.wrapped&&(sn.matchIdx=null,this._pagesToSearch<0)?(_(this,Xt,pn).call(this,!1),!0):!1)}function Kt(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let nn=null;do{const sn=this._offset.pageIdx;if(nn=this._pageMatches[sn],!nn){this._resumePageIdx=sn;break}}while(!_(this,Dt,on).call(this,nn))}function an(nn){const sn=this._offset,Gt=this._linkService.pagesCount;sn.pageIdx=nn?sn.pageIdx-1:sn.pageIdx+1,sn.matchIdx=null,this._pagesToSearch--,(sn.pageIdx>=Gt||sn.pageIdx<0)&&(sn.pageIdx=nn?Gt-1:0,sn.wrapped=!0)}function pn(){let nn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,sn=tt.NOT_FOUND;const Gt=this._offset.wrapped;if(this._offset.wrapped=!1,nn){const zt=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,sn=Gt?tt.WRAPPED:tt.FOUND,zt!==-1&&zt!==this._selected.pageIdx&&_(this,mt,Nt).call(this,zt)}_(this,en,ln).call(this,sn,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,_(this,mt,Nt).call(this,this._selected.pageIdx))}function Yt(nn){const sn=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||sn&&this._pdfDocument!==sn||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),_(this,en,ln).call(this,tt.FOUND),this._highlightMatches=!1,_(this,St,kt).call(this))})}function Bt(){const{pageIdx:nn,matchIdx:sn}=this._selected;let Gt=0,zt=this._matchesCountTotal;if(sn!==-1){for(let cn=0;cn<nn;cn++){var tn;Gt+=((tn=this._pageMatches[cn])===null||tn===void 0?void 0:tn.length)||0}Gt+=sn+1}return(Gt<1||Gt>zt)&&(Gt=zt=0),{current:Gt,total:zt}}function Ht(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:_(this,Jt,Bt).call(this)})}function ln(nn){var sn,Gt;let zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:nn,previous:zt,matchesCount:_(this,Jt,Bt).call(this),rawQuery:(sn=(Gt=this._state)===null||Gt===void 0?void 0:Gt.query)!==null&&sn!==void 0?sn:null})}},(f,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CharacterType=void 0,d.getCharacterType=tt;const j={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};d.CharacterType=j;function b($){return $<11904}function _e($){return($&65408)===0}function pt($){return $>=97&&$<=122||$>=65&&$<=90}function et($){return $>=48&&$<=57}function nt($){return $===32||$===9||$===13||$===10}function at($){return $>=13312&&$<=40959||$>=63744&&$<=64255}function it($){return $>=12448&&$<=12543}function rt($){return $>=12352&&$<=12447}function ut($){return $>=65376&&$<=65439}function _($){return($&65408)===3584}function tt($){return b($)?_e($)?nt($)?j.SPACE:pt($)||et($)||$===95?j.ALPHA_LETTER:j.PUNCT:_($)?j.THAI_LETTER:$===160?j.SPACE:j.ALPHA_LETTER:at($)?j.HAN_LETTER:it($)?j.KATAKANA_LETTER:rt($)?j.HIRAGANA_LETTER:ut($)?j.HALFWIDTH_KATAKANA_LETTER:j.ALPHA_LETTER}},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFHistory=void 0,d.isDestArraysEqual=ut,d.isDestHashesEqual=rt;var b=j(7),_e=j(19);const pt=1e3,et=50,nt=1e3;function at(){return document.location.hash}class it{constructor(tt){let{linkService:$,eventBus:g}=tt;this.linkService=$,this.eventBus=g,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",k=>{this._isPagesLoaded=!!k.pagesCount},{once:!0})})}initialize(tt){let{fingerprint:$,resetHistory:g=!1,updateUrl:k=!1}=tt;if(!$||typeof $!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const ot=this._fingerprint!==""&&this._fingerprint!==$;this._fingerprint=$,this._updateUrl=k===!0,this._initialized=!0,this._bindEvents();const ct=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=at(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(ct,!0)||g){const{hash:ft,page:bt,rotation:Mt}=this._parseCurrentHash(!0);if(!ft||ot||g){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:ft,page:bt,rotation:Mt},!0);return}const dt=ct.destination;this._updateInternalState(dt,ct.uid,!0),dt.rotation!==void 0&&(this._initialRotation=dt.rotation),dt.dest?(this._initialBookmark=JSON.stringify(dt.dest),this._destination.page=null):dt.hash?this._initialBookmark=dt.hash:dt.page&&(this._initialBookmark=`page=${dt.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push(tt){let{namedDest:$=null,explicitDest:g,pageNumber:k}=tt;if(!this._initialized)return;if($&&typeof $!="string"){console.error(`PDFHistory.push: "${$}" is not a valid namedDest parameter.`);return}else if(Array.isArray(g)){if(!this._isValidPage(k)&&(k!==null||this._destination)){console.error(`PDFHistory.push: "${k}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${g}" is not a valid explicitDest parameter.`);return}const ot=$||JSON.stringify(g);if(!ot)return;let ct=!1;if(this._destination&&(rt(this._destination.hash,ot)||ut(this._destination.dest,g))){if(this._destination.page)return;ct=!0}this._popStateInProgress&&!ct||(this._pushOrReplaceState({dest:g,hash:ot,page:k,rotation:this.linkService.rotation},ct),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(tt){var $;if(!!this._initialized){if(!this._isValidPage(tt)){console.error(`PDFHistory.pushPage: "${tt}" is not a valid page number.`);return}(($=this._destination)===null||$===void 0?void 0:$.page)!==tt&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${tt}`,page:tt,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const tt=window.history.state;this._isValidState(tt)&&tt.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const tt=window.history.state;this._isValidState(tt)&&tt.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(tt){const g=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||!this._destination,k={fingerprint:this._fingerprint,uid:g?this._uid:this._uid+1,destination:tt};this._updateInternalState(tt,k.uid);let ot;if(this._updateUrl&&tt!==null&&tt!==void 0&&tt.hash){const ct=document.location.href.split("#")[0];ct.startsWith("file://")||(ot=`${ct}#${tt.hash}`)}g?window.history.replaceState(k,"",ot):window.history.pushState(k,"",ot)}_tryPushCurrentPosition(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._position)return;let $=this._position;if(tt&&($=Object.assign(Object.create(null),this._position),$.temporary=!0),!this._destination){this._pushOrReplaceState($);return}if(this._destination.temporary){this._pushOrReplaceState($,!0);return}if(this._destination.hash===$.hash||!this._destination.page&&this._numPositionUpdates<=et)return;let g=!1;if(this._destination.page>=$.first&&this._destination.page<=$.page){if(this._destination.dest!==void 0||!this._destination.first)return;g=!0}this._pushOrReplaceState($,g)}_isValidPage(tt){return Number.isInteger(tt)&&tt>0&&tt<=this.linkService.pagesCount}_isValidState(tt){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!tt)return!1;if(tt.fingerprint!==this._fingerprint)if($){if(typeof tt.fingerprint!="string"||tt.fingerprint.length!==this._fingerprint.length)return!1;const[g]=performance.getEntriesByType("navigation");if((g==null?void 0:g.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(tt.uid)||tt.uid<0||tt.destination===null||typeof tt.destination!="object")}_updateInternalState(tt,$){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),g&&tt!==null&&tt!==void 0&&tt.temporary&&delete tt.temporary,this._destination=tt,this._uid=$,this._maxUid=Math.max(this._maxUid,$),this._numPositionUpdates=0}_parseCurrentHash(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const $=unescape(at()).substring(1),g=(0,b.parseQueryString)($),k=g.get("nameddest")||"";let ot=g.get("page")|0;return(!this._isValidPage(ot)||tt&&k.length>0)&&(ot=null),{hash:$,page:ot,rotation:this.linkService.rotation}}_updateViewarea(tt){let{location:$}=tt;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:$.pdfOpenParams.substring(1),page:this.linkService.page,first:$.pageNumber,rotation:$.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},nt))}_popState(tt){let{state:$}=tt;const g=at(),k=this._currentHash!==g;if(this._currentHash=g,!$){this._uid++;const{hash:ct,page:dt,rotation:ft}=this._parseCurrentHash();this._pushOrReplaceState({hash:ct,page:dt,rotation:ft},!0);return}if(!this._isValidState($))return;this._popStateInProgress=!0,k&&(this._blockHashChange++,(0,_e.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:pt}).then(()=>{this._blockHashChange--}));const ot=$.destination;this._updateInternalState(ot,$.uid,!0),(0,b.isValidRotation)(ot.rotation)&&(this.linkService.rotation=ot.rotation),ot.dest?this.linkService.goToDestination(ot.dest):ot.hash?this.linkService.setHash(ot.hash):ot.page&&(this.linkService.page=ot.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}d.PDFHistory=it;function rt(_,tt){return typeof _!="string"||typeof tt!="string"?!1:_===tt||(0,b.parseQueryString)(_).get("nameddest")===tt}function ut(_,tt){function $(g,k){if(typeof g!=typeof k||Array.isArray(g)||Array.isArray(k))return!1;if(g!==null&&typeof g=="object"&&k!==null){if(Object.keys(g).length!==Object.keys(k).length)return!1;for(const ot in g)if(!$(g[ot],k[ot]))return!1;return!0}return g===k||Number.isNaN(g)&&Number.isNaN(k)}if(!(Array.isArray(_)&&Array.isArray(tt))||_.length!==tt.length)return!1;for(let g=0,k=_.length;g<k;g++)if(!$(_[g],tt[g]))return!1;return!0}},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFScriptingManager=void 0;var b=j(7),_e=j(3);class pt{constructor(nt){let{eventBus:at,sandboxBundleSrc:it=null,scriptingFactory:rt=null,docPropertiesLookup:ut=null}=nt;this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=at,this._sandboxBundleSrc=it,this._scriptingFactory=rt,this._docPropertiesLookup=ut,this._scriptingFactory||window.addEventListener("updatefromsandbox",_=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:_.detail})})}setViewer(nt){this._pdfViewer=nt}async setDocument(nt){var at;if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=nt,!nt)return;const[it,rt,ut]=await Promise.all([nt.getFieldObjects(),nt.getCalculationOrderIds(),nt.getJSActions()]);if(!it&&!ut){await this._destroyScripting();return}if(nt===this._pdfDocument){try{this._scripting=this._createScripting()}catch(_){console.error(`PDFScriptingManager.setDocument: "${_==null?void 0:_.message}".`),await this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",_=>{(_==null?void 0:_.source)===window&&this._updateFromSandbox(_.detail)}),this._internalEvents.set("dispatcheventinsandbox",_=>{var tt;(tt=this._scripting)===null||tt===void 0||tt.dispatchEventInSandbox(_.detail)}),this._internalEvents.set("pagechanging",_=>{let{pageNumber:tt,previous:$}=_;tt!==$&&(this._dispatchPageClose($),this._dispatchPageOpen(tt))}),this._internalEvents.set("pagerendered",_=>{let{pageNumber:tt}=_;!this._pageOpenPending.has(tt)||tt===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(tt)}),this._internalEvents.set("pagesdestroy",async _=>{var tt,$;await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await((tt=this._scripting)===null||tt===void 0?void 0:tt.dispatchEventInSandbox({id:"doc",name:"WillClose"})),($=this._closeCapability)===null||$===void 0||$.resolve()}),this._domEvents.set("mousedown",_=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",_=>{this._mouseState.isDown=!1});for(const[_,tt]of this._internalEvents)this._eventBus._on(_,tt);for(const[_,tt]of this._domEvents)window.addEventListener(_,tt,!0);try{const _=await this._getDocProperties();if(nt!==this._pdfDocument)return;await this._scripting.createSandbox({objects:it,calculationOrder:rt,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Br(Nr({},_),{actions:ut})}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(_){console.error(`PDFScriptingManager.setDocument: "${_==null?void 0:_.message}".`),await this._destroyScripting();return}await((at=this._scripting)===null||at===void 0?void 0:at.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{nt===this._pdfDocument&&(this._ready=!0)})}}async dispatchWillSave(nt){var at;return(at=this._scripting)===null||at===void 0?void 0:at.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(nt){var at;return(at=this._scripting)===null||at===void 0?void 0:at.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(nt){var at;return(at=this._scripting)===null||at===void 0?void 0:at.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(nt){var at;return(at=this._scripting)===null||at===void 0?void 0:at.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get mouseState(){return this._mouseState}get destroyPromise(){var nt;return((nt=this._destroyCapability)===null||nt===void 0?void 0:nt.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,_e.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,_e.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,_e.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,_e.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(nt){const at=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:it,siblings:rt,command:ut,value:_}=nt;if(!it){switch(ut){case"clear":console.clear();break;case"error":console.error(_);break;case"layout":if(at)return;const g=(0,b.apiPageLayoutToViewerModes)(_);this._pdfViewer.spreadMode=g.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=_+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(_);break;case"zoom":if(at)return;this._pdfViewer.currentScaleValue=_;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(at)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(at)return;this._pdfViewer.decreaseScale();break}return}if(at&&nt.focus)return;delete nt.id,delete nt.siblings;const tt=rt?[it,...rt]:[it];for(const g of tt){const k=document.querySelector(`[data-element-id="${g}"]`);if(k)k.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:nt}));else{var $;($=this._pdfDocument)===null||$===void 0||$.annotationStorage.setValue(g,nt)}}}async _dispatchPageOpen(nt){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const it=this._pdfDocument,rt=this._visitedPages;if(at&&(this._closeCapability=(0,_e.createPromiseCapability)()),!this._closeCapability)return;const ut=this._pdfViewer.getPageView(nt-1);if((ut==null?void 0:ut.renderingState)!==b.RenderingStates.FINISHED){this._pageOpenPending.add(nt);return}this._pageOpenPending.delete(nt);const _=(async()=>{var tt,$;const g=await(rt.has(nt)?null:(tt=ut.pdfPage)===null||tt===void 0?void 0:tt.getJSActions());it===this._pdfDocument&&await(($=this._scripting)===null||$===void 0?void 0:$.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:nt,actions:g}))})();rt.set(nt,_)}async _dispatchPageClose(nt){var at;const it=this._pdfDocument,rt=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(nt))return;const ut=rt.get(nt);!ut||(rt.set(nt,null),await ut,it===this._pdfDocument&&await((at=this._scripting)===null||at===void 0?void 0:at.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:nt})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:nt}=j(26);return nt(this._pdfDocument)}_createScripting(){if(this._destroyCapability=(0,_e.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:nt}=j(26);return new nt(this._sandboxBundleSrc)}async _destroyScripting(){var nt;if(!this._scripting){var at;this._pdfDocument=null,(at=this._destroyCapability)===null||at===void 0||at.resolve();return}this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise(it=>{setTimeout(it,1e3)})]).catch(it=>{}),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch{}for(const[it,rt]of this._internalEvents)this._eventBus._off(it,rt);this._internalEvents.clear();for(const[it,rt]of this._domEvents)window.removeEventListener(it,rt,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,(nt=this._destroyCapability)===null||nt===void 0||nt.resolve()}}d.PDFScriptingManager=pt},(f,d,j)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GenericScripting=void 0,d.docPropertiesLookup=_e;var b=j(3);async function _e(et){const nt="",at=nt.split("#")[0];let{info:it,metadata:rt,contentDispositionFilename:ut,contentLength:_}=await et.getMetadata();if(!_){const{length:tt}=await et.getDownloadInfo();_=tt}return Br(Nr({},it),{baseURL:at,filesize:_,filename:ut||(0,b.getPdfFilenameFromUrl)(nt),metadata:rt==null?void 0:rt.getRaw(),authors:rt==null?void 0:rt.get("dc:creator"),numPages:et.numPages,URL:nt})}class pt{constructor(nt){this._ready=(0,b.loadScript)(nt,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(nt){(await this._ready).create(nt)}async dispatchEventInSandbox(nt){const at=await this._ready;setTimeout(()=>at.dispatchEvent(nt),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}d.GenericScripting=pt}],s={};function o(f){var d=s[f];if(d!==void 0)return d.exports;var j=s[f]={exports:{}};return a[f](j,j.exports,o),j.exports}var c={};return(()=>{var f=c;Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return pt.AnnotationLayerBuilder}}),Object.defineProperty(f,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return d.DefaultAnnotationLayerFactory}}),Object.defineProperty(f,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return d.DefaultStructTreeLayerFactory}}),Object.defineProperty(f,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return d.DefaultTextLayerFactory}}),Object.defineProperty(f,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return d.DefaultXfaLayerFactory}}),Object.defineProperty(f,"DownloadManager",{enumerable:!0,get:function(){return et.DownloadManager}}),Object.defineProperty(f,"EventBus",{enumerable:!0,get:function(){return nt.EventBus}}),Object.defineProperty(f,"GenericL10n",{enumerable:!0,get:function(){return at.GenericL10n}}),Object.defineProperty(f,"LinkTarget",{enumerable:!0,get:function(){return j.LinkTarget}}),Object.defineProperty(f,"NullL10n",{enumerable:!0,get:function(){return it.NullL10n}}),Object.defineProperty(f,"PDFFindController",{enumerable:!0,get:function(){return rt.PDFFindController}}),Object.defineProperty(f,"PDFHistory",{enumerable:!0,get:function(){return ut.PDFHistory}}),Object.defineProperty(f,"PDFLinkService",{enumerable:!0,get:function(){return j.PDFLinkService}}),Object.defineProperty(f,"PDFPageView",{enumerable:!0,get:function(){return _.PDFPageView}}),Object.defineProperty(f,"PDFScriptingManager",{enumerable:!0,get:function(){return tt.PDFScriptingManager}}),Object.defineProperty(f,"PDFSinglePageViewer",{enumerable:!0,get:function(){return _e.PDFSinglePageViewer}}),Object.defineProperty(f,"PDFViewer",{enumerable:!0,get:function(){return _e.PDFViewer}}),Object.defineProperty(f,"ProgressBar",{enumerable:!0,get:function(){return b.ProgressBar}}),Object.defineProperty(f,"RenderingStates",{enumerable:!0,get:function(){return b.RenderingStates}}),Object.defineProperty(f,"ScrollMode",{enumerable:!0,get:function(){return b.ScrollMode}}),Object.defineProperty(f,"SimpleLinkService",{enumerable:!0,get:function(){return j.SimpleLinkService}}),Object.defineProperty(f,"SpreadMode",{enumerable:!0,get:function(){return b.SpreadMode}}),Object.defineProperty(f,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return $.StructTreeLayerBuilder}}),Object.defineProperty(f,"TextLayerBuilder",{enumerable:!0,get:function(){return g.TextLayerBuilder}}),Object.defineProperty(f,"XfaLayerBuilder",{enumerable:!0,get:function(){return k.XfaLayerBuilder}}),Object.defineProperty(f,"parseQueryString",{enumerable:!0,get:function(){return b.parseQueryString}});var d=o(1),j=o(6),b=o(7),_e=o(11),pt=o(5),et=o(18),nt=o(19),at=o(20),it=o(4),rt=o(22),ut=o(24),_=o(13),tt=o(25),$=o(8),g=o(9),k=o(10)})(),c})())})(pdf_viewer);var cjs={exports:{}},Draggable$2={},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(s,o,c,f,d,j){if(j!==ReactPropTypesSecret){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}e.isRequired=e;function i(){return e}var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:i,element:e,elementType:e,instanceOf:i,node:e,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes.exports=factoryWithThrowingShims();var classnames={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var i={}.hasOwnProperty;function a(){for(var s=[],o=0;o<arguments.length;o++){var c=arguments[o];if(!!c){var f=typeof c;if(f==="string"||f==="number")s.push(c);else if(Array.isArray(c)){if(c.length){var d=a.apply(null,c);d&&s.push(d)}}else if(f==="object")if(c.toString===Object.prototype.toString)for(var j in c)i.call(c,j)&&c[j]&&s.push(j);else s.push(c.toString())}}return s.join(" ")}e.exports?(a.default=a,e.exports=a):window.classNames=a})()})(classnames);var domFns={},shims={};Object.defineProperty(shims,"__esModule",{value:!0});shims.findInArray=findInArray;shims.isFunction=isFunction;shims.isNum=isNum;shims.int=int;shims.dontSetMe=dontSetMe;function findInArray(e,i){for(var a=0,s=e.length;a<s;a++)if(i.apply(i,[e[a],a,e]))return e[a]}function isFunction(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function isNum(e){return typeof e=="number"&&!isNaN(e)}function int(e){return parseInt(e,10)}function dontSetMe(e,i,a){if(e[i])return new Error("Invalid prop ".concat(i," passed to ").concat(a," - do not set this, set it on the child."))}var getPrefix$1={};Object.defineProperty(getPrefix$1,"__esModule",{value:!0});getPrefix$1.getPrefix=getPrefix;getPrefix$1.browserPrefixToKey=browserPrefixToKey;getPrefix$1.browserPrefixToStyle=browserPrefixToStyle;getPrefix$1.default=void 0;var prefixes=["Moz","Webkit","O","ms"];function getPrefix(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined"||typeof window.document=="undefined")return"";var i=window.document.documentElement.style;if(e in i)return"";for(var a=0;a<prefixes.length;a++)if(browserPrefixToKey(e,prefixes[a])in i)return prefixes[a];return""}function browserPrefixToKey(e,i){return i?"".concat(i).concat(kebabToTitleCase(e)):e}function browserPrefixToStyle(e,i){return i?"-".concat(i.toLowerCase(),"-").concat(e):e}function kebabToTitleCase(e){for(var i="",a=!0,s=0;s<e.length;s++)a?(i+=e[s].toUpperCase(),a=!1):e[s]==="-"?a=!0:i+=e[s];return i}var _default=getPrefix();getPrefix$1.default=_default;function _typeof$1(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(a){return typeof a}:_typeof$1=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof$1(e)}Object.defineProperty(domFns,"__esModule",{value:!0});domFns.matchesSelector=matchesSelector;domFns.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo;domFns.addEvent=addEvent;domFns.removeEvent=removeEvent;domFns.outerHeight=outerHeight;domFns.outerWidth=outerWidth;domFns.innerHeight=innerHeight;domFns.innerWidth=innerWidth;domFns.offsetXYFromParent=offsetXYFromParent;domFns.createCSSTransform=createCSSTransform;domFns.createSVGTransform=createSVGTransform;domFns.getTranslation=getTranslation;domFns.getTouch=getTouch;domFns.getTouchIdentifier=getTouchIdentifier;domFns.addUserSelectStyles=addUserSelectStyles;domFns.removeUserSelectStyles=removeUserSelectStyles;domFns.addClassName=addClassName;domFns.removeClassName=removeClassName;var _shims$2=shims,_getPrefix=_interopRequireWildcard$1(getPrefix$1);function _getRequireWildcardCache$1(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return _getRequireWildcardCache$1=function(){return e},e}function _interopRequireWildcard$1(e){if(e&&e.__esModule)return e;if(e===null||_typeof$1(e)!=="object"&&typeof e!="function")return{default:e};var i=_getRequireWildcardCache$1();if(i&&i.has(e))return i.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=s?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}return a.default=e,i&&i.set(e,a),a}function ownKeys(e,i){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);i&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),a.push.apply(a,s)}return a}function _objectSpread(e){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(a),!0).forEach(function(s){_defineProperty$1(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function _defineProperty$1(e,i,a){return i in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}var matchesSelectorFunc="";function matchesSelector(e,i){return matchesSelectorFunc||(matchesSelectorFunc=(0,_shims$2.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(a){return(0,_shims$2.isFunction)(e[a])})),(0,_shims$2.isFunction)(e[matchesSelectorFunc])?e[matchesSelectorFunc](i):!1}function matchesSelectorAndParentsTo(e,i,a){var s=e;do{if(matchesSelector(s,i))return!0;if(s===a)return!1;s=s.parentNode}while(s);return!1}function addEvent(e,i,a,s){if(!!e){var o=_objectSpread({capture:!0},s);e.addEventListener?e.addEventListener(i,a,o):e.attachEvent?e.attachEvent("on"+i,a):e["on"+i]=a}}function removeEvent(e,i,a,s){if(!!e){var o=_objectSpread({capture:!0},s);e.removeEventListener?e.removeEventListener(i,a,o):e.detachEvent?e.detachEvent("on"+i,a):e["on"+i]=null}}function outerHeight(e){var i=e.clientHeight,a=e.ownerDocument.defaultView.getComputedStyle(e);return i+=(0,_shims$2.int)(a.borderTopWidth),i+=(0,_shims$2.int)(a.borderBottomWidth),i}function outerWidth(e){var i=e.clientWidth,a=e.ownerDocument.defaultView.getComputedStyle(e);return i+=(0,_shims$2.int)(a.borderLeftWidth),i+=(0,_shims$2.int)(a.borderRightWidth),i}function innerHeight(e){var i=e.clientHeight,a=e.ownerDocument.defaultView.getComputedStyle(e);return i-=(0,_shims$2.int)(a.paddingTop),i-=(0,_shims$2.int)(a.paddingBottom),i}function innerWidth(e){var i=e.clientWidth,a=e.ownerDocument.defaultView.getComputedStyle(e);return i-=(0,_shims$2.int)(a.paddingLeft),i-=(0,_shims$2.int)(a.paddingRight),i}function offsetXYFromParent(e,i,a){var s=i===i.ownerDocument.body,o=s?{left:0,top:0}:i.getBoundingClientRect(),c=(e.clientX+i.scrollLeft-o.left)/a,f=(e.clientY+i.scrollTop-o.top)/a;return{x:c,y:f}}function createCSSTransform(e,i){var a=getTranslation(e,i,"px");return _defineProperty$1({},(0,_getPrefix.browserPrefixToKey)("transform",_getPrefix.default),a)}function createSVGTransform(e,i){var a=getTranslation(e,i,"");return a}function getTranslation(e,i,a){var s=e.x,o=e.y,c="translate(".concat(s).concat(a,",").concat(o).concat(a,")");if(i){var f="".concat(typeof i.x=="string"?i.x:i.x+a),d="".concat(typeof i.y=="string"?i.y:i.y+a);c="translate(".concat(f,", ").concat(d,")")+c}return c}function getTouch(e,i){return e.targetTouches&&(0,_shims$2.findInArray)(e.targetTouches,function(a){return i===a.identifier})||e.changedTouches&&(0,_shims$2.findInArray)(e.changedTouches,function(a){return i===a.identifier})}function getTouchIdentifier(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function addUserSelectStyles(e){if(!!e){var i=e.getElementById("react-draggable-style-el");i||(i=e.createElement("style"),i.type="text/css",i.id="react-draggable-style-el",i.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,i.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(i)),e.body&&addClassName(e.body,"react-draggable-transparent-selection")}}function removeUserSelectStyles(e){if(!!e)try{if(e.body&&removeClassName(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var i=(e.defaultView||window).getSelection();i&&i.type!=="Caret"&&i.removeAllRanges()}}catch{}}function addClassName(e,i){e.classList?e.classList.add(i):e.className.match(new RegExp("(?:^|\\s)".concat(i,"(?!\\S)")))||(e.className+=" ".concat(i))}function removeClassName(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(i,"(?!\\S)"),"g"),"")}var positionFns={};Object.defineProperty(positionFns,"__esModule",{value:!0});positionFns.getBoundPosition=getBoundPosition;positionFns.snapToGrid=snapToGrid;positionFns.canDragX=canDragX;positionFns.canDragY=canDragY;positionFns.getControlPosition=getControlPosition;positionFns.createCoreData=createCoreData;positionFns.createDraggableData=createDraggableData;var _shims$1=shims,_domFns$1=domFns;function getBoundPosition(e,i,a){if(!e.props.bounds)return[i,a];var s=e.props.bounds;s=typeof s=="string"?s:cloneBounds(s);var o=findDOMNode(e);if(typeof s=="string"){var c=o.ownerDocument,f=c.defaultView,d;if(s==="parent"?d=o.parentNode:d=c.querySelector(s),!(d instanceof f.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');var j=f.getComputedStyle(o),b=f.getComputedStyle(d);s={left:-o.offsetLeft+(0,_shims$1.int)(b.paddingLeft)+(0,_shims$1.int)(j.marginLeft),top:-o.offsetTop+(0,_shims$1.int)(b.paddingTop)+(0,_shims$1.int)(j.marginTop),right:(0,_domFns$1.innerWidth)(d)-(0,_domFns$1.outerWidth)(o)-o.offsetLeft+(0,_shims$1.int)(b.paddingRight)-(0,_shims$1.int)(j.marginRight),bottom:(0,_domFns$1.innerHeight)(d)-(0,_domFns$1.outerHeight)(o)-o.offsetTop+(0,_shims$1.int)(b.paddingBottom)-(0,_shims$1.int)(j.marginBottom)}}return(0,_shims$1.isNum)(s.right)&&(i=Math.min(i,s.right)),(0,_shims$1.isNum)(s.bottom)&&(a=Math.min(a,s.bottom)),(0,_shims$1.isNum)(s.left)&&(i=Math.max(i,s.left)),(0,_shims$1.isNum)(s.top)&&(a=Math.max(a,s.top)),[i,a]}function snapToGrid(e,i,a){var s=Math.round(i/e[0])*e[0],o=Math.round(a/e[1])*e[1];return[s,o]}function canDragX(e){return e.props.axis==="both"||e.props.axis==="x"}function canDragY(e){return e.props.axis==="both"||e.props.axis==="y"}function getControlPosition(e,i,a){var s=typeof i=="number"?(0,_domFns$1.getTouch)(e,i):null;if(typeof i=="number"&&!s)return null;var o=findDOMNode(a),c=a.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,_domFns$1.offsetXYFromParent)(s||e,c,a.props.scale)}function createCoreData(e,i,a){var s=e.state,o=!(0,_shims$1.isNum)(s.lastX),c=findDOMNode(e);return o?{node:c,deltaX:0,deltaY:0,lastX:i,lastY:a,x:i,y:a}:{node:c,deltaX:i-s.lastX,deltaY:a-s.lastY,lastX:s.lastX,lastY:s.lastY,x:i,y:a}}function createDraggableData(e,i){var a=e.props.scale;return{node:i.node,x:e.state.x+i.deltaX/a,y:e.state.y+i.deltaY/a,deltaX:i.deltaX/a,deltaY:i.deltaY/a,lastX:e.state.x,lastY:e.state.y}}function cloneBounds(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function findDOMNode(e){var i=e.findDOMNode();if(!i)throw new Error("<DraggableCore>: Unmounted during event!");return i}var DraggableCore$2={},log$1={};Object.defineProperty(log$1,"__esModule",{value:!0});log$1.default=log;function log(){}Object.defineProperty(DraggableCore$2,"__esModule",{value:!0});DraggableCore$2.default=void 0;var React=_interopRequireWildcard(react.exports),_propTypes=_interopRequireDefault(propTypes.exports),_reactDom=_interopRequireDefault(reactDom.exports),_domFns=domFns,_positionFns=positionFns,_shims=shims,_log=_interopRequireDefault(log$1);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(e===null||_typeof(e)!=="object"&&typeof e!="function")return{default:e};var i=_getRequireWildcardCache();if(i&&i.has(e))return i.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=s?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}return a.default=e,i&&i.set(e,a),a}function _typeof(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(a){return typeof a}:_typeof=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(e)}function _slicedToArray(e,i){return _arrayWithHoles(e)||_iterableToArrayLimit(e,i)||_unsupportedIterableToArray(e,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(e,i){if(!!e){if(typeof e=="string")return _arrayLikeToArray(e,i);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(e,i)}}function _arrayLikeToArray(e,i){(i==null||i>e.length)&&(i=e.length);for(var a=0,s=new Array(i);a<i;a++)s[a]=e[a];return s}function _iterableToArrayLimit(e,i){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var a=[],s=!0,o=!1,c=void 0;try{for(var f=e[Symbol.iterator](),d;!(s=(d=f.next()).done)&&(a.push(d.value),!(i&&a.length===i));s=!0);}catch(j){o=!0,c=j}finally{try{!s&&f.return!=null&&f.return()}finally{if(o)throw c}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,i,a){return i&&_defineProperties(e.prototype,i),a&&_defineProperties(e,a),e}function _inherits(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),i&&_setPrototypeOf(e,i)}function _setPrototypeOf(e,i){return _setPrototypeOf=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s},_setPrototypeOf(e,i)}function _createSuper(e){var i=_isNativeReflectConstruct();return function(){var a=_getPrototypeOf(e),s;if(i){var o=_getPrototypeOf(this).constructor;s=Reflect.construct(a,arguments,o)}else s=a.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _possibleConstructorReturn(e,i){return i&&(_typeof(i)==="object"||typeof i=="function")?i:_assertThisInitialized(e)}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(e)}function _defineProperty(e,i,a){return i in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}var eventsFor={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},dragEventFor=eventsFor.mouse,DraggableCore$1=function(e){_inherits(a,e);var i=_createSuper(a);function a(){var s;_classCallCheck(this,a);for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return s=i.call.apply(i,[this].concat(c)),_defineProperty(_assertThisInitialized(s),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),_defineProperty(_assertThisInitialized(s),"mounted",!1),_defineProperty(_assertThisInitialized(s),"handleDragStart",function(d){if(s.props.onMouseDown(d),!s.props.allowAnyClick&&typeof d.button=="number"&&d.button!==0)return!1;var j=s.findDOMNode();if(!j||!j.ownerDocument||!j.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var b=j.ownerDocument;if(!(s.props.disabled||!(d.target instanceof b.defaultView.Node)||s.props.handle&&!(0,_domFns.matchesSelectorAndParentsTo)(d.target,s.props.handle,j)||s.props.cancel&&(0,_domFns.matchesSelectorAndParentsTo)(d.target,s.props.cancel,j))){d.type==="touchstart"&&d.preventDefault();var _e=(0,_domFns.getTouchIdentifier)(d);s.setState({touchIdentifier:_e});var pt=(0,_positionFns.getControlPosition)(d,_e,_assertThisInitialized(s));if(pt!=null){var et=pt.x,nt=pt.y,at=(0,_positionFns.createCoreData)(_assertThisInitialized(s),et,nt);(0,_log.default)("DraggableCore: handleDragStart: %j",at),(0,_log.default)("calling",s.props.onStart);var it=s.props.onStart(d,at);it===!1||s.mounted===!1||(s.props.enableUserSelectHack&&(0,_domFns.addUserSelectStyles)(b),s.setState({dragging:!0,lastX:et,lastY:nt}),(0,_domFns.addEvent)(b,dragEventFor.move,s.handleDrag),(0,_domFns.addEvent)(b,dragEventFor.stop,s.handleDragStop))}}}),_defineProperty(_assertThisInitialized(s),"handleDrag",function(d){var j=(0,_positionFns.getControlPosition)(d,s.state.touchIdentifier,_assertThisInitialized(s));if(j!=null){var b=j.x,_e=j.y;if(Array.isArray(s.props.grid)){var pt=b-s.state.lastX,et=_e-s.state.lastY,nt=(0,_positionFns.snapToGrid)(s.props.grid,pt,et),at=_slicedToArray(nt,2);if(pt=at[0],et=at[1],!pt&&!et)return;b=s.state.lastX+pt,_e=s.state.lastY+et}var it=(0,_positionFns.createCoreData)(_assertThisInitialized(s),b,_e);(0,_log.default)("DraggableCore: handleDrag: %j",it);var rt=s.props.onDrag(d,it);if(rt===!1||s.mounted===!1){try{s.handleDragStop(new MouseEvent("mouseup"))}catch{var ut=document.createEvent("MouseEvents");ut.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.handleDragStop(ut)}return}s.setState({lastX:b,lastY:_e})}}),_defineProperty(_assertThisInitialized(s),"handleDragStop",function(d){if(!!s.state.dragging){var j=(0,_positionFns.getControlPosition)(d,s.state.touchIdentifier,_assertThisInitialized(s));if(j!=null){var b=j.x,_e=j.y,pt=(0,_positionFns.createCoreData)(_assertThisInitialized(s),b,_e),et=s.props.onStop(d,pt);if(et===!1||s.mounted===!1)return!1;var nt=s.findDOMNode();nt&&s.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(nt.ownerDocument),(0,_log.default)("DraggableCore: handleDragStop: %j",pt),s.setState({dragging:!1,lastX:NaN,lastY:NaN}),nt&&((0,_log.default)("DraggableCore: Removing handlers"),(0,_domFns.removeEvent)(nt.ownerDocument,dragEventFor.move,s.handleDrag),(0,_domFns.removeEvent)(nt.ownerDocument,dragEventFor.stop,s.handleDragStop))}}}),_defineProperty(_assertThisInitialized(s),"onMouseDown",function(d){return dragEventFor=eventsFor.mouse,s.handleDragStart(d)}),_defineProperty(_assertThisInitialized(s),"onMouseUp",function(d){return dragEventFor=eventsFor.mouse,s.handleDragStop(d)}),_defineProperty(_assertThisInitialized(s),"onTouchStart",function(d){return dragEventFor=eventsFor.touch,s.handleDragStart(d)}),_defineProperty(_assertThisInitialized(s),"onTouchEnd",function(d){return dragEventFor=eventsFor.touch,s.handleDragStop(d)}),s}return _createClass(a,[{key:"componentDidMount",value:function(){this.mounted=!0;var o=this.findDOMNode();o&&(0,_domFns.addEvent)(o,eventsFor.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var o=this.findDOMNode();if(o){var c=o.ownerDocument;(0,_domFns.removeEvent)(c,eventsFor.mouse.move,this.handleDrag),(0,_domFns.removeEvent)(c,eventsFor.touch.move,this.handleDrag),(0,_domFns.removeEvent)(c,eventsFor.mouse.stop,this.handleDragStop),(0,_domFns.removeEvent)(c,eventsFor.touch.stop,this.handleDragStop),(0,_domFns.removeEvent)(o,eventsFor.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(c)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:_reactDom.default.findDOMNode(this)}},{key:"render",value:function(){return React.cloneElement(React.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),a}(React.Component);DraggableCore$2.default=DraggableCore$1;_defineProperty(DraggableCore$1,"displayName","DraggableCore");_defineProperty(DraggableCore$1,"propTypes",{allowAnyClick:_propTypes.default.bool,disabled:_propTypes.default.bool,enableUserSelectHack:_propTypes.default.bool,offsetParent:function e(i,a){if(i[a]&&i[a].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_propTypes.default.arrayOf(_propTypes.default.number),handle:_propTypes.default.string,cancel:_propTypes.default.string,nodeRef:_propTypes.default.object,onStart:_propTypes.default.func,onDrag:_propTypes.default.func,onStop:_propTypes.default.func,onMouseDown:_propTypes.default.func,scale:_propTypes.default.number,className:_shims.dontSetMe,style:_shims.dontSetMe,transform:_shims.dontSetMe});_defineProperty(DraggableCore$1,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function e(){},onDrag:function e(){},onStop:function e(){},onMouseDown:function e(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return j.default}}),e.default=void 0;var i=et(react.exports),a=_e(propTypes.exports),s=_e(reactDom.exports),o=_e(classnames.exports),c=domFns,f=positionFns,d=shims,j=_e(DraggableCore$2),b=_e(log$1);function _e(vt){return vt&&vt.__esModule?vt:{default:vt}}function pt(){if(typeof WeakMap!="function")return null;var vt=new WeakMap;return pt=function(){return vt},vt}function et(vt){if(vt&&vt.__esModule)return vt;if(vt===null||nt(vt)!=="object"&&typeof vt!="function")return{default:vt};var Wt=pt();if(Wt&&Wt.has(vt))return Wt.get(vt);var jt={},Rt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ht in vt)if(Object.prototype.hasOwnProperty.call(vt,ht)){var gt=Rt?Object.getOwnPropertyDescriptor(vt,ht):null;gt&&(gt.get||gt.set)?Object.defineProperty(jt,ht,gt):jt[ht]=vt[ht]}return jt.default=vt,Wt&&Wt.set(vt,jt),jt}function nt(vt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nt=function(jt){return typeof jt}:nt=function(jt){return jt&&typeof Symbol=="function"&&jt.constructor===Symbol&&jt!==Symbol.prototype?"symbol":typeof jt},nt(vt)}function at(){return at=Object.assign||function(vt){for(var Wt=1;Wt<arguments.length;Wt++){var jt=arguments[Wt];for(var Rt in jt)Object.prototype.hasOwnProperty.call(jt,Rt)&&(vt[Rt]=jt[Rt])}return vt},at.apply(this,arguments)}function it(vt,Wt){if(vt==null)return{};var jt=rt(vt,Wt),Rt,ht;if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(vt);for(ht=0;ht<gt.length;ht++)Rt=gt[ht],!(Wt.indexOf(Rt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(vt,Rt)||(jt[Rt]=vt[Rt]))}return jt}function rt(vt,Wt){if(vt==null)return{};var jt={},Rt=Object.keys(vt),ht,gt;for(gt=0;gt<Rt.length;gt++)ht=Rt[gt],!(Wt.indexOf(ht)>=0)&&(jt[ht]=vt[ht]);return jt}function ut(vt,Wt){return k(vt)||g(vt,Wt)||tt(vt,Wt)||_()}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tt(vt,Wt){if(!!vt){if(typeof vt=="string")return $(vt,Wt);var jt=Object.prototype.toString.call(vt).slice(8,-1);if(jt==="Object"&&vt.constructor&&(jt=vt.constructor.name),jt==="Map"||jt==="Set")return Array.from(vt);if(jt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(jt))return $(vt,Wt)}}function $(vt,Wt){(Wt==null||Wt>vt.length)&&(Wt=vt.length);for(var jt=0,Rt=new Array(Wt);jt<Wt;jt++)Rt[jt]=vt[jt];return Rt}function g(vt,Wt){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(vt)))){var jt=[],Rt=!0,ht=!1,gt=void 0;try{for(var Ot=vt[Symbol.iterator](),Ft;!(Rt=(Ft=Ot.next()).done)&&(jt.push(Ft.value),!(Wt&&jt.length===Wt));Rt=!0);}catch(lt){ht=!0,gt=lt}finally{try{!Rt&&Ot.return!=null&&Ot.return()}finally{if(ht)throw gt}}return jt}}function k(vt){if(Array.isArray(vt))return vt}function ot(vt,Wt){var jt=Object.keys(vt);if(Object.getOwnPropertySymbols){var Rt=Object.getOwnPropertySymbols(vt);Wt&&(Rt=Rt.filter(function(ht){return Object.getOwnPropertyDescriptor(vt,ht).enumerable})),jt.push.apply(jt,Rt)}return jt}function ct(vt){for(var Wt=1;Wt<arguments.length;Wt++){var jt=arguments[Wt]!=null?arguments[Wt]:{};Wt%2?ot(Object(jt),!0).forEach(function(Rt){Pt(vt,Rt,jt[Rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vt,Object.getOwnPropertyDescriptors(jt)):ot(Object(jt)).forEach(function(Rt){Object.defineProperty(vt,Rt,Object.getOwnPropertyDescriptor(jt,Rt))})}return vt}function dt(vt,Wt){if(!(vt instanceof Wt))throw new TypeError("Cannot call a class as a function")}function ft(vt,Wt){for(var jt=0;jt<Wt.length;jt++){var Rt=Wt[jt];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(vt,Rt.key,Rt)}}function bt(vt,Wt,jt){return Wt&&ft(vt.prototype,Wt),jt&&ft(vt,jt),vt}function Mt(vt,Wt){if(typeof Wt!="function"&&Wt!==null)throw new TypeError("Super expression must either be null or a function");vt.prototype=Object.create(Wt&&Wt.prototype,{constructor:{value:vt,writable:!0,configurable:!0}}),Wt&&_t(vt,Wt)}function _t(vt,Wt){return _t=Object.setPrototypeOf||function(Rt,ht){return Rt.__proto__=ht,Rt},_t(vt,Wt)}function xt(vt){var Wt=Et();return function(){var jt=yt(vt),Rt;if(Wt){var ht=yt(this).constructor;Rt=Reflect.construct(jt,arguments,ht)}else Rt=jt.apply(this,arguments);return wt(this,Rt)}}function wt(vt,Wt){return Wt&&(nt(Wt)==="object"||typeof Wt=="function")?Wt:At(vt)}function At(vt){if(vt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt}function Et(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function yt(vt){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(jt){return jt.__proto__||Object.getPrototypeOf(jt)},yt(vt)}function Pt(vt,Wt,jt){return Wt in vt?Object.defineProperty(vt,Wt,{value:jt,enumerable:!0,configurable:!0,writable:!0}):vt[Wt]=jt,vt}var It=function(vt){Mt(jt,vt);var Wt=xt(jt);bt(jt,null,[{key:"getDerivedStateFromProps",value:function(ht,gt){var Ot=ht.position,Ft=gt.prevPropsPosition;return Ot&&(!Ft||Ot.x!==Ft.x||Ot.y!==Ft.y)?((0,b.default)("Draggable: getDerivedStateFromProps %j",{position:Ot,prevPropsPosition:Ft}),{x:Ot.x,y:Ot.y,prevPropsPosition:ct({},Ot)}):null}}]);function jt(Rt){var ht;return dt(this,jt),ht=Wt.call(this,Rt),Pt(At(ht),"onDragStart",function(gt,Ot){(0,b.default)("Draggable: onDragStart: %j",Ot);var Ft=ht.props.onStart(gt,(0,f.createDraggableData)(At(ht),Ot));if(Ft===!1)return!1;ht.setState({dragging:!0,dragged:!0})}),Pt(At(ht),"onDrag",function(gt,Ot){if(!ht.state.dragging)return!1;(0,b.default)("Draggable: onDrag: %j",Ot);var Ft=(0,f.createDraggableData)(At(ht),Ot),lt={x:Ft.x,y:Ft.y};if(ht.props.bounds){var mt=lt.x,St=lt.y;lt.x+=ht.state.slackX,lt.y+=ht.state.slackY;var Ct=(0,f.getBoundPosition)(At(ht),lt.x,lt.y),Dt=ut(Ct,2),Lt=Dt[0],$t=Dt[1];lt.x=Lt,lt.y=$t,lt.slackX=ht.state.slackX+(mt-lt.x),lt.slackY=ht.state.slackY+(St-lt.y),Ft.x=lt.x,Ft.y=lt.y,Ft.deltaX=lt.x-ht.state.x,Ft.deltaY=lt.y-ht.state.y}var Xt=ht.props.onDrag(gt,Ft);if(Xt===!1)return!1;ht.setState(lt)}),Pt(At(ht),"onDragStop",function(gt,Ot){if(!ht.state.dragging)return!1;var Ft=ht.props.onStop(gt,(0,f.createDraggableData)(At(ht),Ot));if(Ft===!1)return!1;(0,b.default)("Draggable: onDragStop: %j",Ot);var lt={dragging:!1,slackX:0,slackY:0},mt=Boolean(ht.props.position);if(mt){var St=ht.props.position,Ct=St.x,Dt=St.y;lt.x=Ct,lt.y=Dt}ht.setState(lt)}),ht.state={dragging:!1,dragged:!1,x:Rt.position?Rt.position.x:Rt.defaultPosition.x,y:Rt.position?Rt.position.y:Rt.defaultPosition.y,prevPropsPosition:ct({},Rt.position),slackX:0,slackY:0,isElementSVG:!1},Rt.position&&!(Rt.onDrag||Rt.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),ht}return bt(jt,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:s.default.findDOMNode(this)}},{key:"render",value:function(){var ht,gt=this.props;gt.axis,gt.bounds;var Ot=gt.children,Ft=gt.defaultPosition,lt=gt.defaultClassName,mt=gt.defaultClassNameDragging,St=gt.defaultClassNameDragged,Ct=gt.position,Dt=gt.positionOffset;gt.scale;var Lt=it(gt,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"]),$t={},Xt=null,Zt=Boolean(Ct),Jt=!Zt||this.state.dragging,Qt=Ct||Ft,en={x:(0,f.canDragX)(this)&&Jt?this.state.x:Qt.x,y:(0,f.canDragY)(this)&&Jt?this.state.y:Qt.y};this.state.isElementSVG?Xt=(0,c.createSVGTransform)(en,Dt):$t=(0,c.createCSSTransform)(en,Dt);var un=(0,o.default)(Ot.props.className||"",lt,(ht={},Pt(ht,mt,this.state.dragging),Pt(ht,St,this.state.dragged),ht));return i.createElement(j.default,at({},Lt,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(Ot),{className:un,style:ct(ct({},Ot.props.style),$t),transform:Xt}))}}]),jt}(i.Component);e.default=It,Pt(It,"displayName","Draggable"),Pt(It,"propTypes",ct(ct({},j.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe})),Pt(It,"defaultProps",ct(ct({},j.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))})(Draggable$2);var _require=Draggable$2,Draggable$1=_require.default,DraggableCore=_require.DraggableCore;cjs.exports=Draggable$1;cjs.exports.default=Draggable$1;cjs.exports.DraggableCore=DraggableCore;var DraggableRoot=cjs.exports,__extends$2=globalThis&&globalThis.__extends||function(){var e=function(i,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var c in o)o.hasOwnProperty(c)&&(s[c]=o[c])},e(i,a)};return function(i,a){e(i,a);function s(){this.constructor=i}i.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__assign$2=globalThis&&globalThis.__assign||function(){return __assign$2=Object.assign||function(e){for(var i,a=1,s=arguments.length;a<s;a++){i=arguments[a];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$2.apply(this,arguments)},styles={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},Resizer=function(e){__extends$2(i,e);function i(){var a=e!==null&&e.apply(this,arguments)||this;return a.onMouseDown=function(s){a.props.onResizeStart(s,a.props.direction)},a.onTouchStart=function(s){a.props.onResizeStart(s,a.props.direction)},a}return i.prototype.render=function(){return react.exports.createElement("div",{className:this.props.className||"",style:__assign$2(__assign$2({position:"absolute",userSelect:"none"},styles[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},i}(react.exports.PureComponent),src={exports:{}};function memoize(e,i){var a=i&&i.cache?i.cache:cacheDefault,s=i&&i.serializer?i.serializer:serializerDefault,o=i&&i.strategy?i.strategy:strategyDefault;return o(e,{cache:a,serializer:s})}function isPrimitive(e){return e==null||typeof e=="number"||typeof e=="boolean"}function monadic(e,i,a,s){var o=isPrimitive(s)?s:a(s),c=i.get(o);return typeof c=="undefined"&&(c=e.call(this,s),i.set(o,c)),c}function variadic(e,i,a){var s=Array.prototype.slice.call(arguments,3),o=a(s),c=i.get(o);return typeof c=="undefined"&&(c=e.apply(this,s),i.set(o,c)),c}function assemble(e,i,a,s,o){return a.bind(i,e,s,o)}function strategyDefault(e,i){var a=e.length===1?monadic:variadic;return assemble(e,this,a,i.cache.create(),i.serializer)}function strategyVariadic(e,i){var a=variadic;return assemble(e,this,a,i.cache.create(),i.serializer)}function strategyMonadic(e,i){var a=monadic;return assemble(e,this,a,i.cache.create(),i.serializer)}function serializerDefault(){return JSON.stringify(arguments)}function ObjectWithoutPrototypeCache(){this.cache=Object.create(null)}ObjectWithoutPrototypeCache.prototype.has=function(e){return e in this.cache};ObjectWithoutPrototypeCache.prototype.get=function(e){return this.cache[e]};ObjectWithoutPrototypeCache.prototype.set=function(e,i){this.cache[e]=i};var cacheDefault={create:function e(){return new ObjectWithoutPrototypeCache}};src.exports=memoize;src.exports.strategies={variadic:strategyVariadic,monadic:strategyMonadic};var memoize$1=src.exports,__extends$1=globalThis&&globalThis.__extends||function(){var e=function(i,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var c in o)o.hasOwnProperty(c)&&(s[c]=o[c])},e(i,a)};return function(i,a){e(i,a);function s(){this.constructor=i}i.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(e){for(var i,a=1,s=arguments.length;a<s;a++){i=arguments[a];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$1.apply(this,arguments)},DEFAULT_SIZE={width:"auto",height:"auto"},clamp=memoize$1(function(e,i,a){return Math.max(Math.min(e,a),i)}),snap=memoize$1(function(e,i){return Math.round(e/i)*i}),hasDirection=memoize$1(function(e,i){return new RegExp(e,"i").test(i)}),isTouchEvent=function(e){return Boolean(e.touches&&e.touches.length)},isMouseEvent=function(e){return Boolean((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},findClosestSnap=memoize$1(function(e,i,a){a===void 0&&(a=0);var s=i.reduce(function(c,f,d){return Math.abs(f-e)<Math.abs(i[c]-e)?d:c},0),o=Math.abs(i[s]-e);return a===0||o<a?i[s]:e}),endsWith=memoize$1(function(e,i){return e.substr(e.length-i.length,i.length)===i}),getStringSize=memoize$1(function(e){return e=e.toString(),e==="auto"||endsWith(e,"px")||endsWith(e,"%")||endsWith(e,"vh")||endsWith(e,"vw")||endsWith(e,"vmax")||endsWith(e,"vmin")?e:e+"px"}),getPixelSize=function(e,i,a,s){if(e&&typeof e=="string"){if(endsWith(e,"px"))return Number(e.replace("px",""));if(endsWith(e,"%")){var o=Number(e.replace("%",""))/100;return i*o}if(endsWith(e,"vw")){var o=Number(e.replace("vw",""))/100;return a*o}if(endsWith(e,"vh")){var o=Number(e.replace("vh",""))/100;return s*o}}return e},calculateNewMax=memoize$1(function(e,i,a,s,o,c,f){return s=getPixelSize(s,e.width,i,a),o=getPixelSize(o,e.height,i,a),c=getPixelSize(c,e.width,i,a),f=getPixelSize(f,e.height,i,a),{maxWidth:typeof s=="undefined"?void 0:Number(s),maxHeight:typeof o=="undefined"?void 0:Number(o),minWidth:typeof c=="undefined"?void 0:Number(c),minHeight:typeof f=="undefined"?void 0:Number(f)}}),definedProps=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],baseClassName="__resizable_base__",Resizable=function(e){__extends$1(i,e);function i(a){var s=e.call(this,a)||this;return s.ratio=1,s.resizable=null,s.parentLeft=0,s.parentTop=0,s.resizableLeft=0,s.resizableRight=0,s.resizableTop=0,s.resizableBottom=0,s.targetLeft=0,s.targetTop=0,s.appendBase=function(){if(!s.resizable||!s.window)return null;var o=s.parentNode;if(!o)return null;var c=s.window.document.createElement("div");return c.style.width="100%",c.style.height="100%",c.style.position="absolute",c.style.transform="scale(0, 0)",c.style.left="0",c.style.flex="0",c.classList?c.classList.add(baseClassName):c.className+=baseClassName,o.appendChild(c),c},s.removeBase=function(o){var c=s.parentNode;!c||c.removeChild(o)},s.ref=function(o){o&&(s.resizable=o)},s.state={isResizing:!1,width:typeof(s.propsSize&&s.propsSize.width)=="undefined"?"auto":s.propsSize&&s.propsSize.width,height:typeof(s.propsSize&&s.propsSize.height)=="undefined"?"auto":s.propsSize&&s.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},s.onResizeStart=s.onResizeStart.bind(s),s.onMouseMove=s.onMouseMove.bind(s),s.onMouseUp=s.onMouseUp.bind(s),s}return Object.defineProperty(i.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||DEFAULT_SIZE},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){var a=0,s=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,c=this.resizable.offsetHeight,f=this.resizable.style.position;f!=="relative"&&(this.resizable.style.position="relative"),a=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,s=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:c,this.resizable.style.position=f}return{width:a,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sizeStyle",{get:function(){var a=this,s=this.props.size,o=function(d){if(typeof a.state[d]=="undefined"||a.state[d]==="auto")return"auto";if(a.propsSize&&a.propsSize[d]&&endsWith(a.propsSize[d].toString(),"%")){if(endsWith(a.state[d].toString(),"%"))return a.state[d].toString();var j=a.getParentSize(),b=Number(a.state[d].toString().replace("px","")),_e=b/j[d]*100;return _e+"%"}return getStringSize(a.state[d])},c=s&&typeof s.width!="undefined"&&!this.state.isResizing?getStringSize(s.width):o("width"),f=s&&typeof s.height!="undefined"&&!this.state.isResizing?getStringSize(s.height):o("height");return{width:c,height:f}},enumerable:!1,configurable:!0}),i.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var a=this.appendBase();if(!a)return{width:0,height:0};var s=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(s=!0,this.parentNode.style.flexWrap="wrap"),a.style.position="relative",a.style.minWidth="100%";var c={width:a.offsetWidth,height:a.offsetHeight};return s&&(this.parentNode.style.flexWrap=o),this.removeBase(a),c},i.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},i.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},i.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var a=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:a.flexBasis!=="auto"?a.flexBasis:void 0})}},i.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},i.prototype.createSizeForCssProperty=function(a,s){var o=this.propsSize&&this.propsSize[s];return this.state[s]==="auto"&&this.state.original[s]===a&&(typeof o=="undefined"||o==="auto")?"auto":a},i.prototype.calculateNewMaxFromBoundary=function(a,s){var o=this.props.boundsByDirection,c=this.state.direction,f=o&&hasDirection("left",c),d=o&&hasDirection("top",c),j,b;if(this.props.bounds==="parent"){var _e=this.parentNode;_e&&(j=f?this.resizableRight-this.parentLeft:_e.offsetWidth+(this.parentLeft-this.resizableLeft),b=d?this.resizableBottom-this.parentTop:_e.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(j=f?this.resizableRight:this.window.innerWidth-this.resizableLeft,b=d?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(j=f?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),b=d?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return j&&Number.isFinite(j)&&(a=a&&a<j?a:j),b&&Number.isFinite(b)&&(s=s&&s<b?s:b),{maxWidth:a,maxHeight:s}},i.prototype.calculateNewSizeFromDirection=function(a,s){var o=this.props.scale||1,c=this.props.resizeRatio||1,f=this.state,d=f.direction,j=f.original,b=this.props,_e=b.lockAspectRatio,pt=b.lockAspectRatioExtraHeight,et=b.lockAspectRatioExtraWidth,nt=j.width,at=j.height,it=pt||0,rt=et||0;return hasDirection("right",d)&&(nt=j.width+(a-j.x)*c/o,_e&&(at=(nt-rt)/this.ratio+it)),hasDirection("left",d)&&(nt=j.width-(a-j.x)*c/o,_e&&(at=(nt-rt)/this.ratio+it)),hasDirection("bottom",d)&&(at=j.height+(s-j.y)*c/o,_e&&(nt=(at-it)*this.ratio+rt)),hasDirection("top",d)&&(at=j.height-(s-j.y)*c/o,_e&&(nt=(at-it)*this.ratio+rt)),{newWidth:nt,newHeight:at}},i.prototype.calculateNewSizeFromAspectRatio=function(a,s,o,c){var f=this.props,d=f.lockAspectRatio,j=f.lockAspectRatioExtraHeight,b=f.lockAspectRatioExtraWidth,_e=typeof c.width=="undefined"?10:c.width,pt=typeof o.width=="undefined"||o.width<0?a:o.width,et=typeof c.height=="undefined"?10:c.height,nt=typeof o.height=="undefined"||o.height<0?s:o.height,at=j||0,it=b||0;if(d){var rt=(et-at)*this.ratio+it,ut=(nt-at)*this.ratio+it,_=(_e-it)/this.ratio+at,tt=(pt-it)/this.ratio+at,$=Math.max(_e,rt),g=Math.min(pt,ut),k=Math.max(et,_),ot=Math.min(nt,tt);a=clamp(a,$,g),s=clamp(s,k,ot)}else a=clamp(a,_e,pt),s=clamp(s,et,nt);return{newWidth:a,newHeight:s}},i.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var a=this.parentNode;if(a){var s=a.getBoundingClientRect();this.parentLeft=s.left,this.parentTop=s.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left,this.targetTop=o.top}if(this.resizable){var c=this.resizable.getBoundingClientRect(),f=c.left,d=c.top,j=c.right,b=c.bottom;this.resizableLeft=f,this.resizableRight=j,this.resizableTop=d,this.resizableBottom=b}},i.prototype.onResizeStart=function(a,s){if(!(!this.resizable||!this.window)){var o=0,c=0;if(a.nativeEvent&&isMouseEvent(a.nativeEvent)){if(o=a.nativeEvent.clientX,c=a.nativeEvent.clientY,a.nativeEvent.which===3)return}else a.nativeEvent&&isTouchEvent(a.nativeEvent)&&(o=a.nativeEvent.touches[0].clientX,c=a.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&this.resizable){var f=this.props.onResizeStart(a,s,this.resizable);if(f===!1)return}this.props.size&&(typeof this.props.size.height!="undefined"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width!="undefined"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var d,j=this.window.getComputedStyle(this.resizable);if(j.flexBasis!=="auto"){var b=this.parentNode;if(b){var _e=this.window.getComputedStyle(b).flexDirection;this.flexDir=_e.startsWith("row")?"row":"column",d=j.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var pt={original:{x:o,y:c,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:__assign$1(__assign$1({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(a.target).cursor||"auto"}),direction:s,flexBasis:d};this.setState(pt)}},i.prototype.onMouseMove=function(a){if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&isTouchEvent(a))try{a.preventDefault(),a.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,c=s.maxHeight,f=s.minWidth,d=s.minHeight,j=isTouchEvent(a)?a.touches[0].clientX:a.clientX,b=isTouchEvent(a)?a.touches[0].clientY:a.clientY,_e=this.state,pt=_e.direction,et=_e.original,nt=_e.width,at=_e.height,it=this.getParentSize(),rt=calculateNewMax(it,this.window.innerWidth,this.window.innerHeight,o,c,f,d);o=rt.maxWidth,c=rt.maxHeight,f=rt.minWidth,d=rt.minHeight;var ut=this.calculateNewSizeFromDirection(j,b),_=ut.newHeight,tt=ut.newWidth,$=this.calculateNewMaxFromBoundary(o,c),g=this.calculateNewSizeFromAspectRatio(tt,_,{width:$.maxWidth,height:$.maxHeight},{width:f,height:d});if(tt=g.newWidth,_=g.newHeight,this.props.grid){var k=snap(tt,this.props.grid[0]),ot=snap(_,this.props.grid[1]),ct=this.props.snapGap||0;tt=ct===0||Math.abs(k-tt)<=ct?k:tt,_=ct===0||Math.abs(ot-_)<=ct?ot:_}this.props.snap&&this.props.snap.x&&(tt=findClosestSnap(tt,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=findClosestSnap(_,this.props.snap.y,this.props.snapGap));var dt={width:tt-et.width,height:_-et.height};if(nt&&typeof nt=="string"){if(endsWith(nt,"%")){var ft=tt/it.width*100;tt=ft+"%"}else if(endsWith(nt,"vw")){var bt=tt/this.window.innerWidth*100;tt=bt+"vw"}else if(endsWith(nt,"vh")){var Mt=tt/this.window.innerHeight*100;tt=Mt+"vh"}}if(at&&typeof at=="string"){if(endsWith(at,"%")){var ft=_/it.height*100;_=ft+"%"}else if(endsWith(at,"vw")){var bt=_/this.window.innerWidth*100;_=bt+"vw"}else if(endsWith(at,"vh")){var Mt=_/this.window.innerHeight*100;_=Mt+"vh"}}var _t={width:this.createSizeForCssProperty(tt,"width"),height:this.createSizeForCssProperty(_,"height")};this.flexDir==="row"?_t.flexBasis=_t.width:this.flexDir==="column"&&(_t.flexBasis=_t.height),this.setState(_t),this.props.onResize&&this.props.onResize(a,pt,this.resizable,dt)}},i.prototype.onMouseUp=function(a){var s=this.state,o=s.isResizing,c=s.direction,f=s.original;if(!(!o||!this.resizable)){var d={width:this.size.width-f.width,height:this.size.height-f.height};this.props.onResizeStop&&this.props.onResizeStop(a,c,this.resizable,d),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:__assign$1(__assign$1({},this.state.backgroundStyle),{cursor:"auto"})})}},i.prototype.updateSize=function(a){this.setState({width:a.width,height:a.height})},i.prototype.renderResizer=function(){var a=this,s=this.props,o=s.enable,c=s.handleStyles,f=s.handleClasses,d=s.handleWrapperStyle,j=s.handleWrapperClass,b=s.handleComponent;if(!o)return null;var _e=Object.keys(o).map(function(pt){return o[pt]!==!1?react.exports.createElement(Resizer,{key:pt,direction:pt,onResizeStart:a.onResizeStart,replaceStyles:c&&c[pt],className:f&&f[pt]},b&&b[pt]?b[pt]:null):null});return react.exports.createElement("div",{className:j,style:d},_e)},i.prototype.render=function(){var a=this,s=Object.keys(this.props).reduce(function(f,d){return definedProps.indexOf(d)!==-1||(f[d]=a.props[d]),f},{}),o=__assign$1(__assign$1(__assign$1({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var c=this.props.as||"div";return react.exports.createElement(c,__assign$1({ref:this.ref,style:o,className:this.props.className},s),this.state.isResizing&&react.exports.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},i.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},i}(react.exports.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(e,i){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o])},extendStatics(e,i)};function __extends(e,i){extendStatics(e,i);function a(){this.constructor=e}e.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}var __assign=function(){return __assign=Object.assign||function(i){for(var a,s=1,o=arguments.length;s<o;s++){a=arguments[s];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(i[c]=a[c])}return i},__assign.apply(this,arguments)};function __rest(e,i){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&i.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)i.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(a[s[o]]=e[s[o]]);return a}var Draggable=DraggableRoot,resizableStyle={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},getEnableResizingByFlag=function(e){return{bottom:e,bottomLeft:e,bottomRight:e,left:e,right:e,top:e,topLeft:e,topRight:e}},Rnd=function(e){__extends(i,e);function i(a){var s=e.call(this,a)||this;return s.resizingPosition={x:0,y:0},s.offsetFromParent={left:0,top:0},s.resizableElement={current:null},s.originalPosition={x:0,y:0},s.refDraggable=function(o){!o||(s.draggable=o)},s.refResizable=function(o){!o||(s.resizable=o,s.resizableElement.current=o.resizable)},s.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:a.maxWidth,maxHeight:a.maxHeight},s.onResizeStart=s.onResizeStart.bind(s),s.onResize=s.onResize.bind(s),s.onResizeStop=s.onResizeStop.bind(s),s.onDragStart=s.onDragStart.bind(s),s.onDrag=s.onDrag.bind(s),s.onDragStop=s.onDragStop.bind(s),s.getMaxSizesFromProps=s.getMaxSizesFromProps.bind(s),s}return i.prototype.componentDidMount=function(){this.updateOffsetFromParent();var a=this.offsetFromParent,s=a.left,o=a.top,c=this.getDraggablePosition(),f=c.x,d=c.y;this.draggable.setState({x:f-s,y:d-o}),this.forceUpdate()},i.prototype.getDraggablePosition=function(){var a=this.draggable.state,s=a.x,o=a.y;return{x:s,y:o}},i.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},i.prototype.getParentSize=function(){return this.resizable.getParentSize()},i.prototype.getMaxSizesFromProps=function(){var a=typeof this.props.maxWidth=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,s=typeof this.props.maxHeight=="undefined"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:a,maxHeight:s}},i.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},i.prototype.getOffsetHeight=function(a){var s=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/s;case"body":return document.body.offsetHeight/s;default:return a.offsetHeight}},i.prototype.getOffsetWidth=function(a){var s=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/s;case"body":return document.body.offsetWidth/s;default:return a.offsetWidth}},i.prototype.onDragStart=function(a,s){this.props.onDragStart&&this.props.onDragStart(a,s);var o=this.getDraggablePosition();if(this.originalPosition=o,!!this.props.bounds){var c=this.getParent(),f=this.props.scale,d;if(this.props.bounds==="parent")d=c;else if(this.props.bounds==="body"){var j=c.getBoundingClientRect(),b=j.left,_e=j.top,pt=document.body.getBoundingClientRect(),et=-(b-c.offsetLeft*f-pt.left)/f,nt=-(_e-c.offsetTop*f-pt.top)/f,at=(document.body.offsetWidth-this.resizable.size.width*f)/f+et,it=(document.body.offsetHeight-this.resizable.size.height*f)/f+nt;return this.setState({bounds:{top:nt,right:at,bottom:it,left:et}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var rt=c.getBoundingClientRect(),ut=rt.left,_=rt.top,tt=-(ut-c.offsetLeft*f)/f,$=-(_-c.offsetTop*f)/f,at=(window.innerWidth-this.resizable.size.width*f)/f+tt,it=(window.innerHeight-this.resizable.size.height*f)/f+$;return this.setState({bounds:{top:$,right:at,bottom:it,left:tt}})}else d=document.querySelector(this.props.bounds);if(!(!(d instanceof HTMLElement)||!(c instanceof HTMLElement))){var g=d.getBoundingClientRect(),k=g.left,ot=g.top,ct=c.getBoundingClientRect(),dt=ct.left,ft=ct.top,bt=(k-dt)/f,Mt=ot-ft;if(!!this.resizable){this.updateOffsetFromParent();var _t=this.offsetFromParent;this.setState({bounds:{top:Mt-_t.top,right:bt+(d.offsetWidth-this.resizable.size.width)-_t.left/f,bottom:Mt+(d.offsetHeight-this.resizable.size.height)-_t.top,left:bt-_t.left/f}})}}}},i.prototype.onDrag=function(a,s){if(!!this.props.onDrag){var o=this.offsetFromParent,c=o.left,f=o.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(a,__assign(__assign({},s),{x:s.x-c,y:s.y-f}));if(this.props.dragAxis==="x")return this.props.onDrag(a,__assign(__assign({},s),{x:s.x+c,y:this.originalPosition.y+f,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(a,__assign(__assign({},s),{x:this.originalPosition.x+c,y:s.y+f,deltaX:0}))}},i.prototype.onDragStop=function(a,s){if(!!this.props.onDragStop){var o=this.offsetFromParent,c=o.left,f=o.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(a,__assign(__assign({},s),{x:s.x+c,y:s.y+f}));if(this.props.dragAxis==="x")return this.props.onDragStop(a,__assign(__assign({},s),{x:s.x+c,y:this.originalPosition.y+f,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(a,__assign(__assign({},s),{x:this.originalPosition.x+c,y:s.y+f,deltaX:0}))}},i.prototype.onResizeStart=function(a,s,o){a.stopPropagation(),this.setState({resizing:!0});var c=this.props.scale,f=this.offsetFromParent,d=this.getDraggablePosition();if(this.resizingPosition={x:d.x+f.left,y:d.y+f.top},this.originalPosition=d,this.props.bounds){var j=this.getParent(),b=void 0;this.props.bounds==="parent"?b=j:this.props.bounds==="body"?b=document.body:this.props.bounds==="window"?b=window:b=document.querySelector(this.props.bounds);var _e=this.getSelfElement();if(_e instanceof Element&&(b instanceof HTMLElement||b===window)&&j instanceof HTMLElement){var pt=this.getMaxSizesFromProps(),et=pt.maxWidth,nt=pt.maxHeight,at=this.getParentSize();if(et&&typeof et=="string")if(et.endsWith("%")){var it=Number(et.replace("%",""))/100;et=at.width*it}else et.endsWith("px")&&(et=Number(et.replace("px","")));if(nt&&typeof nt=="string")if(nt.endsWith("%")){var it=Number(nt.replace("%",""))/100;nt=at.width*it}else nt.endsWith("px")&&(nt=Number(nt.replace("px","")));var rt=_e.getBoundingClientRect(),ut=rt.left,_=rt.top,tt=this.props.bounds==="window"?{left:0,top:0}:b.getBoundingClientRect(),$=tt.left,g=tt.top,k=this.getOffsetWidth(b),ot=this.getOffsetHeight(b),ct=s.toLowerCase().endsWith("left"),dt=s.toLowerCase().endsWith("right"),ft=s.startsWith("top"),bt=s.startsWith("bottom");if((ct||ft)&&this.resizable){var Mt=(ut-$)/c+this.resizable.size.width;this.setState({maxWidth:Mt>Number(et)?et:Mt})}if(dt||this.props.lockAspectRatio&&!ct&&!ft){var Mt=k+($-ut)/c;this.setState({maxWidth:Mt>Number(et)?et:Mt})}if((ft||ct)&&this.resizable){var Mt=(_-g)/c+this.resizable.size.height;this.setState({maxHeight:Mt>Number(nt)?nt:Mt})}if(bt||this.props.lockAspectRatio&&!ft&&!ct){var Mt=ot+(g-_)/c;this.setState({maxHeight:Mt>Number(nt)?nt:Mt})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(a,s,o)},i.prototype.onResize=function(a,s,o,c){var f={x:this.originalPosition.x,y:this.originalPosition.y},d=-c.width,j=-c.height,b=["top","left","topLeft","bottomLeft","topRight"];b.indexOf(s)!==-1&&(s==="bottomLeft"?f.x+=d:(s==="topRight"||(f.x+=d),f.y+=j)),(f.x!==this.draggable.state.x||f.y!==this.draggable.state.y)&&this.draggable.setState(f),this.updateOffsetFromParent();var _e=this.offsetFromParent,pt=this.getDraggablePosition().x+_e.left,et=this.getDraggablePosition().y+_e.top;this.resizingPosition={x:pt,y:et},!!this.props.onResize&&this.props.onResize(a,s,o,c,{x:pt,y:et})},i.prototype.onResizeStop=function(a,s,o,c){this.setState({resizing:!1});var f=this.getMaxSizesFromProps(),d=f.maxWidth,j=f.maxHeight;this.setState({maxWidth:d,maxHeight:j}),this.props.onResizeStop&&this.props.onResizeStop(a,s,o,c,this.resizingPosition)},i.prototype.updateSize=function(a){!this.resizable||this.resizable.updateSize({width:a.width,height:a.height})},i.prototype.updatePosition=function(a){this.draggable.setState(a)},i.prototype.updateOffsetFromParent=function(){var a=this.props.scale,s=this.getParent(),o=this.getSelfElement();if(!s||o===null)return{top:0,left:0};var c=s.getBoundingClientRect(),f=c.left,d=c.top,j=o.getBoundingClientRect(),b=this.getDraggablePosition(),_e=s.scrollLeft,pt=s.scrollTop;this.offsetFromParent={left:j.left-f+_e-b.x*a,top:j.top-d+pt-b.y*a}},i.prototype.render=function(){var a=this.props,s=a.disableDragging,o=a.style,c=a.dragHandleClassName,f=a.position,d=a.onMouseDown,j=a.onMouseUp,b=a.dragAxis,_e=a.dragGrid,pt=a.bounds,et=a.enableUserSelectHack,nt=a.cancel,at=a.children;a.onResizeStart,a.onResize,a.onResizeStop,a.onDragStart,a.onDrag,a.onDragStop;var it=a.resizeHandleStyles,rt=a.resizeHandleClasses,ut=a.resizeHandleComponent,_=a.enableResizing,tt=a.resizeGrid,$=a.resizeHandleWrapperClass,g=a.resizeHandleWrapperStyle,k=a.scale,ot=a.allowAnyClick,ct=__rest(a,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),dt=this.props.default?__assign({},this.props.default):void 0;delete ct.default;var ft=s||c?{cursor:"auto"}:{cursor:"move"},bt=__assign(__assign(__assign({},resizableStyle),ft),o),Mt=this.offsetFromParent,_t=Mt.left,xt=Mt.top,wt;f&&(wt={x:f.x-_t,y:f.y-xt});var At=this.state.resizing?void 0:wt,Et=this.state.resizing?"both":b;return react.exports.createElement(Draggable,{ref:this.refDraggable,handle:c?"."+c:void 0,defaultPosition:dt,onMouseDown:d,onMouseUp:j,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:Et,disabled:s,grid:_e,bounds:pt?this.state.bounds:void 0,position:At,enableUserSelectHack:et,cancel:nt,scale:k,allowAnyClick:ot,nodeRef:this.resizableElement},react.exports.createElement(Resizable,__assign({},ct,{ref:this.refResizable,defaultSize:dt,size:this.props.size,enable:typeof _=="boolean"?getEnableResizingByFlag(_):_,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:bt,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:tt,handleWrapperClass:$,handleWrapperStyle:g,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:it,handleClasses:rt,handleComponent:ut,scale:this.props.scale}),at))},i.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},i}(react.exports.PureComponent);export{React$1 as R,ReactDOM as a,Rnd as b,pdf as c,lodash_debounce as l,pdf_viewer as p,react as r};
